[
  {
    "user_input": "What is the primary goal of climate models?",
    "retrieved_contexts": [
      "[{'id': 1753901956989969, 'score': 0.68024135, 'payload': {'original_id': 'uploads\\\\01v1_Why_climate_data.pdf_chunk_2', 'type': 'pdf', 'content': ' as well as errors stemming from the analytical procedure itself (e.g.calibration of analysis using synthetic data/models).Learning objectives of the Environmental Data module•Growing/important field –with likely career opportunities•Great playground to deliver learning objectives\\nUsing climate models: quantification/forecasting(impacts, adaptation, mitigation)\\nhttps://www.noaa.gov/education/resource-collections/climate/climate-change-impacts\\nUsing climate models: designscenarios(explore policy,', 'source_document': 'uploads\\\\01v1_Why_climate_data.pdf', 'chunk_number': 2}}, {'id': 1753902702944729, 'score': 0.6675248, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_9', 'type': 'pdf', 'content': 'task. It requires understanding the model well and the data well–A trend towards “Observational System Simulation Experiments” (OSSE)–data assimilation (e.g.4DVAR)\\nThe role of observationsin modeling\\nhttp://www.climate.be/textbook/pdf/Chapter_3.pdf\\nModelsvs observations•There are data that are ’just’ observations•There are models that are ‘just’ models•There are models that are ‘assimilated with data’–Often called ‘Reanalysis Products’•(also used in weather forecasting, obviously)–These are mode', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 9}}, {'id': 1753903424509295, 'score': 0.65881324, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_1_md', 'type': 'markdown', 'content': \"---\\n\\n# 01- Introduction to climate data and climate models\\n\\n---\\n\\n<a id='Contents'></a>\\n## Contents\\n- [Lectures](#lectures)\\n- [Question](#question)\\n- [ESMValTool](#ESMValTool)\\n- [Sources of climate data](#climatedata)\\n- [CEDA](#CEDA)\\n- [File formats](#fileformat)\\n- [Metadata](#metadata)\\n- [NetCDF](#NetCDF)\\n- [NCO](#NCO)\\n- [Reanalysis products](#reanalysis)\\n- [Climate services UKCP18](#ukcp18)\\n  \\n## Learning outcomes\\n1. Understand the basics of climate modelling\\n2. Know where to find and how to access climate data (ESGF, CEDA)\\n3. Understand common file formats\\n4. Understand the importance of metadata and understand CF conventions\\n5. Understand the NetCDF file format and know how to read, create and maniputate NetCDF data\\n6. Become familiar with other key tools used to manipulate netCDF data (NCO, CDO)\\n7. Know how to access ERA5 reanalysis products\\n8. Climate Services and UKCP18 and ability to access that data\\n\\n---\\n\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 1}}, {'id': 1753901956917450, 'score': 0.656651, 'payload': {'original_id': 'uploads\\\\01v1_Why_climate_data.pdf_chunk_3', 'type': 'pdf', 'content': ' technology options)\\n\\nUsing climate models: variability(temporal, spatial)\\nImportance of experimental design!Control+ experiment\\nUsing climate models: uncertainties and sensitivities\\nMIP = Model Intercomparison Project\\nEyring et al. 2016\\nUsing climate models: uncertainties and sensitivities\\nhttps://en.wikipedia.org/wiki/Climate_ensembleDifferent experimentswith many ensembles!Each one trying to account for sensitivity due to a source of error Real world data: we only have one Earth, ONE realizat', 'source_document': 'uploads\\\\01v1_Why_climate_data.pdf', 'chunk_number': 3}}, {'id': 1753903424142956, 'score': 0.65292966, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_4_md', 'type': 'markdown', 'content': \"<a id='ESMValTool'></a>\\n\\n# Python environments to consider for working with climate data \\n\\n* ## Earth System Model Evaluation Tool (ESMValTool)\\n![esmvaltool](img/ESMValTool-logo-2.png)\\n\\nThis week, it should be possible to simply install packages as needed...\\n\\nHowever, if you anticipate possible future needs, you may want to invest a bit of effort to setup a specific python environment to work with climate data. If so, a good place to start is the `ESMValTool` project. \\n\\n\\n\\n[ESMValTool](https://docs.esmvaltool.org/projects/esmvalcore/en/latest/index.html) is  a community-led, open source, set of software tools (build on python 3) developed to improve diagnosing and understanding climate models. While the focus has been on climate models, not observations, one cannot quantify model biases without also comparing the model results with observations. [ESMValTool](https://docs.esmvaltool.org/projects/esmvalcore/en/latest/index.html) therefore also has some capability to analyze and manipulate large datasets. \\n\\n[ESMValTool](https://docs.esmvaltool.org/projects/esmvalcore/en/latest/index.html) can work offline, but as the amount of climate data is so large, it is mostly designed to work with data centers that provide local access to the vast amount of data. One such initiative is the Earth System Grid Federation ([ESGF](https://esgf.llnl.gov)). ESMValTool provides functionality to work on HPC systems.\\n\\nWe will not use ESMValTool here specifically, but it will install other convenient tools and you may be curious to investigate ESMValTool capabilities on your own anyways. It is now used routinely for climate modelling research. \\n\\nAdditional information and help can be found at https://www.esmvaltoolorg, and on the [ESMValGroup](https://github.com/ESMValGroup) github page. The [ESMValTool tutorial](https://esmvalgroup.github.io/ESMValTool_Tutorial/) is a great resource to get started. \\n\\n\\n### OPTIONAL: Installing ESMValTool (NB: this often fails for students - installing this is not required for the course)\\n[Installation instructions](https://docs.esmvaltool.org/en/latest/quickstart/installation.html) differ by operating system and it is very much an experimental, in development, tool - keep this in mind! \\n\\n[Notes:ESMValTool 2.0 requires a Unix(-like) operating system and Python 3.7+. (Python 3.7, 3.8 and 3.9 are supported). On my laptop (Macbook pro 13'' M1 2020 with OS Monterey 12.0.1), I installed it in Nov 2021 with Python 3.9.7. ...but I installed it when 'conda' was still an installation option. ESMValTool developer have  changed installation methods to `mamba` recently. Do refer to online/official instructions). You will now be required to also [install `mamba`](https://docs.esmvaltool.org/en/latest/quickstart/installation.html#mamba-installation) first (...yet another package/dependency manager).] \\n\\nESMValTool can also work with Julia, R, NCL. Do check installation instructions for these extensions. \\n\\n[back to contents](##Contents)\\n\\n---\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 4}}, {'id': 1753902702794239, 'score': 0.6518246, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_8', 'type': 'pdf', 'content': 'cool and warm the climateThe microphysics responsible for cloud formation is not well understoodThe grid cells in models are much much bigger than time/space scales relevant for cloud physicsÞMagnitude/location of rain events is hard to predict wellÞThat information is useful though!\\nComparing models with data•What is a data point? Observation vs model result•Are model solutions at a point similar toa data point (i.e.observational sample)?–Spatially?–Temporally?•Using data well is not a trivial ', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 8}}, {'id': 1753902300429530, 'score': 0.6501113, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_6', 'type': 'pdf', 'content': 'ce scales of interest–Integration time step–Spatial resolution of the grid–Duration of model run–Decisions about time/space scales also translate into “filtering” the equations •(parts of the equations can be neglected and the equations simplified –some physics can be neglected/simplified)\\nWhy model climate?\\n\\nWeather and climate –bridging the gap\\n\\n\\nWhat are coupledclimatemodels?\\n\\nA few key major coupling mechanisms between the ocean and the atmosphere\\nThe “coupler” is the heart of climate models', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 6}}, {'id': 1753903424368210, 'score': 0.64651084, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_2_md', 'type': 'markdown', 'content': \"<a id='lectures'></a>\\n# Lecture on relevance of climate science, climate models and climate modelling\\n\\n\\n(see Powerpoint presentations)\\n\\n1. 01v1_Why_climate_data.pptx/pdf\\n2. 02v1_Building_climate_models.pptx/pdf\\n3. 03v1_Common_issues.pptx/pdf\\n   \\n\\n---\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 2}}, {'id': 1753902299806645, 'score': 0.6441667, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_2', 'type': 'pdf', 'content': ' problem under study, etc.\\nWhat does a model need?A very simple numerical exampledCdt=λCCi+1−Citi+1−ti=λCiCi+1=Ci1+λΔt()dCdt=limΔt→0C(t+Δt)−C(t)ΔtRequires discretization of derivativesand numerical integration to step forward from tito tf=NDTForward difference(aka Forward Euler)[climatemodelsusemuchmorecomplex schemes]\\nii+1\\nWhat does a model need?Discretization needed to implement numericallydCdt=λCCi+1−CiΔt=λCi+1Ci+1=λΔtCi+1+CiCi+1=Ci11−λΔtBackward difference(aka backward Euler)Requires solving', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 2}}, {'id': 1753903424262111, 'score': 0.642982, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_38_md', 'type': 'markdown', 'content': \"<a id='reanalysis'></a>\\n\\n# Reanalysis products\\n\\n![C3S](img/c3s-logo.png)\\n![ECMWF](img/logo-ecmwf.png) \\n\\n[*ERA5 provides hourly estimates of a large number of atmospheric, land and oceanic climate variables. The data cover the Earth on a 30km grid and resolve the atmosphere using 137 levels from the surface up to a height of 80km. ERA5 includes information about uncertainties for all variables at reduced spatial and temporal resolutions.Quality-assured monthly updates of ERA5 (1979 to present) are published within 3 months of real time. Preliminary daily updates of the dataset are available to users within 5 days of real time.*](https://www.ecmwf.int/en/forecasts/datasets/reanalysis-datasets/era5)\\n\\n[ERA5](https://confluence.ecmwf.int/display/CKB/ERA5) is a [family of datasets](https://confluence.ecmwf.int/display/CKB/The+family+of+ERA5+datasets). It currently comprises ERA5, ERA5.1 and ERA5-Land. ERA5 is the fifth generation ECMWF atmospheric reanalysis of the global climate covering the period from January 1950 to present. ERA5 is produced by the Copernicus Climate Change Service ([C3S](https://confluence.ecmwf.int/pages/viewpage.action?pageId=151530614)) at the European Center for Medium-Range Weather Forecasts ([ECMWF](https://www.ecmwf.int)) and made available via the [Climate Change Service](https://climate.copernicus.eu). \\n\\nImportantly, ERA5 is a [**reanalysis product**](https://www.youtube.com/watch?v=FAGobvUGl24), meaning a **model that assimilates data**. A model of the climate (weather) is run, and adjusted (following certain laws of physics and constraints) to fit [as many observations](https://confluence.ecmwf.int/display/CKB/ERA5%3A+data+documentation#ERA5:datadocumentation-Observations) as possible using a technique called 4D-var. One must realize that, even if assimimated prodcuts such as ERA5 are often used 'in lieu' of observations, they are **\\\\*not\\\\*** observations: they are a model product, but a product that is made to look as much like the data as possible given computational, mathematical, physical limitations of the model. \\n\\nERA5 is one of various [reanalysis products](https://reanalyses.org) available globally. Another well-known produce is the [NCEP/NCAR Reanalysis product](https://en.wikipedia.org/wiki/NCEP/NCAR_Reanalysis). [MERRA-2](https://gmao.gsfc.nasa.gov/reanalysis/MERRA-2/), produced by NASA, is another. \\n\\nThe article by [Hersbach et al. 2020](https://rmets.onlinelibrary.wiley.com/doi/10.1002/qj.3803) discusses the ERA global Reanalysis prodcuct in more detail.\\n\\nWhile observations are only available in specific locations and at specific times, the reanalysis product provides a clever way to dynamically interpolate between these observations. ERA5 also comes as a gridded product, making it very convenient to use. In the model-world, one can access a complete/global picture every time-step, with a spatial resolution as high as computational limits allow. I re-emphasize that this is not the same as observations! ... but it is as close to observations as we can get if one is trying to work with a spatially and temporall interpolated product. \\n\\n**Grid geometry depends on data format**: Note that the grid geometry of the output data of ERA5 [depends on the format the data that are being downloaded](https://confluence.ecmwf.int/display/CKB/ERA5%3A+What+is+the+spatial+reference). Native GRIB format data are delivered on the model's native grid geometry (this is not a regular lat/lon grid!). On the other hand, data in NetCDF format are automatically interpolated and regridded to a regular lat/lon grid. While this is not very important for most application, one must remember that interpolated data in the NetCDF files are not the same as the original model output and this could have implication for the conservation properties of some variables. It can be easier/convenient to work with data interpolated on a regular lat/lon grid, however.  \\n\\n**Grid definition and wrap-around**: The gridded ERA5 archive is provided on a [-90;+90] latitude grid and a [0;+360] longitude grid, with decimal degrees, referenced to the Greenwich Prime Meridian. While latitude is generally not an issue, care must be taken when working with longitude as one must remember that 0 and 360 are the same point. One must account for the wrap-around issue: although the first column and last column of a datasets on the [0;+360] grid are far away from each other in terms of index, these points are geographically very close. Some software can automatically deal with this wrap-around and convert to [-180;+180] or other system as required, but this should not be taken for granted. \\n\\n\\n[back to contents](#Contents)\\n\\n---\\n\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 38}}]",
      "[{'id': 1753902703503123, 'score': 0.74229085, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_1', 'type': 'pdf', 'content': 'model cannot model the effect of “Z” on climate as “W” has or may have an (unquantified) effect of the “Z” and may effectCO2or T, etc. … therefore climate models are useless\\nSome better propositions1.All models are “wrong” and “incomplete”(modeling with the sole goal of fitting data can be futile)(state-or-the-art models have many free parameters, uniqueness of the fit/solution is not always guaranteed –fit for wrong reason possible)2.Models have the merit of being internally consistent and poss', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 1}}, {'id': 1753902702944729, 'score': 0.7295726, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_9', 'type': 'pdf', 'content': 'task. It requires understanding the model well and the data well–A trend towards “Observational System Simulation Experiments” (OSSE)–data assimilation (e.g.4DVAR)\\nThe role of observationsin modeling\\nhttp://www.climate.be/textbook/pdf/Chapter_3.pdf\\nModelsvs observations•There are data that are ’just’ observations•There are models that are ‘just’ models•There are models that are ‘assimilated with data’–Often called ‘Reanalysis Products’•(also used in weather forecasting, obviously)–These are mode', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 9}}, {'id': 1753901956989969, 'score': 0.7292203, 'payload': {'original_id': 'uploads\\\\01v1_Why_climate_data.pdf_chunk_2', 'type': 'pdf', 'content': ' as well as errors stemming from the analytical procedure itself (e.g.calibration of analysis using synthetic data/models).Learning objectives of the Environmental Data module•Growing/important field –with likely career opportunities•Great playground to deliver learning objectives\\nUsing climate models: quantification/forecasting(impacts, adaptation, mitigation)\\nhttps://www.noaa.gov/education/resource-collections/climate/climate-change-impacts\\nUsing climate models: designscenarios(explore policy,', 'source_document': 'uploads\\\\01v1_Why_climate_data.pdf', 'chunk_number': 2}}, {'id': 1753902300206271, 'score': 0.72179735, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_0', 'type': 'pdf', 'content': 'Climate models –what are they?\\n…and different grids for different parts of the model:atmosphere, ocean, land, ice,…\\n\\nA bit of review: What do we need to make a model?(Any model, not necessarily a climate one)\\nWhat does a model need?A very simple analytical exampledCdt=λRequires equations (hypotheses about underlying physics)\\nWhat does a model need?A very simple analytical exampledCdt=λdCCoCf∫=λdttotf∫Cf=λtf−to()−CoRequires initial &boundary conditionsRequires equations (hypotheses about underlyi', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 0}}, {'id': 1753902300429530, 'score': 0.721707, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_6', 'type': 'pdf', 'content': 'ce scales of interest–Integration time step–Spatial resolution of the grid–Duration of model run–Decisions about time/space scales also translate into “filtering” the equations •(parts of the equations can be neglected and the equations simplified –some physics can be neglected/simplified)\\nWhy model climate?\\n\\nWeather and climate –bridging the gap\\n\\n\\nWhat are coupledclimatemodels?\\n\\nA few key major coupling mechanisms between the ocean and the atmosphere\\nThe “coupler” is the heart of climate models', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 6}}, {'id': 1753903424509295, 'score': 0.7210401, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_1_md', 'type': 'markdown', 'content': \"---\\n\\n# 01- Introduction to climate data and climate models\\n\\n---\\n\\n<a id='Contents'></a>\\n## Contents\\n- [Lectures](#lectures)\\n- [Question](#question)\\n- [ESMValTool](#ESMValTool)\\n- [Sources of climate data](#climatedata)\\n- [CEDA](#CEDA)\\n- [File formats](#fileformat)\\n- [Metadata](#metadata)\\n- [NetCDF](#NetCDF)\\n- [NCO](#NCO)\\n- [Reanalysis products](#reanalysis)\\n- [Climate services UKCP18](#ukcp18)\\n  \\n## Learning outcomes\\n1. Understand the basics of climate modelling\\n2. Know where to find and how to access climate data (ESGF, CEDA)\\n3. Understand common file formats\\n4. Understand the importance of metadata and understand CF conventions\\n5. Understand the NetCDF file format and know how to read, create and maniputate NetCDF data\\n6. Become familiar with other key tools used to manipulate netCDF data (NCO, CDO)\\n7. Know how to access ERA5 reanalysis products\\n8. Climate Services and UKCP18 and ability to access that data\\n\\n---\\n\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 1}}, {'id': 1753902702922525, 'score': 0.71885014, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_0', 'type': 'pdf', 'content': 'Are climate models any good or useful at all?\\nhttps://www.gfdl.noaa.gov/visualizations-hurricanes/\\nData or model?\\nCommon misconceptions about modeling1.The goal of modeling is to reproduce data2.If a model doesn’t fit the data, the model is useless (…and modeler also)3.Since modelers don’t measure anything, they don’t know anything about data or care about them4.Measurement(s) of “X” can be used to better constrain climate models5.Process “W” is not explicitly implemented in the model,hence the ', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 0}}, {'id': 1753901956917450, 'score': 0.7148227, 'payload': {'original_id': 'uploads\\\\01v1_Why_climate_data.pdf_chunk_3', 'type': 'pdf', 'content': ' technology options)\\n\\nUsing climate models: variability(temporal, spatial)\\nImportance of experimental design!Control+ experiment\\nUsing climate models: uncertainties and sensitivities\\nMIP = Model Intercomparison Project\\nEyring et al. 2016\\nUsing climate models: uncertainties and sensitivities\\nhttps://en.wikipedia.org/wiki/Climate_ensembleDifferent experimentswith many ensembles!Each one trying to account for sensitivity due to a source of error Real world data: we only have one Earth, ONE realizat', 'source_document': 'uploads\\\\01v1_Why_climate_data.pdf', 'chunk_number': 3}}, {'id': 1753902299806645, 'score': 0.71132714, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_2', 'type': 'pdf', 'content': ' problem under study, etc.\\nWhat does a model need?A very simple numerical exampledCdt=λCCi+1−Citi+1−ti=λCiCi+1=Ci1+λΔt()dCdt=limΔt→0C(t+Δt)−C(t)ΔtRequires discretization of derivativesand numerical integration to step forward from tito tf=NDTForward difference(aka Forward Euler)[climatemodelsusemuchmorecomplex schemes]\\nii+1\\nWhat does a model need?Discretization needed to implement numericallydCdt=λCCi+1−CiΔt=λCi+1Ci+1=λΔtCi+1+CiCi+1=Ci11−λΔtBackward difference(aka backward Euler)Requires solving', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 2}}, {'id': 1753902702794239, 'score': 0.70666474, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_8', 'type': 'pdf', 'content': 'cool and warm the climateThe microphysics responsible for cloud formation is not well understoodThe grid cells in models are much much bigger than time/space scales relevant for cloud physicsÞMagnitude/location of rain events is hard to predict wellÞThat information is useful though!\\nComparing models with data•What is a data point? Observation vs model result•Are model solutions at a point similar toa data point (i.e.observational sample)?–Spatially?–Temporally?•Using data well is not a trivial ', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 8}}]",
      "[{'id': 1753902300429530, 'score': 0.71422994, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_6', 'type': 'pdf', 'content': 'ce scales of interest–Integration time step–Spatial resolution of the grid–Duration of model run–Decisions about time/space scales also translate into “filtering” the equations •(parts of the equations can be neglected and the equations simplified –some physics can be neglected/simplified)\\nWhy model climate?\\n\\nWeather and climate –bridging the gap\\n\\n\\nWhat are coupledclimatemodels?\\n\\nA few key major coupling mechanisms between the ocean and the atmosphere\\nThe “coupler” is the heart of climate models', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 6}}, {'id': 1753902702944729, 'score': 0.70567405, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_9', 'type': 'pdf', 'content': 'task. It requires understanding the model well and the data well–A trend towards “Observational System Simulation Experiments” (OSSE)–data assimilation (e.g.4DVAR)\\nThe role of observationsin modeling\\nhttp://www.climate.be/textbook/pdf/Chapter_3.pdf\\nModelsvs observations•There are data that are ’just’ observations•There are models that are ‘just’ models•There are models that are ‘assimilated with data’–Often called ‘Reanalysis Products’•(also used in weather forecasting, obviously)–These are mode', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 9}}, {'id': 1753903424509295, 'score': 0.70532256, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_1_md', 'type': 'markdown', 'content': \"---\\n\\n# 01- Introduction to climate data and climate models\\n\\n---\\n\\n<a id='Contents'></a>\\n## Contents\\n- [Lectures](#lectures)\\n- [Question](#question)\\n- [ESMValTool](#ESMValTool)\\n- [Sources of climate data](#climatedata)\\n- [CEDA](#CEDA)\\n- [File formats](#fileformat)\\n- [Metadata](#metadata)\\n- [NetCDF](#NetCDF)\\n- [NCO](#NCO)\\n- [Reanalysis products](#reanalysis)\\n- [Climate services UKCP18](#ukcp18)\\n  \\n## Learning outcomes\\n1. Understand the basics of climate modelling\\n2. Know where to find and how to access climate data (ESGF, CEDA)\\n3. Understand common file formats\\n4. Understand the importance of metadata and understand CF conventions\\n5. Understand the NetCDF file format and know how to read, create and maniputate NetCDF data\\n6. Become familiar with other key tools used to manipulate netCDF data (NCO, CDO)\\n7. Know how to access ERA5 reanalysis products\\n8. Climate Services and UKCP18 and ability to access that data\\n\\n---\\n\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 1}}, {'id': 1753902300206271, 'score': 0.6948854, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_0', 'type': 'pdf', 'content': 'Climate models –what are they?\\n…and different grids for different parts of the model:atmosphere, ocean, land, ice,…\\n\\nA bit of review: What do we need to make a model?(Any model, not necessarily a climate one)\\nWhat does a model need?A very simple analytical exampledCdt=λRequires equations (hypotheses about underlying physics)\\nWhat does a model need?A very simple analytical exampledCdt=λdCCoCf∫=λdttotf∫Cf=λtf−to()−CoRequires initial &boundary conditionsRequires equations (hypotheses about underlyi', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 0}}, {'id': 1753902703503123, 'score': 0.6877335, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_1', 'type': 'pdf', 'content': 'model cannot model the effect of “Z” on climate as “W” has or may have an (unquantified) effect of the “Z” and may effectCO2or T, etc. … therefore climate models are useless\\nSome better propositions1.All models are “wrong” and “incomplete”(modeling with the sole goal of fitting data can be futile)(state-or-the-art models have many free parameters, uniqueness of the fit/solution is not always guaranteed –fit for wrong reason possible)2.Models have the merit of being internally consistent and poss', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 1}}, {'id': 1753901956917450, 'score': 0.6862191, 'payload': {'original_id': 'uploads\\\\01v1_Why_climate_data.pdf_chunk_3', 'type': 'pdf', 'content': ' technology options)\\n\\nUsing climate models: variability(temporal, spatial)\\nImportance of experimental design!Control+ experiment\\nUsing climate models: uncertainties and sensitivities\\nMIP = Model Intercomparison Project\\nEyring et al. 2016\\nUsing climate models: uncertainties and sensitivities\\nhttps://en.wikipedia.org/wiki/Climate_ensembleDifferent experimentswith many ensembles!Each one trying to account for sensitivity due to a source of error Real world data: we only have one Earth, ONE realizat', 'source_document': 'uploads\\\\01v1_Why_climate_data.pdf', 'chunk_number': 3}}, {'id': 1753902299806645, 'score': 0.6823068, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_2', 'type': 'pdf', 'content': ' problem under study, etc.\\nWhat does a model need?A very simple numerical exampledCdt=λCCi+1−Citi+1−ti=λCiCi+1=Ci1+λΔt()dCdt=limΔt→0C(t+Δt)−C(t)ΔtRequires discretization of derivativesand numerical integration to step forward from tito tf=NDTForward difference(aka Forward Euler)[climatemodelsusemuchmorecomplex schemes]\\nii+1\\nWhat does a model need?Discretization needed to implement numericallydCdt=λCCi+1−CiΔt=λCi+1Ci+1=λΔtCi+1+CiCi+1=Ci11−λΔtBackward difference(aka backward Euler)Requires solving', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 2}}, {'id': 1753902702794239, 'score': 0.6795707, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_8', 'type': 'pdf', 'content': 'cool and warm the climateThe microphysics responsible for cloud formation is not well understoodThe grid cells in models are much much bigger than time/space scales relevant for cloud physicsÞMagnitude/location of rain events is hard to predict wellÞThat information is useful though!\\nComparing models with data•What is a data point? Observation vs model result•Are model solutions at a point similar toa data point (i.e.observational sample)?–Spatially?–Temporally?•Using data well is not a trivial ', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 8}}, {'id': 1753903424368210, 'score': 0.6789636, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_2_md', 'type': 'markdown', 'content': \"<a id='lectures'></a>\\n# Lecture on relevance of climate science, climate models and climate modelling\\n\\n\\n(see Powerpoint presentations)\\n\\n1. 01v1_Why_climate_data.pptx/pdf\\n2. 02v1_Building_climate_models.pptx/pdf\\n3. 03v1_Common_issues.pptx/pdf\\n   \\n\\n---\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 2}}, {'id': 1753902702922525, 'score': 0.6769295, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_0', 'type': 'pdf', 'content': 'Are climate models any good or useful at all?\\nhttps://www.gfdl.noaa.gov/visualizations-hurricanes/\\nData or model?\\nCommon misconceptions about modeling1.The goal of modeling is to reproduce data2.If a model doesn’t fit the data, the model is useless (…and modeler also)3.Since modelers don’t measure anything, they don’t know anything about data or care about them4.Measurement(s) of “X” can be used to better constrain climate models5.Process “W” is not explicitly implemented in the model,hence the ', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 0}}]",
      "[{'id': 1753902300429530, 'score': 0.74412555, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_6', 'type': 'pdf', 'content': 'ce scales of interest–Integration time step–Spatial resolution of the grid–Duration of model run–Decisions about time/space scales also translate into “filtering” the equations •(parts of the equations can be neglected and the equations simplified –some physics can be neglected/simplified)\\nWhy model climate?\\n\\nWeather and climate –bridging the gap\\n\\n\\nWhat are coupledclimatemodels?\\n\\nA few key major coupling mechanisms between the ocean and the atmosphere\\nThe “coupler” is the heart of climate models', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 6}}, {'id': 1753901956917450, 'score': 0.73580843, 'payload': {'original_id': 'uploads\\\\01v1_Why_climate_data.pdf_chunk_3', 'type': 'pdf', 'content': ' technology options)\\n\\nUsing climate models: variability(temporal, spatial)\\nImportance of experimental design!Control+ experiment\\nUsing climate models: uncertainties and sensitivities\\nMIP = Model Intercomparison Project\\nEyring et al. 2016\\nUsing climate models: uncertainties and sensitivities\\nhttps://en.wikipedia.org/wiki/Climate_ensembleDifferent experimentswith many ensembles!Each one trying to account for sensitivity due to a source of error Real world data: we only have one Earth, ONE realizat', 'source_document': 'uploads\\\\01v1_Why_climate_data.pdf', 'chunk_number': 3}}, {'id': 1753902300206271, 'score': 0.735741, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_0', 'type': 'pdf', 'content': 'Climate models –what are they?\\n…and different grids for different parts of the model:atmosphere, ocean, land, ice,…\\n\\nA bit of review: What do we need to make a model?(Any model, not necessarily a climate one)\\nWhat does a model need?A very simple analytical exampledCdt=λRequires equations (hypotheses about underlying physics)\\nWhat does a model need?A very simple analytical exampledCdt=λdCCoCf∫=λdttotf∫Cf=λtf−to()−CoRequires initial &boundary conditionsRequires equations (hypotheses about underlyi', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 0}}, {'id': 1753902702922525, 'score': 0.726613, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_0', 'type': 'pdf', 'content': 'Are climate models any good or useful at all?\\nhttps://www.gfdl.noaa.gov/visualizations-hurricanes/\\nData or model?\\nCommon misconceptions about modeling1.The goal of modeling is to reproduce data2.If a model doesn’t fit the data, the model is useless (…and modeler also)3.Since modelers don’t measure anything, they don’t know anything about data or care about them4.Measurement(s) of “X” can be used to better constrain climate models5.Process “W” is not explicitly implemented in the model,hence the ', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 0}}, {'id': 1753902703503123, 'score': 0.7213907, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_1', 'type': 'pdf', 'content': 'model cannot model the effect of “Z” on climate as “W” has or may have an (unquantified) effect of the “Z” and may effectCO2or T, etc. … therefore climate models are useless\\nSome better propositions1.All models are “wrong” and “incomplete”(modeling with the sole goal of fitting data can be futile)(state-or-the-art models have many free parameters, uniqueness of the fit/solution is not always guaranteed –fit for wrong reason possible)2.Models have the merit of being internally consistent and poss', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 1}}, {'id': 1753902702944729, 'score': 0.7184872, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_9', 'type': 'pdf', 'content': 'task. It requires understanding the model well and the data well–A trend towards “Observational System Simulation Experiments” (OSSE)–data assimilation (e.g.4DVAR)\\nThe role of observationsin modeling\\nhttp://www.climate.be/textbook/pdf/Chapter_3.pdf\\nModelsvs observations•There are data that are ’just’ observations•There are models that are ‘just’ models•There are models that are ‘assimilated with data’–Often called ‘Reanalysis Products’•(also used in weather forecasting, obviously)–These are mode', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 9}}, {'id': 1753902299806645, 'score': 0.71195513, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_2', 'type': 'pdf', 'content': ' problem under study, etc.\\nWhat does a model need?A very simple numerical exampledCdt=λCCi+1−Citi+1−ti=λCiCi+1=Ci1+λΔt()dCdt=limΔt→0C(t+Δt)−C(t)ΔtRequires discretization of derivativesand numerical integration to step forward from tito tf=NDTForward difference(aka Forward Euler)[climatemodelsusemuchmorecomplex schemes]\\nii+1\\nWhat does a model need?Discretization needed to implement numericallydCdt=λCCi+1−CiΔt=λCi+1Ci+1=λΔtCi+1+CiCi+1=Ci11−λΔtBackward difference(aka backward Euler)Requires solving', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 2}}, {'id': 1753903424142956, 'score': 0.7024226, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_4_md', 'type': 'markdown', 'content': \"<a id='ESMValTool'></a>\\n\\n# Python environments to consider for working with climate data \\n\\n* ## Earth System Model Evaluation Tool (ESMValTool)\\n![esmvaltool](img/ESMValTool-logo-2.png)\\n\\nThis week, it should be possible to simply install packages as needed...\\n\\nHowever, if you anticipate possible future needs, you may want to invest a bit of effort to setup a specific python environment to work with climate data. If so, a good place to start is the `ESMValTool` project. \\n\\n\\n\\n[ESMValTool](https://docs.esmvaltool.org/projects/esmvalcore/en/latest/index.html) is  a community-led, open source, set of software tools (build on python 3) developed to improve diagnosing and understanding climate models. While the focus has been on climate models, not observations, one cannot quantify model biases without also comparing the model results with observations. [ESMValTool](https://docs.esmvaltool.org/projects/esmvalcore/en/latest/index.html) therefore also has some capability to analyze and manipulate large datasets. \\n\\n[ESMValTool](https://docs.esmvaltool.org/projects/esmvalcore/en/latest/index.html) can work offline, but as the amount of climate data is so large, it is mostly designed to work with data centers that provide local access to the vast amount of data. One such initiative is the Earth System Grid Federation ([ESGF](https://esgf.llnl.gov)). ESMValTool provides functionality to work on HPC systems.\\n\\nWe will not use ESMValTool here specifically, but it will install other convenient tools and you may be curious to investigate ESMValTool capabilities on your own anyways. It is now used routinely for climate modelling research. \\n\\nAdditional information and help can be found at https://www.esmvaltoolorg, and on the [ESMValGroup](https://github.com/ESMValGroup) github page. The [ESMValTool tutorial](https://esmvalgroup.github.io/ESMValTool_Tutorial/) is a great resource to get started. \\n\\n\\n### OPTIONAL: Installing ESMValTool (NB: this often fails for students - installing this is not required for the course)\\n[Installation instructions](https://docs.esmvaltool.org/en/latest/quickstart/installation.html) differ by operating system and it is very much an experimental, in development, tool - keep this in mind! \\n\\n[Notes:ESMValTool 2.0 requires a Unix(-like) operating system and Python 3.7+. (Python 3.7, 3.8 and 3.9 are supported). On my laptop (Macbook pro 13'' M1 2020 with OS Monterey 12.0.1), I installed it in Nov 2021 with Python 3.9.7. ...but I installed it when 'conda' was still an installation option. ESMValTool developer have  changed installation methods to `mamba` recently. Do refer to online/official instructions). You will now be required to also [install `mamba`](https://docs.esmvaltool.org/en/latest/quickstart/installation.html#mamba-installation) first (...yet another package/dependency manager).] \\n\\nESMValTool can also work with Julia, R, NCL. Do check installation instructions for these extensions. \\n\\n[back to contents](##Contents)\\n\\n---\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 4}}, {'id': 1753903424368210, 'score': 0.7018291, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_2_md', 'type': 'markdown', 'content': \"<a id='lectures'></a>\\n# Lecture on relevance of climate science, climate models and climate modelling\\n\\n\\n(see Powerpoint presentations)\\n\\n1. 01v1_Why_climate_data.pptx/pdf\\n2. 02v1_Building_climate_models.pptx/pdf\\n3. 03v1_Common_issues.pptx/pdf\\n   \\n\\n---\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 2}}, {'id': 1753903424509295, 'score': 0.7003118, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_1_md', 'type': 'markdown', 'content': \"---\\n\\n# 01- Introduction to climate data and climate models\\n\\n---\\n\\n<a id='Contents'></a>\\n## Contents\\n- [Lectures](#lectures)\\n- [Question](#question)\\n- [ESMValTool](#ESMValTool)\\n- [Sources of climate data](#climatedata)\\n- [CEDA](#CEDA)\\n- [File formats](#fileformat)\\n- [Metadata](#metadata)\\n- [NetCDF](#NetCDF)\\n- [NCO](#NCO)\\n- [Reanalysis products](#reanalysis)\\n- [Climate services UKCP18](#ukcp18)\\n  \\n## Learning outcomes\\n1. Understand the basics of climate modelling\\n2. Know where to find and how to access climate data (ESGF, CEDA)\\n3. Understand common file formats\\n4. Understand the importance of metadata and understand CF conventions\\n5. Understand the NetCDF file format and know how to read, create and maniputate NetCDF data\\n6. Become familiar with other key tools used to manipulate netCDF data (NCO, CDO)\\n7. Know how to access ERA5 reanalysis products\\n8. Climate Services and UKCP18 and ability to access that data\\n\\n---\\n\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 1}}]",
      "[{'id': 1753903424509295, 'score': 0.6225382, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_1_md', 'type': 'markdown', 'content': \"---\\n\\n# 01- Introduction to climate data and climate models\\n\\n---\\n\\n<a id='Contents'></a>\\n## Contents\\n- [Lectures](#lectures)\\n- [Question](#question)\\n- [ESMValTool](#ESMValTool)\\n- [Sources of climate data](#climatedata)\\n- [CEDA](#CEDA)\\n- [File formats](#fileformat)\\n- [Metadata](#metadata)\\n- [NetCDF](#NetCDF)\\n- [NCO](#NCO)\\n- [Reanalysis products](#reanalysis)\\n- [Climate services UKCP18](#ukcp18)\\n  \\n## Learning outcomes\\n1. Understand the basics of climate modelling\\n2. Know where to find and how to access climate data (ESGF, CEDA)\\n3. Understand common file formats\\n4. Understand the importance of metadata and understand CF conventions\\n5. Understand the NetCDF file format and know how to read, create and maniputate NetCDF data\\n6. Become familiar with other key tools used to manipulate netCDF data (NCO, CDO)\\n7. Know how to access ERA5 reanalysis products\\n8. Climate Services and UKCP18 and ability to access that data\\n\\n---\\n\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 1}}, {'id': 1753901956989969, 'score': 0.61845714, 'payload': {'original_id': 'uploads\\\\01v1_Why_climate_data.pdf_chunk_2', 'type': 'pdf', 'content': ' as well as errors stemming from the analytical procedure itself (e.g.calibration of analysis using synthetic data/models).Learning objectives of the Environmental Data module•Growing/important field –with likely career opportunities•Great playground to deliver learning objectives\\nUsing climate models: quantification/forecasting(impacts, adaptation, mitigation)\\nhttps://www.noaa.gov/education/resource-collections/climate/climate-change-impacts\\nUsing climate models: designscenarios(explore policy,', 'source_document': 'uploads\\\\01v1_Why_climate_data.pdf', 'chunk_number': 2}}, {'id': 1753903424243022, 'score': 0.6182134, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_10_md', 'type': 'markdown', 'content': \" * ### The Climate and Forecast (CF) Metadata Conventions (prominent in climate science)\\n \\nGiven the amount of data produced keeps increasing, data libraries are being developed. As in any library, certain sets of rules are required so that the data can be found later. Metadata are obviously a good way to ensure data can be catalogued and found by various search systems.\\n\\nMultiple types of conventions exist (see for example this [list of netCDF conventions from Unidata](https://www.unidata.ucar.edu/software/netcdf/conventions.html)). Ensuring that data files are produced in a way that follows conventions about content, vocabulary used and layout, allows for batch processing, easy extraction and automation! It is extremely useful (but should not prevent innovation).\\n\\nCEDA, as it focuses on climate and environmental data, relies extensively on the [Climate and Forecast (CF) Conventions](http://cfconventions.org). The CF Conventions are probably the most popular in climate science (it underpins the modelling effort of the IPCC). A detailed description of the latest release of the CF Conventions for netCDF can be found [here](http://cfconventions.org/Data/cf-conventions/cf-conventions-1.9/cf-conventions.html). \\n\\nThe CF Conventions were designed specifically for the netCDF format but they can be applied widely. The netCDF format enables creation of self-describing datasets by design. CF Conventions aim to ensure that  files contain sufficient metadata that they are self-describing in the sense that each variable in the file has an associated description of what it represents, including physical units if appropriate, and that each value can be located in space (relative to earth-based coordinates) and time. (Absence of such information in early (historical) datasets has hindered climate change science for decades - how does one measure change, if one cannot locate the observations in time and space?)\\n\\nOne example of CF Conventions is to provide a list of **standard_names** for certain commonly-used variables. The [CF standard name table] (http://cfconventions.org/Data/cf-standard-names/current/build/cf-standard-name-table.html) will show what the names are and describe what they represent. \\n\\nTo illustrate, imagine you work with data at the earth surface and label your variable 'temperature'. What did you mean exactly? Surface temperature of the ocean/land, or air temperature? etc. CF conventions ensure that climate scientists name common variables in the same way. \\n\\nA [python package](https://pypi.org/project/cfunits/) called `cfunits` provides an interface to the CF Convention. This is useful to combine and compare variables and convert various units. By relying on a package, fewer user-errors are made.   \\n\\nThe CF Conventions are not fixed, they are evolving depending on needs and scientific progress. Although conventions are decided by a committee of experts, anyone can propose a change to the convention by engaging in the [discussion forum](https://cfconventions.org/discussion.html).\\n\\n\\n[back to contents](#Contents)\\n\\n---\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 10}}, {'id': 1753903424368210, 'score': 0.61335456, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_2_md', 'type': 'markdown', 'content': \"<a id='lectures'></a>\\n# Lecture on relevance of climate science, climate models and climate modelling\\n\\n\\n(see Powerpoint presentations)\\n\\n1. 01v1_Why_climate_data.pptx/pdf\\n2. 02v1_Building_climate_models.pptx/pdf\\n3. 03v1_Common_issues.pptx/pdf\\n   \\n\\n---\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 2}}, {'id': 1753902300206271, 'score': 0.6112826, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_0', 'type': 'pdf', 'content': 'Climate models –what are they?\\n…and different grids for different parts of the model:atmosphere, ocean, land, ice,…\\n\\nA bit of review: What do we need to make a model?(Any model, not necessarily a climate one)\\nWhat does a model need?A very simple analytical exampledCdt=λRequires equations (hypotheses about underlying physics)\\nWhat does a model need?A very simple analytical exampledCdt=λdCCoCf∫=λdttotf∫Cf=λtf−to()−CoRequires initial &boundary conditionsRequires equations (hypotheses about underlyi', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 0}}, {'id': 1753903424623019, 'score': 0.60906506, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_37_md', 'type': 'markdown', 'content': \"### Climate Data Operators (CDO)\\nThe Climate Data Operators ([CDO](https://code.mpimet.mpg.de/projects/cdo)) software is a collection of >600 operators for standard processing of climate and forecast model data. They are slighly less memory/speed efficient than NCO, but they do more (>600 vs 12!). CDO support the main data formats used in the field, such as GRIB and netCDF. \\n\\nThey too can be daisy-chained for specific applications. There are [many recipes available](https://code.mpimet.mpg.de/projects/cdo/embedded/cdo_eca.pdf) to calculate various climate indices and diagnostics, what makes them very attractive to evaluate gridded climate data or climate model output.\\n\\nThe [CDO user guide](https://code.mpimet.mpg.de/projects/cdo/embedded/index.html) provides details instructions and examples. \\n\\n[They are also very useful, but we don't have time to discuss them in detail here. You are encouraged to practice with CDO on your own time]\\n\\n[back to contents](#Contents)\\n\\n---\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 37}}, {'id': 1753901957273136, 'score': 0.6085086, 'payload': {'original_id': 'uploads\\\\01v1_Why_climate_data.pdf_chunk_6', 'type': 'pdf', 'content': 'now –probably lots of good opportunities in that sector!\\n\\nhttps://www.nature.com/articles/s41558-020-00984-6Fiedler et al. 2021 advocate for a reorganization of climate science highlighting the need for climate projection to be professionalized as an operational service (b)Climate services\\ni.e.the way the field of climate science works will evolve in the next few years\\n', 'source_document': 'uploads\\\\01v1_Why_climate_data.pdf', 'chunk_number': 6}}, {'id': 1753901956781118, 'score': 0.6074642, 'payload': {'original_id': 'uploads\\\\01v1_Why_climate_data.pdf_chunk_5', 'type': 'pdf', 'content': 'umans•Infrastructures•Agriculture•Biodiversity•Landscape•GDP•Administration•Policy•…\\nThe business (and opportunities) of climate\\nhttps://www.metoffice.gov.uk\\nhttps://cervest.earth\\nhttps://www.spglobal.com/marketintelligence/en/campaigns/esg-analysis\\nhttps://www.ukclimaterisk.org\\nhttps://www.ibm.com/uk-en/products/environmental-intelligence-suitehttps://www.rms.com/climate-change\\nBusiness riskand climate analyticshttps://www.nature.com/articles/s41558-020-00984-6… an emerging field! Get involved ', 'source_document': 'uploads\\\\01v1_Why_climate_data.pdf', 'chunk_number': 5}}, {'id': 1753903424357433, 'score': 0.6070689, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_5_md', 'type': 'markdown', 'content': \"<a id='climatedata'></a>\\n\\n# Working with climate data and climate models\\n\\n### Earth System Grid Federation (ESGF)\\n\\n![esgf](img/ESGF_logo.png)\\n\\n\\n[ESGF](https://esgf.llnl.gov) is an open-source platform that provides distributed access to peta/exa-scale scientific data, **globally**. \\n\\nIt is an interagency and international effort led by the US Department of Energy (DOE), co-funded by National Aeronautics and Space Administration (NASA), National Oceanic and Atmospheric Administration (NOAA), the US National Science Foundation (NSF), and other international partners, such as the Max Planck Institute for Meteorology (MPI-M) German Climate Computing Centre (DKRZ), the Australian National University (ANU) National Computational Infrastructure (NCI), Institut Pierre-Simon Laplace (IPSL), and the **Centre for Environmental Data Analysis ([CEDA](https://www.ceda.ac.uk))** in the UK.\\n\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 5}}, {'id': 1753901956917450, 'score': 0.60696936, 'payload': {'original_id': 'uploads\\\\01v1_Why_climate_data.pdf_chunk_3', 'type': 'pdf', 'content': ' technology options)\\n\\nUsing climate models: variability(temporal, spatial)\\nImportance of experimental design!Control+ experiment\\nUsing climate models: uncertainties and sensitivities\\nMIP = Model Intercomparison Project\\nEyring et al. 2016\\nUsing climate models: uncertainties and sensitivities\\nhttps://en.wikipedia.org/wiki/Climate_ensembleDifferent experimentswith many ensembles!Each one trying to account for sensitivity due to a source of error Real world data: we only have one Earth, ONE realizat', 'source_document': 'uploads\\\\01v1_Why_climate_data.pdf', 'chunk_number': 3}}]"
    ],
    "response": "It seems you've provided a mix of documents and code snippets related to climate science, modeling, and data processing. Based on your query, here's an organized summary and some suggestions for further exploration:\n\n   - If you're working with multi-variable datasets or handling large-scale climate data, using libraries like `xarray` (e.g., in the code snippets provided) can be very helpful.\n   - Example code snippet from a previous message:\n     ```python\n     import xarray as xr\n\n     # Load multiple variables into a single dataset\n     ds = xr.open multi_variable_file()\n     ```\n\n   - If you're interested in model intercomparison projects like the Model Intercomparison Project (MIP), you can use tools like `cdo` for processing climate data.\n   - Example code snippet from a previous message:\n     ```python\n     import cdo\n\n     # Process multiple model outputs using CDO\n     result = cdo.process_output(cdo.FLOW, flow_data)\n     ```\n\n   - If you're working with large-scale climate data from distributed sources, the ESGF platform can be useful.\n   - Example documentation link:\n     [https://esgf.llnl.gov](https://esgf.llnl.gov)\n\n   - Implementing climate models or analyzing uncertainties in model outputs is a key area of interest.\n   - If you're using tools like `cdo` for data processing, you can explore how to handle uncertainties and sensitivities in your models.\n\n   - If you're interested in visualizing climate data, libraries like `matplotlib` or `seab",
    "reference": "To simulate and predict climate systems using mathematical representations of physical processes.",
    "iteration_scores": [
      {
        "iteration": 1,
        "decomposition": 7.0,
        "retrieval": 6.6,
        "generation": 1.0,
        "total": 4.866666666666666
      },
      {
        "iteration": 2,
        "decomposition": 10.0,
        "retrieval": 6.25,
        "generation": 1.0,
        "total": 5.75
      },
      {
        "iteration": 3,
        "decomposition": 10.0,
        "retrieval": 4.8,
        "generation": 1.0,
        "total": 5.266666666666667
      }
    ]
  },
  {
    "user_input": "Explain why climate data is essential in environmental science.",
    "retrieved_contexts": [
      "[{'id': 1753901957112878, 'score': 0.7499693, 'payload': {'original_id': 'uploads\\\\01v1_Why_climate_data.pdf_chunk_0', 'type': 'pdf', 'content': 'https://svs.gsfc.nasa.gov/30701Climate data and modelsEDSML MSc –Imperial College London –Environmental dataYves Plancherel-https://www.linkedin.com/in/yves-plancherel/\\nWhy discuss climate data and climate models?\\n1. Understand common data format and databasestructures specific to representative fields of environmental science2. Demonstrate technical competency in handling common data types routinely encountered in the environmental sciences and identify relevant open-source data repositories3. ', 'source_document': 'uploads\\\\01v1_Why_climate_data.pdf', 'chunk_number': 0}}, {'id': 1753901956989969, 'score': 0.7235369, 'payload': {'original_id': 'uploads\\\\01v1_Why_climate_data.pdf_chunk_2', 'type': 'pdf', 'content': ' as well as errors stemming from the analytical procedure itself (e.g.calibration of analysis using synthetic data/models).Learning objectives of the Environmental Data module•Growing/important field –with likely career opportunities•Great playground to deliver learning objectives\\nUsing climate models: quantification/forecasting(impacts, adaptation, mitigation)\\nhttps://www.noaa.gov/education/resource-collections/climate/climate-change-impacts\\nUsing climate models: designscenarios(explore policy,', 'source_document': 'uploads\\\\01v1_Why_climate_data.pdf', 'chunk_number': 2}}, {'id': 1753903424959234, 'score': 0.71132314, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_9_md', 'type': 'markdown', 'content': '<a id=\\'Metadata\\'></a>\\n\\n## The importance of Metadata\\n[Metadata](https://help.ceda.ac.uk/article/4428-metadata-basics) **relate to all the information necessary to interpret, understand and use a given dataset. Metadata are not the data themselves, but are required to provide context and therefore inform the data analysis.** \\n\\nThere are two types of metadata, \"**discover metadata**\", which can be used to locate the dataset in a search, and \"**detailed metadata**\", which contain the information necessary to use the data (ideally) without having to ask the data provider for more information (even if one of the key piece of information should be the data provider information and contact detail!).\\n\\nThere is no upper limit as to what information should be included in the metadata, but typical metadata comprise information about when and where the observations, or the file, where produced, how they were produced (which instrument, technique, algorithm were used), information about the experiment the data come from, maybe some information about data accuracy (if not provided as seperate data in the file), information about who produced the data or the file, including contact information, or appropriate reference(s), and, if relevant, additional information about the research context, i.e. which project is associated with these data (this could help the user understand if more data from this group/project exist or can be expected). If the data represent a subset of a larger dataset, this should also be mentioned. \\n\\nAnother key pieces of information that the metadata should provide are a description of the variables in the file, with variable **names**, and the **units** of these variables. \\n\\nIf the data in the file represent a processed version of other raw data, then one should add information about these raw data as well, their provenance, references, and the transformation that was made, etc. One should be able to track the chain of information all the way to the orginal observations (or model output). \\n\\nIf the data represent gridded variables, then the nature of the grid on which these data are defined should also be explained. \\n\\nSimilarly, if the position, or some other features of the data, depend on a reference system, that reference system should be given. This will be discussed in more depth during the introduction to geostatistics lecture. \\n\\nIn the case of climate models (or other models, if relevant), the metadata should also include information about the model itself, the model name, version, the length of the integration, maybe a brief description of the spin-up, boundary conditions, initial conditions used to produce the simulation. \\n\\nObviously the information that will be included in the metadata vary substantially. You should learn (and will discover - mostly through shear frustration when key information is missing!) what constitute useful metadata in your field of work. \\n\\nMetadata can be included in the file itself (if the file format allows it), as separate files, or in the form of some other documents. When sourcing data, always make a note of where the data come from. This is especially true if getting data online as it is very easy to download data and then forget where they come from. Detailed note-taking is part of the job of the data analyst (and that of any scientist!). \\n\\nWhen metadata is included in the file directly, this typically comes as a header, or in a specified location in the file. The netCDF format has rules for how/where to include metadata, which is one of the reason why netCDF data are particularly useful and popular in climate science. \\n\\n\\n[back to contents](#Contents)\\n\\n---', 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 9}}, {'id': 1753903424243022, 'score': 0.7048563, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_10_md', 'type': 'markdown', 'content': \" * ### The Climate and Forecast (CF) Metadata Conventions (prominent in climate science)\\n \\nGiven the amount of data produced keeps increasing, data libraries are being developed. As in any library, certain sets of rules are required so that the data can be found later. Metadata are obviously a good way to ensure data can be catalogued and found by various search systems.\\n\\nMultiple types of conventions exist (see for example this [list of netCDF conventions from Unidata](https://www.unidata.ucar.edu/software/netcdf/conventions.html)). Ensuring that data files are produced in a way that follows conventions about content, vocabulary used and layout, allows for batch processing, easy extraction and automation! It is extremely useful (but should not prevent innovation).\\n\\nCEDA, as it focuses on climate and environmental data, relies extensively on the [Climate and Forecast (CF) Conventions](http://cfconventions.org). The CF Conventions are probably the most popular in climate science (it underpins the modelling effort of the IPCC). A detailed description of the latest release of the CF Conventions for netCDF can be found [here](http://cfconventions.org/Data/cf-conventions/cf-conventions-1.9/cf-conventions.html). \\n\\nThe CF Conventions were designed specifically for the netCDF format but they can be applied widely. The netCDF format enables creation of self-describing datasets by design. CF Conventions aim to ensure that  files contain sufficient metadata that they are self-describing in the sense that each variable in the file has an associated description of what it represents, including physical units if appropriate, and that each value can be located in space (relative to earth-based coordinates) and time. (Absence of such information in early (historical) datasets has hindered climate change science for decades - how does one measure change, if one cannot locate the observations in time and space?)\\n\\nOne example of CF Conventions is to provide a list of **standard_names** for certain commonly-used variables. The [CF standard name table] (http://cfconventions.org/Data/cf-standard-names/current/build/cf-standard-name-table.html) will show what the names are and describe what they represent. \\n\\nTo illustrate, imagine you work with data at the earth surface and label your variable 'temperature'. What did you mean exactly? Surface temperature of the ocean/land, or air temperature? etc. CF conventions ensure that climate scientists name common variables in the same way. \\n\\nA [python package](https://pypi.org/project/cfunits/) called `cfunits` provides an interface to the CF Convention. This is useful to combine and compare variables and convert various units. By relying on a package, fewer user-errors are made.   \\n\\nThe CF Conventions are not fixed, they are evolving depending on needs and scientific progress. Although conventions are decided by a committee of experts, anyone can propose a change to the convention by engaging in the [discussion forum](https://cfconventions.org/discussion.html).\\n\\n\\n[back to contents](#Contents)\\n\\n---\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 10}}, {'id': 1753903424104630, 'score': 0.6988854, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_0_md', 'type': 'markdown', 'content': '---\\n\\n# <center> Environmental Data </center>\\n\\n---\\n\\n## Course objectives and philosophy\\nLet\\'s start by recalling what the learning objective of the Environmental Data modules are:\\n\\n1. Understand common data format and database structures specific to representative fields of environmental science\\n2. Demonstrate technical competency in handling common data types routinely encountered in the environmental sciences and identify relevant open-source data repositories\\n3. Identify and design suitable data analysis strategies that consider data types, data distribution constraints, strength, benefits and limitations of statistical and modelling tools and environmental dynamics.\\n4. Understand the limitation of available data and data analysis products. Understand sources of errors and demonstrate ability to comprehensively characterize uncertainties and interpret results in the context of these uncertainties, including measurement errors, environmental uncertainties as well as errors stemming from the analytical procedure itself (e.g. calibration of analysis using synthetic data/models).\\n\\nYou\\'ll note that these objectives address a progression of skills. The first focus on technical competency (understanding common data format and an ability to manipulate these data). The last two go deeper than technical competency - these aim to develop a data analysis workflow. In real-life situations, some of that workflow will be informed by intuition, and the best workflow will depend on context (e.g. time, infrastructure available) and on the objectives of a study. \\n\\nIntuition will come with experience, and therefore, also from failure! This course is an opportunity to try, sometimes fail ... and therefore learn! (That is the luxury of being a student!) With that in mind, some of the coursework presented here will be purposefully \"vague\". This is not meant to be annoying, it is designed to push you to seek and explore possible solutions (solutions are rarely unique) and express your creativity as an analyst. \\n\\n**Important**: Data analysis is a key component of the scientific method and therefore cannot exist without `hypothesis testing`. Approach every part of the data analysis workflow as a test, an experiment. Each experiment should be motivated by a hypothesis (a goal), will involve applying a methodology, will produce results pertinent to the hypothesis/goal, and will require a critique of these results with regards to their ability to address the hypothesis/goal before drawing a conclusion (it is ok for conclusions to come with caveats and uncertainties if the analysis warrants limits of interpretation).  \\n\\n**Warning**: Data analysis can also be a bit of  \"rabbit hole\"! There will always be nicer, cooler, better things to do. Sometimes, good is good enough though. Whatever you do, never lose sight of the overall objectives of a study. This needs to be delivered in priority.\\n\\n## This segment of the module\\nIn this module, content will be delivered using a mixture of\\npowerpoint lectures, jupyter notebooks and practical exercises.\\n\\nWarning: other directories, containing figures, images, animations or data are also provided. \\nHowever, cliamte data can be very large, and github has a low limit for these. \\nA dropbox link with data also exist: https://www.dropbox.com/sh/fxcmtbz4o3tacz1/AABjQbeyg27zDh1chZxRDFcpa?dl=0\\n\\n### Github repository: `environmental_data_week1`\\n\\n\\n## We will focus and use climate data.\\nThis segment of the module will focus on 2D, 3D and 4D data. To illustrate techniques and learn some useful skills, we will use data around the theme of climate and climate change. As part of this, we will learn how to access and use climate data and output from global climate models. \\n\\nThe science of climate is beyond the scope of this course, but although we will focus on data analysis, it is my hope that you will develop an appreciation and better understanding of climate science in the process. \\n___', 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 0}}, {'id': 1753903424509295, 'score': 0.69829834, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_1_md', 'type': 'markdown', 'content': \"---\\n\\n# 01- Introduction to climate data and climate models\\n\\n---\\n\\n<a id='Contents'></a>\\n## Contents\\n- [Lectures](#lectures)\\n- [Question](#question)\\n- [ESMValTool](#ESMValTool)\\n- [Sources of climate data](#climatedata)\\n- [CEDA](#CEDA)\\n- [File formats](#fileformat)\\n- [Metadata](#metadata)\\n- [NetCDF](#NetCDF)\\n- [NCO](#NCO)\\n- [Reanalysis products](#reanalysis)\\n- [Climate services UKCP18](#ukcp18)\\n  \\n## Learning outcomes\\n1. Understand the basics of climate modelling\\n2. Know where to find and how to access climate data (ESGF, CEDA)\\n3. Understand common file formats\\n4. Understand the importance of metadata and understand CF conventions\\n5. Understand the NetCDF file format and know how to read, create and maniputate NetCDF data\\n6. Become familiar with other key tools used to manipulate netCDF data (NCO, CDO)\\n7. Know how to access ERA5 reanalysis products\\n8. Climate Services and UKCP18 and ability to access that data\\n\\n---\\n\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 1}}, {'id': 1753903424357433, 'score': 0.69370383, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_5_md', 'type': 'markdown', 'content': \"<a id='climatedata'></a>\\n\\n# Working with climate data and climate models\\n\\n### Earth System Grid Federation (ESGF)\\n\\n![esgf](img/ESGF_logo.png)\\n\\n\\n[ESGF](https://esgf.llnl.gov) is an open-source platform that provides distributed access to peta/exa-scale scientific data, **globally**. \\n\\nIt is an interagency and international effort led by the US Department of Energy (DOE), co-funded by National Aeronautics and Space Administration (NASA), National Oceanic and Atmospheric Administration (NOAA), the US National Science Foundation (NSF), and other international partners, such as the Max Planck Institute for Meteorology (MPI-M) German Climate Computing Centre (DKRZ), the Australian National University (ANU) National Computational Infrastructure (NCI), Institut Pierre-Simon Laplace (IPSL), and the **Centre for Environmental Data Analysis ([CEDA](https://www.ceda.ac.uk))** in the UK.\\n\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 5}}, {'id': 1753902702794239, 'score': 0.69046533, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_8', 'type': 'pdf', 'content': 'cool and warm the climateThe microphysics responsible for cloud formation is not well understoodThe grid cells in models are much much bigger than time/space scales relevant for cloud physicsÞMagnitude/location of rain events is hard to predict wellÞThat information is useful though!\\nComparing models with data•What is a data point? Observation vs model result•Are model solutions at a point similar toa data point (i.e.observational sample)?–Spatially?–Temporally?•Using data well is not a trivial ', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 8}}, {'id': 1753903424143550, 'score': 0.6893438, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_11_md', 'type': 'markdown', 'content': \"<a id='NetCDF'></a>\\n\\n## Network Common Data Form (NetCDF)\\n\\n[NetCDF](https://www.unidata.ucar.edu/software/netcdf/) is one of the most common data format used to store climate data. NetCDF files allow the user to insert metadata in the data file by design, ensuring the data file is self-describing (amongst other properties).\\n\\n*NetCDF is a set of software libraries and machine-independent data formats that support the creation, access, and sharing of array-oriented scientific data.* \\n\\nThe netCDF format, which is a type of HDF format, is attractive because it is:\\n\\n* Self-Describing. A netCDF file includes information about the data it contains and metadata.\\n* Portable. A netCDF file can be accessed by computers with different ways of storing integers, characters, and floating-point numbers.\\n* Scalable. Small subsets of large datasets in various formats may be accessed efficiently through netCDF interfaces, even from remote servers.\\n* Appendable. Data may be appended to a properly structured netCDF file without copying the dataset or redefining its structure.\\n* Sharable. One writer and multiple readers may simultaneously access the same netCDF file.\\n* Archivable. Access to all earlier forms of netCDF data will be supported by current and future versions of the software.\\n\\n\\nThe NetCDF project is maintained by the Unidata program at the University Corporation for Atmospheric Research ([UCAR](https://www.ucar.edu)). [UCAR](https://www.ucar.edu) also manages [NCAR](https://ncar.ucar.edu), one of the first center to have developped climate models and is today one of the gold-standard on the topic. \\n\\nNCAR also developed [NCL](https://www.ncl.ucar.edu), an interpreted programming language designed specifically for scientific data analysis and visualization (we will not use NCL here, but the python package `ESMValTool` has build-in support for it). \\n\\n[NCAR](https://ncar.ucar.edu) has also developped the [climate data guide](https://climatedataguide.ucar.edu), a tool to search and access >200 data sets specific to the ocean, land and the atmosphere. (Some of these data may or may not also be found on CEDA.) \\n\\n[back to contents](#Contents)\\n\\n---\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 11}}, {'id': 1753903424368210, 'score': 0.6869545, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_2_md', 'type': 'markdown', 'content': \"<a id='lectures'></a>\\n# Lecture on relevance of climate science, climate models and climate modelling\\n\\n\\n(see Powerpoint presentations)\\n\\n1. 01v1_Why_climate_data.pptx/pdf\\n2. 02v1_Building_climate_models.pptx/pdf\\n3. 03v1_Common_issues.pptx/pdf\\n   \\n\\n---\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 2}}]",
      "[{'id': 1753901956989969, 'score': 0.74478734, 'payload': {'original_id': 'uploads\\\\01v1_Why_climate_data.pdf_chunk_2', 'type': 'pdf', 'content': ' as well as errors stemming from the analytical procedure itself (e.g.calibration of analysis using synthetic data/models).Learning objectives of the Environmental Data module•Growing/important field –with likely career opportunities•Great playground to deliver learning objectives\\nUsing climate models: quantification/forecasting(impacts, adaptation, mitigation)\\nhttps://www.noaa.gov/education/resource-collections/climate/climate-change-impacts\\nUsing climate models: designscenarios(explore policy,', 'source_document': 'uploads\\\\01v1_Why_climate_data.pdf', 'chunk_number': 2}}, {'id': 1753901957112878, 'score': 0.7290399, 'payload': {'original_id': 'uploads\\\\01v1_Why_climate_data.pdf_chunk_0', 'type': 'pdf', 'content': 'https://svs.gsfc.nasa.gov/30701Climate data and modelsEDSML MSc –Imperial College London –Environmental dataYves Plancherel-https://www.linkedin.com/in/yves-plancherel/\\nWhy discuss climate data and climate models?\\n1. Understand common data format and databasestructures specific to representative fields of environmental science2. Demonstrate technical competency in handling common data types routinely encountered in the environmental sciences and identify relevant open-source data repositories3. ', 'source_document': 'uploads\\\\01v1_Why_climate_data.pdf', 'chunk_number': 0}}, {'id': 1753902702794239, 'score': 0.7138058, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_8', 'type': 'pdf', 'content': 'cool and warm the climateThe microphysics responsible for cloud formation is not well understoodThe grid cells in models are much much bigger than time/space scales relevant for cloud physicsÞMagnitude/location of rain events is hard to predict wellÞThat information is useful though!\\nComparing models with data•What is a data point? Observation vs model result•Are model solutions at a point similar toa data point (i.e.observational sample)?–Spatially?–Temporally?•Using data well is not a trivial ', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 8}}, {'id': 1753903424509295, 'score': 0.6979702, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_1_md', 'type': 'markdown', 'content': \"---\\n\\n# 01- Introduction to climate data and climate models\\n\\n---\\n\\n<a id='Contents'></a>\\n## Contents\\n- [Lectures](#lectures)\\n- [Question](#question)\\n- [ESMValTool](#ESMValTool)\\n- [Sources of climate data](#climatedata)\\n- [CEDA](#CEDA)\\n- [File formats](#fileformat)\\n- [Metadata](#metadata)\\n- [NetCDF](#NetCDF)\\n- [NCO](#NCO)\\n- [Reanalysis products](#reanalysis)\\n- [Climate services UKCP18](#ukcp18)\\n  \\n## Learning outcomes\\n1. Understand the basics of climate modelling\\n2. Know where to find and how to access climate data (ESGF, CEDA)\\n3. Understand common file formats\\n4. Understand the importance of metadata and understand CF conventions\\n5. Understand the NetCDF file format and know how to read, create and maniputate NetCDF data\\n6. Become familiar with other key tools used to manipulate netCDF data (NCO, CDO)\\n7. Know how to access ERA5 reanalysis products\\n8. Climate Services and UKCP18 and ability to access that data\\n\\n---\\n\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 1}}, {'id': 1753903424142956, 'score': 0.69316757, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_4_md', 'type': 'markdown', 'content': \"<a id='ESMValTool'></a>\\n\\n# Python environments to consider for working with climate data \\n\\n* ## Earth System Model Evaluation Tool (ESMValTool)\\n![esmvaltool](img/ESMValTool-logo-2.png)\\n\\nThis week, it should be possible to simply install packages as needed...\\n\\nHowever, if you anticipate possible future needs, you may want to invest a bit of effort to setup a specific python environment to work with climate data. If so, a good place to start is the `ESMValTool` project. \\n\\n\\n\\n[ESMValTool](https://docs.esmvaltool.org/projects/esmvalcore/en/latest/index.html) is  a community-led, open source, set of software tools (build on python 3) developed to improve diagnosing and understanding climate models. While the focus has been on climate models, not observations, one cannot quantify model biases without also comparing the model results with observations. [ESMValTool](https://docs.esmvaltool.org/projects/esmvalcore/en/latest/index.html) therefore also has some capability to analyze and manipulate large datasets. \\n\\n[ESMValTool](https://docs.esmvaltool.org/projects/esmvalcore/en/latest/index.html) can work offline, but as the amount of climate data is so large, it is mostly designed to work with data centers that provide local access to the vast amount of data. One such initiative is the Earth System Grid Federation ([ESGF](https://esgf.llnl.gov)). ESMValTool provides functionality to work on HPC systems.\\n\\nWe will not use ESMValTool here specifically, but it will install other convenient tools and you may be curious to investigate ESMValTool capabilities on your own anyways. It is now used routinely for climate modelling research. \\n\\nAdditional information and help can be found at https://www.esmvaltoolorg, and on the [ESMValGroup](https://github.com/ESMValGroup) github page. The [ESMValTool tutorial](https://esmvalgroup.github.io/ESMValTool_Tutorial/) is a great resource to get started. \\n\\n\\n### OPTIONAL: Installing ESMValTool (NB: this often fails for students - installing this is not required for the course)\\n[Installation instructions](https://docs.esmvaltool.org/en/latest/quickstart/installation.html) differ by operating system and it is very much an experimental, in development, tool - keep this in mind! \\n\\n[Notes:ESMValTool 2.0 requires a Unix(-like) operating system and Python 3.7+. (Python 3.7, 3.8 and 3.9 are supported). On my laptop (Macbook pro 13'' M1 2020 with OS Monterey 12.0.1), I installed it in Nov 2021 with Python 3.9.7. ...but I installed it when 'conda' was still an installation option. ESMValTool developer have  changed installation methods to `mamba` recently. Do refer to online/official instructions). You will now be required to also [install `mamba`](https://docs.esmvaltool.org/en/latest/quickstart/installation.html#mamba-installation) first (...yet another package/dependency manager).] \\n\\nESMValTool can also work with Julia, R, NCL. Do check installation instructions for these extensions. \\n\\n[back to contents](##Contents)\\n\\n---\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 4}}, {'id': 1753902702944729, 'score': 0.69029045, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_9', 'type': 'pdf', 'content': 'task. It requires understanding the model well and the data well–A trend towards “Observational System Simulation Experiments” (OSSE)–data assimilation (e.g.4DVAR)\\nThe role of observationsin modeling\\nhttp://www.climate.be/textbook/pdf/Chapter_3.pdf\\nModelsvs observations•There are data that are ’just’ observations•There are models that are ‘just’ models•There are models that are ‘assimilated with data’–Often called ‘Reanalysis Products’•(also used in weather forecasting, obviously)–These are mode', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 9}}, {'id': 1753903424368210, 'score': 0.6848273, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_2_md', 'type': 'markdown', 'content': \"<a id='lectures'></a>\\n# Lecture on relevance of climate science, climate models and climate modelling\\n\\n\\n(see Powerpoint presentations)\\n\\n1. 01v1_Why_climate_data.pptx/pdf\\n2. 02v1_Building_climate_models.pptx/pdf\\n3. 03v1_Common_issues.pptx/pdf\\n   \\n\\n---\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 2}}, {'id': 1753903424143550, 'score': 0.68436086, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_11_md', 'type': 'markdown', 'content': \"<a id='NetCDF'></a>\\n\\n## Network Common Data Form (NetCDF)\\n\\n[NetCDF](https://www.unidata.ucar.edu/software/netcdf/) is one of the most common data format used to store climate data. NetCDF files allow the user to insert metadata in the data file by design, ensuring the data file is self-describing (amongst other properties).\\n\\n*NetCDF is a set of software libraries and machine-independent data formats that support the creation, access, and sharing of array-oriented scientific data.* \\n\\nThe netCDF format, which is a type of HDF format, is attractive because it is:\\n\\n* Self-Describing. A netCDF file includes information about the data it contains and metadata.\\n* Portable. A netCDF file can be accessed by computers with different ways of storing integers, characters, and floating-point numbers.\\n* Scalable. Small subsets of large datasets in various formats may be accessed efficiently through netCDF interfaces, even from remote servers.\\n* Appendable. Data may be appended to a properly structured netCDF file without copying the dataset or redefining its structure.\\n* Sharable. One writer and multiple readers may simultaneously access the same netCDF file.\\n* Archivable. Access to all earlier forms of netCDF data will be supported by current and future versions of the software.\\n\\n\\nThe NetCDF project is maintained by the Unidata program at the University Corporation for Atmospheric Research ([UCAR](https://www.ucar.edu)). [UCAR](https://www.ucar.edu) also manages [NCAR](https://ncar.ucar.edu), one of the first center to have developped climate models and is today one of the gold-standard on the topic. \\n\\nNCAR also developed [NCL](https://www.ncl.ucar.edu), an interpreted programming language designed specifically for scientific data analysis and visualization (we will not use NCL here, but the python package `ESMValTool` has build-in support for it). \\n\\n[NCAR](https://ncar.ucar.edu) has also developped the [climate data guide](https://climatedataguide.ucar.edu), a tool to search and access >200 data sets specific to the ocean, land and the atmosphere. (Some of these data may or may not also be found on CEDA.) \\n\\n[back to contents](#Contents)\\n\\n---\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 11}}, {'id': 1753902703503123, 'score': 0.68371594, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_1', 'type': 'pdf', 'content': 'model cannot model the effect of “Z” on climate as “W” has or may have an (unquantified) effect of the “Z” and may effectCO2or T, etc. … therefore climate models are useless\\nSome better propositions1.All models are “wrong” and “incomplete”(modeling with the sole goal of fitting data can be futile)(state-or-the-art models have many free parameters, uniqueness of the fit/solution is not always guaranteed –fit for wrong reason possible)2.Models have the merit of being internally consistent and poss', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 1}}, {'id': 1753901956917450, 'score': 0.68103814, 'payload': {'original_id': 'uploads\\\\01v1_Why_climate_data.pdf_chunk_3', 'type': 'pdf', 'content': ' technology options)\\n\\nUsing climate models: variability(temporal, spatial)\\nImportance of experimental design!Control+ experiment\\nUsing climate models: uncertainties and sensitivities\\nMIP = Model Intercomparison Project\\nEyring et al. 2016\\nUsing climate models: uncertainties and sensitivities\\nhttps://en.wikipedia.org/wiki/Climate_ensembleDifferent experimentswith many ensembles!Each one trying to account for sensitivity due to a source of error Real world data: we only have one Earth, ONE realizat', 'source_document': 'uploads\\\\01v1_Why_climate_data.pdf', 'chunk_number': 3}}]",
      "[{'id': 1753903424143550, 'score': 0.6773701, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_11_md', 'type': 'markdown', 'content': \"<a id='NetCDF'></a>\\n\\n## Network Common Data Form (NetCDF)\\n\\n[NetCDF](https://www.unidata.ucar.edu/software/netcdf/) is one of the most common data format used to store climate data. NetCDF files allow the user to insert metadata in the data file by design, ensuring the data file is self-describing (amongst other properties).\\n\\n*NetCDF is a set of software libraries and machine-independent data formats that support the creation, access, and sharing of array-oriented scientific data.* \\n\\nThe netCDF format, which is a type of HDF format, is attractive because it is:\\n\\n* Self-Describing. A netCDF file includes information about the data it contains and metadata.\\n* Portable. A netCDF file can be accessed by computers with different ways of storing integers, characters, and floating-point numbers.\\n* Scalable. Small subsets of large datasets in various formats may be accessed efficiently through netCDF interfaces, even from remote servers.\\n* Appendable. Data may be appended to a properly structured netCDF file without copying the dataset or redefining its structure.\\n* Sharable. One writer and multiple readers may simultaneously access the same netCDF file.\\n* Archivable. Access to all earlier forms of netCDF data will be supported by current and future versions of the software.\\n\\n\\nThe NetCDF project is maintained by the Unidata program at the University Corporation for Atmospheric Research ([UCAR](https://www.ucar.edu)). [UCAR](https://www.ucar.edu) also manages [NCAR](https://ncar.ucar.edu), one of the first center to have developped climate models and is today one of the gold-standard on the topic. \\n\\nNCAR also developed [NCL](https://www.ncl.ucar.edu), an interpreted programming language designed specifically for scientific data analysis and visualization (we will not use NCL here, but the python package `ESMValTool` has build-in support for it). \\n\\n[NCAR](https://ncar.ucar.edu) has also developped the [climate data guide](https://climatedataguide.ucar.edu), a tool to search and access >200 data sets specific to the ocean, land and the atmosphere. (Some of these data may or may not also be found on CEDA.) \\n\\n[back to contents](#Contents)\\n\\n---\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 11}}, {'id': 1753903424509295, 'score': 0.6623613, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_1_md', 'type': 'markdown', 'content': \"---\\n\\n# 01- Introduction to climate data and climate models\\n\\n---\\n\\n<a id='Contents'></a>\\n## Contents\\n- [Lectures](#lectures)\\n- [Question](#question)\\n- [ESMValTool](#ESMValTool)\\n- [Sources of climate data](#climatedata)\\n- [CEDA](#CEDA)\\n- [File formats](#fileformat)\\n- [Metadata](#metadata)\\n- [NetCDF](#NetCDF)\\n- [NCO](#NCO)\\n- [Reanalysis products](#reanalysis)\\n- [Climate services UKCP18](#ukcp18)\\n  \\n## Learning outcomes\\n1. Understand the basics of climate modelling\\n2. Know where to find and how to access climate data (ESGF, CEDA)\\n3. Understand common file formats\\n4. Understand the importance of metadata and understand CF conventions\\n5. Understand the NetCDF file format and know how to read, create and maniputate NetCDF data\\n6. Become familiar with other key tools used to manipulate netCDF data (NCO, CDO)\\n7. Know how to access ERA5 reanalysis products\\n8. Climate Services and UKCP18 and ability to access that data\\n\\n---\\n\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 1}}, {'id': 1753903424228032, 'score': 0.66203994, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_43_md', 'type': 'markdown', 'content': '### The CDS Toolbox\\n\\nAn extention to the CDS API is the [CDS Toolbox](https://cds.climate.copernicus.eu/toolbox/doc/index.html). The Toolbox is a programming interface. It is free and available to everyone. It links raw data to an online computing facility, thereby removing the computing barrier for users worldwide. The Toolbox allows users to develop python scripts for the CDS and to run them online. The users than then simply download the maps, graph or secondary data without needing to incur the costs associated with storing and maintaining the large climate data archive locally, nor is it required to invest in a powerful computer. \\n\\n\\nThe Toolbox works hand-in-hand with the CDS API. \\n\\nThat is, one can issue commmands to the Toolbox via the CDS API, or develop a python script that does certain things, and then use the CDS API functionality to send it to CDS for evaluation, only to download the finished product locally. \\n\\nExamples of how to proceed are given [here](https://confluence.ecmwf.int/display/COPSRV/Call+a+service+with+the+CDS+API). \\n\\nNote, it is also possible to use the CDS Toolbox to plot data from other services (i.e. not originally stored on CDS), using the `remote` function instead of the `service` function. This is possible thanks to protocols such as OPeNDAP. Here is an example using data from UNIDATA. \\n\\nFor illustration of how the Toolbox can be used, the following piece of code, run locally, after the CDS API is properly configured and assuming one is connected to the internet, will produce, and then download to our `output/` directory, a map of global temperature on January 1st 2021 at 14:00.', 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 43}}, {'id': 1753903424243022, 'score': 0.66113687, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_10_md', 'type': 'markdown', 'content': \" * ### The Climate and Forecast (CF) Metadata Conventions (prominent in climate science)\\n \\nGiven the amount of data produced keeps increasing, data libraries are being developed. As in any library, certain sets of rules are required so that the data can be found later. Metadata are obviously a good way to ensure data can be catalogued and found by various search systems.\\n\\nMultiple types of conventions exist (see for example this [list of netCDF conventions from Unidata](https://www.unidata.ucar.edu/software/netcdf/conventions.html)). Ensuring that data files are produced in a way that follows conventions about content, vocabulary used and layout, allows for batch processing, easy extraction and automation! It is extremely useful (but should not prevent innovation).\\n\\nCEDA, as it focuses on climate and environmental data, relies extensively on the [Climate and Forecast (CF) Conventions](http://cfconventions.org). The CF Conventions are probably the most popular in climate science (it underpins the modelling effort of the IPCC). A detailed description of the latest release of the CF Conventions for netCDF can be found [here](http://cfconventions.org/Data/cf-conventions/cf-conventions-1.9/cf-conventions.html). \\n\\nThe CF Conventions were designed specifically for the netCDF format but they can be applied widely. The netCDF format enables creation of self-describing datasets by design. CF Conventions aim to ensure that  files contain sufficient metadata that they are self-describing in the sense that each variable in the file has an associated description of what it represents, including physical units if appropriate, and that each value can be located in space (relative to earth-based coordinates) and time. (Absence of such information in early (historical) datasets has hindered climate change science for decades - how does one measure change, if one cannot locate the observations in time and space?)\\n\\nOne example of CF Conventions is to provide a list of **standard_names** for certain commonly-used variables. The [CF standard name table] (http://cfconventions.org/Data/cf-standard-names/current/build/cf-standard-name-table.html) will show what the names are and describe what they represent. \\n\\nTo illustrate, imagine you work with data at the earth surface and label your variable 'temperature'. What did you mean exactly? Surface temperature of the ocean/land, or air temperature? etc. CF conventions ensure that climate scientists name common variables in the same way. \\n\\nA [python package](https://pypi.org/project/cfunits/) called `cfunits` provides an interface to the CF Convention. This is useful to combine and compare variables and convert various units. By relying on a package, fewer user-errors are made.   \\n\\nThe CF Conventions are not fixed, they are evolving depending on needs and scientific progress. Although conventions are decided by a committee of experts, anyone can propose a change to the convention by engaging in the [discussion forum](https://cfconventions.org/discussion.html).\\n\\n\\n[back to contents](#Contents)\\n\\n---\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 10}}, {'id': 1753903424407566, 'score': 0.66083574, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_15_md', 'type': 'markdown', 'content': '### A sidenote on remote data access\\n\\nNote that `Dataset` could also read a remote [OPeNDAP](https://www.opendap.org)-hosted dataset over http if a URL is provided instead of a filename. If you can access a file remotely, it may be best to do so, as it unburdens you from the cost of storage! However, you should also ensure that users will have continous access to the file for the duration of the project, and maybe later also if archiving of the results is required. \\n\\n[OPeNDAP](https://www.opendap.org) stands for Open-source Project for a Network Data Protocol and is a software for remote data retrieval, commonly used in Earth science. It allows one to access data via the internet, allowing one to retrieve data when needed, without having to necessarily download all the data locally, what facilitates real-time analysis. \\n\\nOther commonly encountered remote-access protocols are [THREDDS](https://www.unidata.ucar.edu/software/tds/current/) and [ERDDAP](https://upwell.pfeg.noaa.gov/erddap/index.html). \\n\\n[THREDDS](https://www.unidata.ucar.edu/software/tds/current/) stands for Thematic Real-time Environmental Distributed Data Services. The THREDDS Data Server ([TDS](https://docs.unidata.ucar.edu/tds/current/userguide/index.html)) is another Unidata service that provides remote access to real-time or archived datasets. It is a web server that provides metadata and data access for scientific datasets, using a variety of remote data access protocols, including OPeNDAP. The THREDDS data catalogue of meteorological data is available [here](https://thredds.ucar.edu/thredds/catalog.html). \\n\\n[ERDDAP](https://upwell.pfeg.noaa.gov/erddap/index.html) is also a data server by the National Oceanic and Atmospheric Administration (NOAA, USA) that acts as a middleman between the user and various other data servers. You can see a [list of datasets available through ERDDAP here](https://upwell.pfeg.noaa.gov/erddap/info/index.html?page=1&itemsPerPage=1000). ERDDAP provides a consistent way to download subsets of gridded and tabular data in common file formats. ERDDAP is  a  tool that facilitates user interactions so the user doesnt have to know about OPeNDAP or other remote access protocols (such as OPeNDAP).\\n\\n[back to contents](#Contents)\\n\\n---', 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 15}}, {'id': 1753903424262111, 'score': 0.66063815, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_38_md', 'type': 'markdown', 'content': \"<a id='reanalysis'></a>\\n\\n# Reanalysis products\\n\\n![C3S](img/c3s-logo.png)\\n![ECMWF](img/logo-ecmwf.png) \\n\\n[*ERA5 provides hourly estimates of a large number of atmospheric, land and oceanic climate variables. The data cover the Earth on a 30km grid and resolve the atmosphere using 137 levels from the surface up to a height of 80km. ERA5 includes information about uncertainties for all variables at reduced spatial and temporal resolutions.Quality-assured monthly updates of ERA5 (1979 to present) are published within 3 months of real time. Preliminary daily updates of the dataset are available to users within 5 days of real time.*](https://www.ecmwf.int/en/forecasts/datasets/reanalysis-datasets/era5)\\n\\n[ERA5](https://confluence.ecmwf.int/display/CKB/ERA5) is a [family of datasets](https://confluence.ecmwf.int/display/CKB/The+family+of+ERA5+datasets). It currently comprises ERA5, ERA5.1 and ERA5-Land. ERA5 is the fifth generation ECMWF atmospheric reanalysis of the global climate covering the period from January 1950 to present. ERA5 is produced by the Copernicus Climate Change Service ([C3S](https://confluence.ecmwf.int/pages/viewpage.action?pageId=151530614)) at the European Center for Medium-Range Weather Forecasts ([ECMWF](https://www.ecmwf.int)) and made available via the [Climate Change Service](https://climate.copernicus.eu). \\n\\nImportantly, ERA5 is a [**reanalysis product**](https://www.youtube.com/watch?v=FAGobvUGl24), meaning a **model that assimilates data**. A model of the climate (weather) is run, and adjusted (following certain laws of physics and constraints) to fit [as many observations](https://confluence.ecmwf.int/display/CKB/ERA5%3A+data+documentation#ERA5:datadocumentation-Observations) as possible using a technique called 4D-var. One must realize that, even if assimimated prodcuts such as ERA5 are often used 'in lieu' of observations, they are **\\\\*not\\\\*** observations: they are a model product, but a product that is made to look as much like the data as possible given computational, mathematical, physical limitations of the model. \\n\\nERA5 is one of various [reanalysis products](https://reanalyses.org) available globally. Another well-known produce is the [NCEP/NCAR Reanalysis product](https://en.wikipedia.org/wiki/NCEP/NCAR_Reanalysis). [MERRA-2](https://gmao.gsfc.nasa.gov/reanalysis/MERRA-2/), produced by NASA, is another. \\n\\nThe article by [Hersbach et al. 2020](https://rmets.onlinelibrary.wiley.com/doi/10.1002/qj.3803) discusses the ERA global Reanalysis prodcuct in more detail.\\n\\nWhile observations are only available in specific locations and at specific times, the reanalysis product provides a clever way to dynamically interpolate between these observations. ERA5 also comes as a gridded product, making it very convenient to use. In the model-world, one can access a complete/global picture every time-step, with a spatial resolution as high as computational limits allow. I re-emphasize that this is not the same as observations! ... but it is as close to observations as we can get if one is trying to work with a spatially and temporall interpolated product. \\n\\n**Grid geometry depends on data format**: Note that the grid geometry of the output data of ERA5 [depends on the format the data that are being downloaded](https://confluence.ecmwf.int/display/CKB/ERA5%3A+What+is+the+spatial+reference). Native GRIB format data are delivered on the model's native grid geometry (this is not a regular lat/lon grid!). On the other hand, data in NetCDF format are automatically interpolated and regridded to a regular lat/lon grid. While this is not very important for most application, one must remember that interpolated data in the NetCDF files are not the same as the original model output and this could have implication for the conservation properties of some variables. It can be easier/convenient to work with data interpolated on a regular lat/lon grid, however.  \\n\\n**Grid definition and wrap-around**: The gridded ERA5 archive is provided on a [-90;+90] latitude grid and a [0;+360] longitude grid, with decimal degrees, referenced to the Greenwich Prime Meridian. While latitude is generally not an issue, care must be taken when working with longitude as one must remember that 0 and 360 are the same point. One must account for the wrap-around issue: although the first column and last column of a datasets on the [0;+360] grid are far away from each other in terms of index, these points are geographically very close. Some software can automatically deal with this wrap-around and convert to [-180;+180] or other system as required, but this should not be taken for granted. \\n\\n\\n[back to contents](#Contents)\\n\\n---\\n\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 38}}, {'id': 1753903424357433, 'score': 0.6504, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_5_md', 'type': 'markdown', 'content': \"<a id='climatedata'></a>\\n\\n# Working with climate data and climate models\\n\\n### Earth System Grid Federation (ESGF)\\n\\n![esgf](img/ESGF_logo.png)\\n\\n\\n[ESGF](https://esgf.llnl.gov) is an open-source platform that provides distributed access to peta/exa-scale scientific data, **globally**. \\n\\nIt is an interagency and international effort led by the US Department of Energy (DOE), co-funded by National Aeronautics and Space Administration (NASA), National Oceanic and Atmospheric Administration (NOAA), the US National Science Foundation (NSF), and other international partners, such as the Max Planck Institute for Meteorology (MPI-M) German Climate Computing Centre (DKRZ), the Australian National University (ANU) National Computational Infrastructure (NCI), Institut Pierre-Simon Laplace (IPSL), and the **Centre for Environmental Data Analysis ([CEDA](https://www.ceda.ac.uk))** in the UK.\\n\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 5}}, {'id': 1753903424804905, 'score': 0.63987786, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_42_code', 'type': 'code', 'content': \"#!/usr/bin/env python\\nimport cdsapi\\n \\nc = cdsapi.Client()\\n \\nc.retrieve(\\n    'reanalysis-era5-pressure-levels',\\n    {\\n        'product_type': 'reanalysis',\\n        'variable': 'temperature',\\n        'pressure_level': '1000',\\n        'year': '2021',\\n        'month': '01',\\n        'day': '01',\\n        'time': '12:00',\\n        'format': 'netcdf',                         # NetCDF\\n        'area'          : [60., -11., 34., 35.],    # Default area is global; provide [North, West, South, East] limits to select an area (here selecting Europe)\\n        'grid'          : [1.0, 1.0],               #  Default atmospheric resolution is 0.25 x 0.25; provie [Latitude/longitude] grid resolution to interpolate data to something else.           \\n    },\\n    'output/ERAtest_subarea_1deg1deg.nc')           # Output file. Adapt as you wish.\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 42}}, {'id': 1753903424142956, 'score': 0.63954574, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_4_md', 'type': 'markdown', 'content': \"<a id='ESMValTool'></a>\\n\\n# Python environments to consider for working with climate data \\n\\n* ## Earth System Model Evaluation Tool (ESMValTool)\\n![esmvaltool](img/ESMValTool-logo-2.png)\\n\\nThis week, it should be possible to simply install packages as needed...\\n\\nHowever, if you anticipate possible future needs, you may want to invest a bit of effort to setup a specific python environment to work with climate data. If so, a good place to start is the `ESMValTool` project. \\n\\n\\n\\n[ESMValTool](https://docs.esmvaltool.org/projects/esmvalcore/en/latest/index.html) is  a community-led, open source, set of software tools (build on python 3) developed to improve diagnosing and understanding climate models. While the focus has been on climate models, not observations, one cannot quantify model biases without also comparing the model results with observations. [ESMValTool](https://docs.esmvaltool.org/projects/esmvalcore/en/latest/index.html) therefore also has some capability to analyze and manipulate large datasets. \\n\\n[ESMValTool](https://docs.esmvaltool.org/projects/esmvalcore/en/latest/index.html) can work offline, but as the amount of climate data is so large, it is mostly designed to work with data centers that provide local access to the vast amount of data. One such initiative is the Earth System Grid Federation ([ESGF](https://esgf.llnl.gov)). ESMValTool provides functionality to work on HPC systems.\\n\\nWe will not use ESMValTool here specifically, but it will install other convenient tools and you may be curious to investigate ESMValTool capabilities on your own anyways. It is now used routinely for climate modelling research. \\n\\nAdditional information and help can be found at https://www.esmvaltoolorg, and on the [ESMValGroup](https://github.com/ESMValGroup) github page. The [ESMValTool tutorial](https://esmvalgroup.github.io/ESMValTool_Tutorial/) is a great resource to get started. \\n\\n\\n### OPTIONAL: Installing ESMValTool (NB: this often fails for students - installing this is not required for the course)\\n[Installation instructions](https://docs.esmvaltool.org/en/latest/quickstart/installation.html) differ by operating system and it is very much an experimental, in development, tool - keep this in mind! \\n\\n[Notes:ESMValTool 2.0 requires a Unix(-like) operating system and Python 3.7+. (Python 3.7, 3.8 and 3.9 are supported). On my laptop (Macbook pro 13'' M1 2020 with OS Monterey 12.0.1), I installed it in Nov 2021 with Python 3.9.7. ...but I installed it when 'conda' was still an installation option. ESMValTool developer have  changed installation methods to `mamba` recently. Do refer to online/official instructions). You will now be required to also [install `mamba`](https://docs.esmvaltool.org/en/latest/quickstart/installation.html#mamba-installation) first (...yet another package/dependency manager).] \\n\\nESMValTool can also work with Julia, R, NCL. Do check installation instructions for these extensions. \\n\\n[back to contents](##Contents)\\n\\n---\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 4}}, {'id': 1753903424815332, 'score': 0.63940203, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_6_md', 'type': 'markdown', 'content': '<a id=\\'CEDA\\'></a>\\n\\n### For the UK: Center for Environmental Data Analysis (CEDA)\\n\\n![ceda](img/ceda_archive_logo_transp_white_3_h80.png)\\n\\n[CEDA](https://www.ceda.ac.uk) serves the UK environmental science community. It is a component of ESGF. \\n\\nCEDA has two main branches: \\n1. [CEDA-Archive: https://archive.ceda.ac.uk](https://archive.ceda.ac.uk) \\n2. [JASMIN: https://jasmin.ac.uk](https://jasmin.ac.uk)\\n\\n[CEDA-Archive](https://archive.ceda.ac.uk) serves as the national (UK) data centre for atmospheric and earth observation research. It currently holds >18 Petabytes of atmospheric and earth observation data from a variet of sources, such as aircraft campaigns, satellites imagery, automatic weather stations, climate models, etc. \\n\\nCEDA is one of 5 UK data centers, comprising the Environmental Data Service ([EDS](https://nerc.ukri.org/research/sites/environmental-data-service-eds/)), supported by the UK Research and Innovation\\'s National Environmental Research Council (NERC). The 5 centers are \\n1. British Oceanographic Data Centre (Marine), \\n2. CEDA (Atmospheric, Earth Observation, and Solar and space physics), \\n3. Environmental Information Data Centre (Terrestrial and freshwater), \\n4. National Geoscience Data Centre (Geoscience), and \\n5. Polar Data Centre (Polar and cryosphere). \\n   \\nAs the focus is on climate here, CEDA is the most relevant, but it is useful to know of these resources if you end up working in other fields. \\n\\nCEDA also serves as the Data Distribution Center ([DDC](https://www.ipcc-data.org)) for the Intergovernmental Panel on Climate Change ([IPCC](https://www.ipcc.ch)).\\n\\n[JASMIN](https://jasmin.ac.uk) is a data intensive supercomputer for environmental science. It currently supports over 160 projects ranging from climate science and oceanography to air pollution, earthquake deformation or biodiversity studies. JASMIN consists of multi-Petabyte fast storage, co-located with data analysis computing facilities. This would be the \"go-to\" tool for processing large amounts of climate data, which are directly linked to the system (through CEDA). We will here work offline (using local storage), but JASMIN and CEDA are useful resources for anyone working in environmental science in the UK (most nations don\\'t have these facilities - they are rare and valuable!). \\n\\nSince CEDA and JASMIN are linked, the **compute power is linked to the data**, making for an efficient environment for data analysis. \\n\\n#### Getting access\\n\\nObviously, maintaining these facilities has a cost and therefore not all users will have the same access priviledges. Members of educational, academic and research institutions in the UK can often access these infrastructures for free (pending one can demonstrate need and subject to a fair-use policy). Use and access will likely not be free for commercial applications.  \\n\\n**Use your Imperial College London email adresses (or from another UK institution) to register!**\\n\\nIn order to use the CEDA-Archive, it is necessary to first [register for an account](https://services.ceda.ac.uk/cedasite/register/info/). This is generally quick, easy and free.\\n\\nSimilarly, access to JASMIN requires an account, but this involves a more complex multi-step process. First, one must ask for a [JASMIN portal account](https://help.jasmin.ac.uk/article/4435-get-a-jasmin-account). If granted, one can then register for a [jasmin-login account] (https://help.jasmin.ac.uk/article/161-get-login-account). The type of account given will depend on need and priviledges requested. Users granted jasmin-login access get a HOME directory of 100GB of storage and can access the shared JASMIN servers (Scientific servers, data transfer servers, and the LOTUS HPC cluster).\\n   \\n[back to contents](#Contents)\\n\\n---', 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 6}}]",
      "[{'id': 1753903424143550, 'score': 0.73477614, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_11_md', 'type': 'markdown', 'content': \"<a id='NetCDF'></a>\\n\\n## Network Common Data Form (NetCDF)\\n\\n[NetCDF](https://www.unidata.ucar.edu/software/netcdf/) is one of the most common data format used to store climate data. NetCDF files allow the user to insert metadata in the data file by design, ensuring the data file is self-describing (amongst other properties).\\n\\n*NetCDF is a set of software libraries and machine-independent data formats that support the creation, access, and sharing of array-oriented scientific data.* \\n\\nThe netCDF format, which is a type of HDF format, is attractive because it is:\\n\\n* Self-Describing. A netCDF file includes information about the data it contains and metadata.\\n* Portable. A netCDF file can be accessed by computers with different ways of storing integers, characters, and floating-point numbers.\\n* Scalable. Small subsets of large datasets in various formats may be accessed efficiently through netCDF interfaces, even from remote servers.\\n* Appendable. Data may be appended to a properly structured netCDF file without copying the dataset or redefining its structure.\\n* Sharable. One writer and multiple readers may simultaneously access the same netCDF file.\\n* Archivable. Access to all earlier forms of netCDF data will be supported by current and future versions of the software.\\n\\n\\nThe NetCDF project is maintained by the Unidata program at the University Corporation for Atmospheric Research ([UCAR](https://www.ucar.edu)). [UCAR](https://www.ucar.edu) also manages [NCAR](https://ncar.ucar.edu), one of the first center to have developped climate models and is today one of the gold-standard on the topic. \\n\\nNCAR also developed [NCL](https://www.ncl.ucar.edu), an interpreted programming language designed specifically for scientific data analysis and visualization (we will not use NCL here, but the python package `ESMValTool` has build-in support for it). \\n\\n[NCAR](https://ncar.ucar.edu) has also developped the [climate data guide](https://climatedataguide.ucar.edu), a tool to search and access >200 data sets specific to the ocean, land and the atmosphere. (Some of these data may or may not also be found on CEDA.) \\n\\n[back to contents](#Contents)\\n\\n---\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 11}}, {'id': 1753901957112878, 'score': 0.701365, 'payload': {'original_id': 'uploads\\\\01v1_Why_climate_data.pdf_chunk_0', 'type': 'pdf', 'content': 'https://svs.gsfc.nasa.gov/30701Climate data and modelsEDSML MSc –Imperial College London –Environmental dataYves Plancherel-https://www.linkedin.com/in/yves-plancherel/\\nWhy discuss climate data and climate models?\\n1. Understand common data format and databasestructures specific to representative fields of environmental science2. Demonstrate technical competency in handling common data types routinely encountered in the environmental sciences and identify relevant open-source data repositories3. ', 'source_document': 'uploads\\\\01v1_Why_climate_data.pdf', 'chunk_number': 0}}, {'id': 1753903424509295, 'score': 0.6854701, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_1_md', 'type': 'markdown', 'content': \"---\\n\\n# 01- Introduction to climate data and climate models\\n\\n---\\n\\n<a id='Contents'></a>\\n## Contents\\n- [Lectures](#lectures)\\n- [Question](#question)\\n- [ESMValTool](#ESMValTool)\\n- [Sources of climate data](#climatedata)\\n- [CEDA](#CEDA)\\n- [File formats](#fileformat)\\n- [Metadata](#metadata)\\n- [NetCDF](#NetCDF)\\n- [NCO](#NCO)\\n- [Reanalysis products](#reanalysis)\\n- [Climate services UKCP18](#ukcp18)\\n  \\n## Learning outcomes\\n1. Understand the basics of climate modelling\\n2. Know where to find and how to access climate data (ESGF, CEDA)\\n3. Understand common file formats\\n4. Understand the importance of metadata and understand CF conventions\\n5. Understand the NetCDF file format and know how to read, create and maniputate NetCDF data\\n6. Become familiar with other key tools used to manipulate netCDF data (NCO, CDO)\\n7. Know how to access ERA5 reanalysis products\\n8. Climate Services and UKCP18 and ability to access that data\\n\\n---\\n\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 1}}, {'id': 1753903424243022, 'score': 0.68026894, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_10_md', 'type': 'markdown', 'content': \" * ### The Climate and Forecast (CF) Metadata Conventions (prominent in climate science)\\n \\nGiven the amount of data produced keeps increasing, data libraries are being developed. As in any library, certain sets of rules are required so that the data can be found later. Metadata are obviously a good way to ensure data can be catalogued and found by various search systems.\\n\\nMultiple types of conventions exist (see for example this [list of netCDF conventions from Unidata](https://www.unidata.ucar.edu/software/netcdf/conventions.html)). Ensuring that data files are produced in a way that follows conventions about content, vocabulary used and layout, allows for batch processing, easy extraction and automation! It is extremely useful (but should not prevent innovation).\\n\\nCEDA, as it focuses on climate and environmental data, relies extensively on the [Climate and Forecast (CF) Conventions](http://cfconventions.org). The CF Conventions are probably the most popular in climate science (it underpins the modelling effort of the IPCC). A detailed description of the latest release of the CF Conventions for netCDF can be found [here](http://cfconventions.org/Data/cf-conventions/cf-conventions-1.9/cf-conventions.html). \\n\\nThe CF Conventions were designed specifically for the netCDF format but they can be applied widely. The netCDF format enables creation of self-describing datasets by design. CF Conventions aim to ensure that  files contain sufficient metadata that they are self-describing in the sense that each variable in the file has an associated description of what it represents, including physical units if appropriate, and that each value can be located in space (relative to earth-based coordinates) and time. (Absence of such information in early (historical) datasets has hindered climate change science for decades - how does one measure change, if one cannot locate the observations in time and space?)\\n\\nOne example of CF Conventions is to provide a list of **standard_names** for certain commonly-used variables. The [CF standard name table] (http://cfconventions.org/Data/cf-standard-names/current/build/cf-standard-name-table.html) will show what the names are and describe what they represent. \\n\\nTo illustrate, imagine you work with data at the earth surface and label your variable 'temperature'. What did you mean exactly? Surface temperature of the ocean/land, or air temperature? etc. CF conventions ensure that climate scientists name common variables in the same way. \\n\\nA [python package](https://pypi.org/project/cfunits/) called `cfunits` provides an interface to the CF Convention. This is useful to combine and compare variables and convert various units. By relying on a package, fewer user-errors are made.   \\n\\nThe CF Conventions are not fixed, they are evolving depending on needs and scientific progress. Although conventions are decided by a committee of experts, anyone can propose a change to the convention by engaging in the [discussion forum](https://cfconventions.org/discussion.html).\\n\\n\\n[back to contents](#Contents)\\n\\n---\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 10}}, {'id': 1753903424357433, 'score': 0.6684958, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_5_md', 'type': 'markdown', 'content': \"<a id='climatedata'></a>\\n\\n# Working with climate data and climate models\\n\\n### Earth System Grid Federation (ESGF)\\n\\n![esgf](img/ESGF_logo.png)\\n\\n\\n[ESGF](https://esgf.llnl.gov) is an open-source platform that provides distributed access to peta/exa-scale scientific data, **globally**. \\n\\nIt is an interagency and international effort led by the US Department of Energy (DOE), co-funded by National Aeronautics and Space Administration (NASA), National Oceanic and Atmospheric Administration (NOAA), the US National Science Foundation (NSF), and other international partners, such as the Max Planck Institute for Meteorology (MPI-M) German Climate Computing Centre (DKRZ), the Australian National University (ANU) National Computational Infrastructure (NCI), Institut Pierre-Simon Laplace (IPSL), and the **Centre for Environmental Data Analysis ([CEDA](https://www.ceda.ac.uk))** in the UK.\\n\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 5}}, {'id': 1753903424623019, 'score': 0.6642697, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_37_md', 'type': 'markdown', 'content': \"### Climate Data Operators (CDO)\\nThe Climate Data Operators ([CDO](https://code.mpimet.mpg.de/projects/cdo)) software is a collection of >600 operators for standard processing of climate and forecast model data. They are slighly less memory/speed efficient than NCO, but they do more (>600 vs 12!). CDO support the main data formats used in the field, such as GRIB and netCDF. \\n\\nThey too can be daisy-chained for specific applications. There are [many recipes available](https://code.mpimet.mpg.de/projects/cdo/embedded/cdo_eca.pdf) to calculate various climate indices and diagnostics, what makes them very attractive to evaluate gridded climate data or climate model output.\\n\\nThe [CDO user guide](https://code.mpimet.mpg.de/projects/cdo/embedded/index.html) provides details instructions and examples. \\n\\n[They are also very useful, but we don't have time to discuss them in detail here. You are encouraged to practice with CDO on your own time]\\n\\n[back to contents](#Contents)\\n\\n---\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 37}}, {'id': 1753903424142956, 'score': 0.66100264, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_4_md', 'type': 'markdown', 'content': \"<a id='ESMValTool'></a>\\n\\n# Python environments to consider for working with climate data \\n\\n* ## Earth System Model Evaluation Tool (ESMValTool)\\n![esmvaltool](img/ESMValTool-logo-2.png)\\n\\nThis week, it should be possible to simply install packages as needed...\\n\\nHowever, if you anticipate possible future needs, you may want to invest a bit of effort to setup a specific python environment to work with climate data. If so, a good place to start is the `ESMValTool` project. \\n\\n\\n\\n[ESMValTool](https://docs.esmvaltool.org/projects/esmvalcore/en/latest/index.html) is  a community-led, open source, set of software tools (build on python 3) developed to improve diagnosing and understanding climate models. While the focus has been on climate models, not observations, one cannot quantify model biases without also comparing the model results with observations. [ESMValTool](https://docs.esmvaltool.org/projects/esmvalcore/en/latest/index.html) therefore also has some capability to analyze and manipulate large datasets. \\n\\n[ESMValTool](https://docs.esmvaltool.org/projects/esmvalcore/en/latest/index.html) can work offline, but as the amount of climate data is so large, it is mostly designed to work with data centers that provide local access to the vast amount of data. One such initiative is the Earth System Grid Federation ([ESGF](https://esgf.llnl.gov)). ESMValTool provides functionality to work on HPC systems.\\n\\nWe will not use ESMValTool here specifically, but it will install other convenient tools and you may be curious to investigate ESMValTool capabilities on your own anyways. It is now used routinely for climate modelling research. \\n\\nAdditional information and help can be found at https://www.esmvaltoolorg, and on the [ESMValGroup](https://github.com/ESMValGroup) github page. The [ESMValTool tutorial](https://esmvalgroup.github.io/ESMValTool_Tutorial/) is a great resource to get started. \\n\\n\\n### OPTIONAL: Installing ESMValTool (NB: this often fails for students - installing this is not required for the course)\\n[Installation instructions](https://docs.esmvaltool.org/en/latest/quickstart/installation.html) differ by operating system and it is very much an experimental, in development, tool - keep this in mind! \\n\\n[Notes:ESMValTool 2.0 requires a Unix(-like) operating system and Python 3.7+. (Python 3.7, 3.8 and 3.9 are supported). On my laptop (Macbook pro 13'' M1 2020 with OS Monterey 12.0.1), I installed it in Nov 2021 with Python 3.9.7. ...but I installed it when 'conda' was still an installation option. ESMValTool developer have  changed installation methods to `mamba` recently. Do refer to online/official instructions). You will now be required to also [install `mamba`](https://docs.esmvaltool.org/en/latest/quickstart/installation.html#mamba-installation) first (...yet another package/dependency manager).] \\n\\nESMValTool can also work with Julia, R, NCL. Do check installation instructions for these extensions. \\n\\n[back to contents](##Contents)\\n\\n---\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 4}}, {'id': 1753901956989969, 'score': 0.65697336, 'payload': {'original_id': 'uploads\\\\01v1_Why_climate_data.pdf_chunk_2', 'type': 'pdf', 'content': ' as well as errors stemming from the analytical procedure itself (e.g.calibration of analysis using synthetic data/models).Learning objectives of the Environmental Data module•Growing/important field –with likely career opportunities•Great playground to deliver learning objectives\\nUsing climate models: quantification/forecasting(impacts, adaptation, mitigation)\\nhttps://www.noaa.gov/education/resource-collections/climate/climate-change-impacts\\nUsing climate models: designscenarios(explore policy,', 'source_document': 'uploads\\\\01v1_Why_climate_data.pdf', 'chunk_number': 2}}, {'id': 1753903424368210, 'score': 0.6553483, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_2_md', 'type': 'markdown', 'content': \"<a id='lectures'></a>\\n# Lecture on relevance of climate science, climate models and climate modelling\\n\\n\\n(see Powerpoint presentations)\\n\\n1. 01v1_Why_climate_data.pptx/pdf\\n2. 02v1_Building_climate_models.pptx/pdf\\n3. 03v1_Common_issues.pptx/pdf\\n   \\n\\n---\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 2}}, {'id': 1753902702794239, 'score': 0.65534645, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_8', 'type': 'pdf', 'content': 'cool and warm the climateThe microphysics responsible for cloud formation is not well understoodThe grid cells in models are much much bigger than time/space scales relevant for cloud physicsÞMagnitude/location of rain events is hard to predict wellÞThat information is useful though!\\nComparing models with data•What is a data point? Observation vs model result•Are model solutions at a point similar toa data point (i.e.observational sample)?–Spatially?–Temporally?•Using data well is not a trivial ', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 8}}]"
    ],
    "response": "To effectively manage and analyze climate data and models in this notebook, consider the following organized approach:\n\n1. **Data Handling and Storage:**\n   - Utilize Python libraries like `xarray` and `netCDF4` for handling multi-dimensional arrays and netCDF files, respectively. These tools are essential for processing large climate datasets.\n   - Leverage cloud-based storage services such as AWS S3",
    "reference": "Climate data is crucial because it supports understanding environmental dynamics, evaluating the effects of climate change, and informs policy, adaptation, and mitigation strategies.",
    "iteration_scores": [
      {
        "iteration": 1,
        "decomposition": 8.0,
        "retrieval": 4.375,
        "generation": 1.0,
        "total": 4.458333333333333
      },
      {
        "iteration": 2,
        "decomposition": 9.0,
        "retrieval": 2.0,
        "generation": 1.5999999999999999,
        "total": 4.2
      },
      {
        "iteration": 3,
        "decomposition": 10.0,
        "retrieval": 4.0,
        "generation": 1.0,
        "total": 5.0
      }
    ]
  },
  {
    "user_input": "How would you use discretization to convert a climate model equation into a numerically solvable format?",
    "retrieved_contexts": [
      "[{'id': 1753902299901317, 'score': 0.62469804, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_3', 'type': 'pdf', 'content': ' an extra equation(implicit scheme)\\nii+1\\n\\nWhat does a model need?Discretization needed to implement numericallydCdt=λCCi+1−Ci−12Δt=λCiCi+1=2λΔtCi+Ci−1Centered differenceRequires knowing more things from more points\\nii+1i-1\\nThe “dynamical/numerical core” of a model matters …a lot!•System of equation (partial differentials in 3D)•Discretizationand integrationscheme–These 3 are mathematically all valid but can produce very different answers when implemented…Ci+1=Ci1+λΔt()Forward difference(aka Forw', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 3}}, {'id': 1753902300472417, 'score': 0.6190816, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_1', 'type': 'pdf', 'content': 'ng physics)What are they for climate?\\nWhat does a model need?A very simple analytical exampleMany equations cannot be solved analytically…What do we have to do to solve them numerically?\\nii+1i+2…i-1i-2…Applies to time + 3D space\\nDiscretization\\nii+1i+2…i-1i-2…Applies to time + 3D spacedCdt=limΔt→0C(t+Δt)−C(t)ΔtdCdt≈C(t+Δt)−C(t)Δt,Δt>0ContinuumDiscrete(Taylor series expansion)\\nInpractice, this implies choices of Dx, Dy, Dz, Dt, size of the stencil, numerical stability, computational ability/costs,', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 1}}, {'id': 1753902703274403, 'score': 0.617092, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_4', 'type': 'pdf', 'content': 'solving dynamical equations–Smaller discretization steps•Better representation of topography/bathymetry (mountains, islands, seamounts…)–Grid-boxes have vertical walls (depends on coordinate system)•Explicit inclusion of subgrid-scale processes–Parameterizing vs. resolving (e.g.eddies, overflows, etc)•Property gradients can be larger –Affects pressure gradients (i.e.velocity of currents)–Model becomes more advective and less diffusive, maybe more turbulent–Exchange-processes that depend on gradi', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 4}}]",
      "[{'id': 1753902703274403, 'score': 0.66073096, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_4', 'type': 'pdf', 'content': 'solving dynamical equations–Smaller discretization steps•Better representation of topography/bathymetry (mountains, islands, seamounts…)–Grid-boxes have vertical walls (depends on coordinate system)•Explicit inclusion of subgrid-scale processes–Parameterizing vs. resolving (e.g.eddies, overflows, etc)•Property gradients can be larger –Affects pressure gradients (i.e.velocity of currents)–Model becomes more advective and less diffusive, maybe more turbulent–Exchange-processes that depend on gradi', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 4}}, {'id': 1753902300472417, 'score': 0.65187573, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_1', 'type': 'pdf', 'content': 'ng physics)What are they for climate?\\nWhat does a model need?A very simple analytical exampleMany equations cannot be solved analytically…What do we have to do to solve them numerically?\\nii+1i+2…i-1i-2…Applies to time + 3D space\\nDiscretization\\nii+1i+2…i-1i-2…Applies to time + 3D spacedCdt=limΔt→0C(t+Δt)−C(t)ΔtdCdt≈C(t+Δt)−C(t)Δt,Δt>0ContinuumDiscrete(Taylor series expansion)\\nInpractice, this implies choices of Dx, Dy, Dz, Dt, size of the stencil, numerical stability, computational ability/costs,', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 1}}, {'id': 1753902300119549, 'score': 0.64882207, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_5', 'type': 'pdf', 'content': 'added)•flows forward, then flows backwards•Ideally,shouldreturntoinitialvalues•Deviations are indicative of numerical issues\\nTesting the numerical core…when we don’t have an exact solution to compare to\\nThis highlights the problem of numerical diffusionEach schemewillhaveitsownweaknesses andstrengths (and conservation properties)\\nWhat does a numericalmodel need?summary•Need equations (+ parameterizations)–Output = function(input)•Need a starting point–Boundary conditions•Must define time and spa', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 5}}, {'id': 1753902299901317, 'score': 0.6303192, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_3', 'type': 'pdf', 'content': ' an extra equation(implicit scheme)\\nii+1\\n\\nWhat does a model need?Discretization needed to implement numericallydCdt=λCCi+1−Ci−12Δt=λCiCi+1=2λΔtCi+Ci−1Centered differenceRequires knowing more things from more points\\nii+1i-1\\nThe “dynamical/numerical core” of a model matters …a lot!•System of equation (partial differentials in 3D)•Discretizationand integrationscheme–These 3 are mathematically all valid but can produce very different answers when implemented…Ci+1=Ci1+λΔt()Forward difference(aka Forw', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 3}}, {'id': 1753902299806645, 'score': 0.62491494, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_2', 'type': 'pdf', 'content': ' problem under study, etc.\\nWhat does a model need?A very simple numerical exampledCdt=λCCi+1−Citi+1−ti=λCiCi+1=Ci1+λΔt()dCdt=limΔt→0C(t+Δt)−C(t)ΔtRequires discretization of derivativesand numerical integration to step forward from tito tf=NDTForward difference(aka Forward Euler)[climatemodelsusemuchmorecomplex schemes]\\nii+1\\nWhat does a model need?Discretization needed to implement numericallydCdt=λCCi+1−CiΔt=λCi+1Ci+1=λΔtCi+1+CiCi+1=Ci11−λΔtBackward difference(aka backward Euler)Requires solving', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 2}}, {'id': 1753902703299772, 'score': 0.61789626, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_3', 'type': 'pdf', 'content': 'l sense of incomplete/uncertain results and design meaningful experiments(experimental design is key)\\nModel resolutionIncreasing spatial resolution…also means increasing temporal resolution to maintain numerical stability(i.e.decrease time step)Huge cost of resolution:2x increase in spatial resolution in all dimensions means 23=8x more computations23=8x more memory23=8x more timeWith decreased time-step>16x slower and more demanding\\nBenefits of improving resolution?•Better numerical accuracy in ', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 3}}, {'id': 1753903968314666, 'score': 0.60387135, 'payload': {'original_id': 'uploads\\\\intro_to_spatialanalysis.ipynb_cell_7_md', 'type': 'markdown', 'content': \"One can then use the arrays **X** and **Y** to directly evaluate functions over the entire grid, for example.\\n\\n**Note**: When working with model output, you may see that the latitudes an longitudes may be supplied either as vectors (**x,y**) or as two arrays (**X,Y**). This generally depends on whether the data are supplied on a regular grid (fixed latitudes and longtiude steps), or not. The native model grids are rarely regular (they can be curved and the resolution typically changes regionally, so providing vectors of latitudes and longitudes simply wouldn't make any sense). \", 'source_document': 'uploads\\\\intro_to_spatialanalysis.ipynb', 'cell_number': 7}}, {'id': 1753903968044356, 'score': 0.60036016, 'payload': {'original_id': 'uploads\\\\intro_to_spatialanalysis.ipynb_cell_4_md', 'type': 'markdown', 'content': \"\\n\\nThere are two types of interpolation problems: \\n1. interpolation from [`gridded data`](http://uk.mathworks.com/help/matlab/math/interpolating-gridded-data.html)\\n2. interolation from [`scattered data`](http://uk.mathworks.com/help/matlab/math/interpolating-scattered-data.html).\\n\\nInterpolation techniques designed for scattered data can of course also be used for gridded data.  However, functions specific for gridded data cannot typically be used for scattered data. This is because functions for gridded data make a priori assumptions about the regular spacing and arrangements of the control points to maximize computing efficiency.\\n\\nOrder in the data relates to computational efficiency because the computer doesn't have to look for the data in its memory and sort them in the sequence they are needed for the calculation, the data are already conveniently all next to one-another. In that case, the computer can very efficiently calculate differences between neighboring points, such as $x(i+1)-x(i)$, with these differences having meaning (e.g. a finite difference). This is not the case in scattered datasets where there is no obvious connection between the i$^{th}$ data point and the i$^{th}$+1 or i$^{th}$-1 sample. Extra computational steps are needed when dealing with scattered data.\\n\", 'source_document': 'uploads\\\\intro_to_spatialanalysis.ipynb', 'cell_number': 4}}]",
      "[{'id': 1753902300472417, 'score': 0.7045553, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_1', 'type': 'pdf', 'content': 'ng physics)What are they for climate?\\nWhat does a model need?A very simple analytical exampleMany equations cannot be solved analytically…What do we have to do to solve them numerically?\\nii+1i+2…i-1i-2…Applies to time + 3D space\\nDiscretization\\nii+1i+2…i-1i-2…Applies to time + 3D spacedCdt=limΔt→0C(t+Δt)−C(t)ΔtdCdt≈C(t+Δt)−C(t)Δt,Δt>0ContinuumDiscrete(Taylor series expansion)\\nInpractice, this implies choices of Dx, Dy, Dz, Dt, size of the stencil, numerical stability, computational ability/costs,', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 1}}, {'id': 1753903968044356, 'score': 0.6829108, 'payload': {'original_id': 'uploads\\\\intro_to_spatialanalysis.ipynb_cell_4_md', 'type': 'markdown', 'content': \"\\n\\nThere are two types of interpolation problems: \\n1. interpolation from [`gridded data`](http://uk.mathworks.com/help/matlab/math/interpolating-gridded-data.html)\\n2. interolation from [`scattered data`](http://uk.mathworks.com/help/matlab/math/interpolating-scattered-data.html).\\n\\nInterpolation techniques designed for scattered data can of course also be used for gridded data.  However, functions specific for gridded data cannot typically be used for scattered data. This is because functions for gridded data make a priori assumptions about the regular spacing and arrangements of the control points to maximize computing efficiency.\\n\\nOrder in the data relates to computational efficiency because the computer doesn't have to look for the data in its memory and sort them in the sequence they are needed for the calculation, the data are already conveniently all next to one-another. In that case, the computer can very efficiently calculate differences between neighboring points, such as $x(i+1)-x(i)$, with these differences having meaning (e.g. a finite difference). This is not the case in scattered datasets where there is no obvious connection between the i$^{th}$ data point and the i$^{th}$+1 or i$^{th}$-1 sample. Extra computational steps are needed when dealing with scattered data.\\n\", 'source_document': 'uploads\\\\intro_to_spatialanalysis.ipynb', 'cell_number': 4}}, {'id': 1753902703274403, 'score': 0.6825123, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_4', 'type': 'pdf', 'content': 'solving dynamical equations–Smaller discretization steps•Better representation of topography/bathymetry (mountains, islands, seamounts…)–Grid-boxes have vertical walls (depends on coordinate system)•Explicit inclusion of subgrid-scale processes–Parameterizing vs. resolving (e.g.eddies, overflows, etc)•Property gradients can be larger –Affects pressure gradients (i.e.velocity of currents)–Model becomes more advective and less diffusive, maybe more turbulent–Exchange-processes that depend on gradi', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 4}}, {'id': 1753903968314666, 'score': 0.6818144, 'payload': {'original_id': 'uploads\\\\intro_to_spatialanalysis.ipynb_cell_7_md', 'type': 'markdown', 'content': \"One can then use the arrays **X** and **Y** to directly evaluate functions over the entire grid, for example.\\n\\n**Note**: When working with model output, you may see that the latitudes an longitudes may be supplied either as vectors (**x,y**) or as two arrays (**X,Y**). This generally depends on whether the data are supplied on a regular grid (fixed latitudes and longtiude steps), or not. The native model grids are rarely regular (they can be curved and the resolution typically changes regionally, so providing vectors of latitudes and longitudes simply wouldn't make any sense). \", 'source_document': 'uploads\\\\intro_to_spatialanalysis.ipynb', 'cell_number': 7}}, {'id': 1753902299806645, 'score': 0.6688368, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_2', 'type': 'pdf', 'content': ' problem under study, etc.\\nWhat does a model need?A very simple numerical exampledCdt=λCCi+1−Citi+1−ti=λCiCi+1=Ci1+λΔt()dCdt=limΔt→0C(t+Δt)−C(t)ΔtRequires discretization of derivativesand numerical integration to step forward from tito tf=NDTForward difference(aka Forward Euler)[climatemodelsusemuchmorecomplex schemes]\\nii+1\\nWhat does a model need?Discretization needed to implement numericallydCdt=λCCi+1−CiΔt=λCi+1Ci+1=λΔtCi+1+CiCi+1=Ci11−λΔtBackward difference(aka backward Euler)Requires solving', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 2}}, {'id': 1753902300119549, 'score': 0.66651547, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_5', 'type': 'pdf', 'content': 'added)•flows forward, then flows backwards•Ideally,shouldreturntoinitialvalues•Deviations are indicative of numerical issues\\nTesting the numerical core…when we don’t have an exact solution to compare to\\nThis highlights the problem of numerical diffusionEach schemewillhaveitsownweaknesses andstrengths (and conservation properties)\\nWhat does a numericalmodel need?summary•Need equations (+ parameterizations)–Output = function(input)•Need a starting point–Boundary conditions•Must define time and spa', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 5}}, {'id': 1753903968752811, 'score': 0.66141176, 'payload': {'original_id': 'uploads\\\\intro_to_spatialanalysis.ipynb_cell_21_md', 'type': 'markdown', 'content': \"<a id='fitting'></a>\\n# Surface fitting\\n\\nThe interpolation techniques described above work very well when the space is relatively well-sampled, when one does not want to extrapolate beyond the convex hull and in the absence of variability or uncertainties associated the control points. If these conditions are not met, a better approach to interpreting spatial data may be **to fit a surface across the collection of samples** rather than to force a surface to pass exactly through each control point. This process is sometimes called optimal interpolation because it involves mininizing misfit errors.\\n\\nAn optimally interpolated surface will tend to be smoother than the original data field. \\n\\nThe contoured values at locations where samples exist won't equal to the data point at that location due to the noise associated with each measurement. The contoured estimate will tend to either over or underestimate the true value, within a tolerance controlled by the noise associated with the measurements. \\n\\nThe shape of the fitted surface will depend strongly on the data available: their locations, their uncertainties, as well as subjective choices made during the analysis (i.e. definition of the so-called 'covariance matrix').\\n\\nWe will here look at a technique called **kriging**, pioneered by a South African mining engineer called Danie G. Krige (1919-2013) and further formalized by geologist and mathematician Georges Matheron (1930-2000), who, together with Jean Serra, is often considered to be the founder of geostatistics.\\n\", 'source_document': 'uploads\\\\intro_to_spatialanalysis.ipynb', 'cell_number': 21}}, {'id': 1753903968777554, 'score': 0.65966946, 'payload': {'original_id': 'uploads\\\\intro_to_spatialanalysis.ipynb_cell_23_md', 'type': 'markdown', 'content': '#### Mathematical formulation (only the basic setup of the problem, not the solution)\\n\\nThe general problem is to compute an estimate $\\\\hat{F}(\\\\vec{x}_0,t)$ of the true field $F(\\\\vec{x}_0,t)$ at query position $\\\\vec{x}_0$ from a finite number of scattered observations $f(\\\\vec{x}_n,t)$ taken at locations $\\\\vec{x}_n$, with $n=1,2,...,N$.\\n\\nIf we consider a snap-shot in time, i.e. dropping the time index $t$, the generalized kriging problem can be stated as\\n\\n\\\\begin{equation}\\n\\\\hat{F}(\\\\vec{x}_0)=\\\\overline{F(\\\\vec{x})}+\\\\sum\\\\limits_{i=1}^Nb(x_i)(f(x_i)-\\\\overline{f(x_i)})\\n\\\\end{equation}\\n\\nwhere the overbars denote the expectation value (i.e. the mean) and the $b(x_i)$ are yet unspecified weighting coefficients for each data point $x_i$, subject to $\\\\sum\\\\limits_{i=1}^Nb(x_i)=1$.\\n\\nThe generalized kriging problem equation above means that to predict the value of the field $\\\\hat{F}(\\\\vec{x}_0)$ at a query location $\\\\vec{x}_0$, a good guess is to start with the mean (or some known structure) of the overall field $\\\\overline{F(\\\\vec{x})}$, to which we add corrections. For any given query point $\\\\vec{x}_0$, the necessary correction is calcuated as a weighted sum of contributions from the available samples $x_i$. The big question is what values should the weight corresponding to each sample have? Answering this question is not easy - it is basically the whole point of kriging. The answer will depend on any additional constraints that one applies on these weights and on any additional properties one wishes the field $F$ or $D$ to have (stationarity of various moments, isotropy, etc.). Different assumptions/requirements results in different types of kriging: **simple kriging**, **ordinary kriging**, **universal kriging**, etc. In all cases, though, the weights $b(x_i)$ are obtained by using least-squares optimization and minimizing the error defined by the difference between the true field and the prediction.\\n\\nA full mathematical description is beyond the scope here, but we will just point out that implementation of krigging in practice usually requires the user to specify a `variogram`.\\n', 'source_document': 'uploads\\\\intro_to_spatialanalysis.ipynb', 'cell_number': 23}}, {'id': 1753903968084902, 'score': 0.6520923, 'payload': {'original_id': 'uploads\\\\intro_to_spatialanalysis.ipynb_cell_1_md', 'type': 'markdown', 'content': \"<a id='spatial'></a>\\n# Analysis of spatial data\\n\\nSo far in this class, we have mostly considered the analysis of data-series from single locations, where some property is measured repeadedly in time, or data that came already gridded in easy to use format. \\n\\nHowever, often in environmental sciences, we are faced with a different or additional problem; that is one will have to either make sense of many single measurements dispersed in space or even with multiple time-series dispersed in space. \\n\\nThe problem of making sense of spatially dispersed data is often linked to the problem of `contouring`. Contouring essentially means guessing what the measured scalar or vector field looks like where it was not sampled. As in 1D cases, there are **two ways** of approaching the problem. One can either **interpolate** between available samples or **fit a function** that minimizes the error between the predicted values and the measured data. We will here review the advantages and disadvantages of each approach and introduce some commands and libraries that are useful to interpret spatial data. \\n\\nHistorically, contouring was done by eye. With the advent of computing, however, there are now algorithms which can be used to automate the process. It should be emphasized, though, that no algorithm is perfect (as we already know!). The advantage of computer-based contouring is that it is at least repeatable, whereas contouring by eye involves a lot of subjective choices. For this reason, computer-based mapping is sometimes said to be `objective`. As we will see below though, this does not mean that everything is truely automatic: choices made affect results and their interpretation. \\n\\nWhile contouring algorithms will typically work fine in simple cases, they often have a hard time dealing with discontinuities. For example, most 'out-of-the-box' contouring programs will interpolate across montains or, in oceanography, will ,forget, that continents separate the Atlantic and the Pacific ocean. While we will only look at simple cases here, one should be aware\\n1. that more complicated techniques exist than those presented here\\n2. that using the wrong algorithm can result in catastrophically bad maps that introduce features that do not actually exist, what could have severe or costly implications. \\n\", 'source_document': 'uploads\\\\intro_to_spatialanalysis.ipynb', 'cell_number': 1}}, {'id': 1753903968040088, 'score': 0.651155, 'payload': {'original_id': 'uploads\\\\intro_to_spatialanalysis.ipynb_cell_18_md', 'type': 'markdown', 'content': \"Now let's explore how the interpolation depends on the number of sample points. Decrease the number of points from 1000 to 100. Also see how the area that is interpolated over is limited by the convex hull of the data. \\n\", 'source_document': 'uploads\\\\intro_to_spatialanalysis.ipynb', 'cell_number': 18}}]",
      "[{'id': 1753902299594208, 'score': 0.6319757, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_4', 'type': 'pdf', 'content': 'ard Euler)Ci+1=Ci11−λΔt=1Backward difference(aka backward Euler)Ci+1=2λΔtCi+Ci−1Centered differenceetc…\\nCf=CoeλtExact solutionDt=0.05Dt=0.5l=-0.9l=0.9l=0.9l=-0.9Dt=0.05ExactForwardBackwardCentered\\nExactForwardBackwardCenteredDt=0.5\\nTesting the numerical core…when we don’t have an exact solution to compare to\\nIdealized simulations~ numerical equivalent of calibration in a lab\\nu(x,y)=sin2(πx)sin(2πy)cos(πt/5)v(x,y)=−sin2(πy)sin(2πx)cos(πt/5)Example: •Purely advective system (no explicit diffusion ', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 4}}, {'id': 1753902300472417, 'score': 0.6303822, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_1', 'type': 'pdf', 'content': 'ng physics)What are they for climate?\\nWhat does a model need?A very simple analytical exampleMany equations cannot be solved analytically…What do we have to do to solve them numerically?\\nii+1i+2…i-1i-2…Applies to time + 3D space\\nDiscretization\\nii+1i+2…i-1i-2…Applies to time + 3D spacedCdt=limΔt→0C(t+Δt)−C(t)ΔtdCdt≈C(t+Δt)−C(t)Δt,Δt>0ContinuumDiscrete(Taylor series expansion)\\nInpractice, this implies choices of Dx, Dy, Dz, Dt, size of the stencil, numerical stability, computational ability/costs,', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 1}}, {'id': 1753902299901317, 'score': 0.6228249, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_3', 'type': 'pdf', 'content': ' an extra equation(implicit scheme)\\nii+1\\n\\nWhat does a model need?Discretization needed to implement numericallydCdt=λCCi+1−Ci−12Δt=λCiCi+1=2λΔtCi+Ci−1Centered differenceRequires knowing more things from more points\\nii+1i-1\\nThe “dynamical/numerical core” of a model matters …a lot!•System of equation (partial differentials in 3D)•Discretizationand integrationscheme–These 3 are mathematically all valid but can produce very different answers when implemented…Ci+1=Ci1+λΔt()Forward difference(aka Forw', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 3}}, {'id': 1753903968636934, 'score': 0.6093135, 'payload': {'original_id': 'uploads\\\\intro_to_spatialanalysis.ipynb_cell_11_code', 'type': 'code', 'content': \"from scipy.interpolate import interpn\\n\\n# let's create a function to create synthetic values of z\\ndef value_func_3d(x, y, z):\\n     return 2 * x + 3 * y - z\\n\\n# define a 3D grid\\nx = np.linspace(0, 4, 5)\\ny = np.linspace(0, 5, 6)\\nz = np.linspace(0, 6, 7)\\npoints = (x, y, z)\\n\\n# evalulate the function to get 'values' on that 3D grid\\nvalues = value_func_3d(*np.meshgrid(*points, indexing='ij'))\\n\\n# Now use interpolation\\npoint = np.array([2.21, 3.12, 1.15]) # create a 3D 'query' point\\nprint(interpn(points, values, point)) # user interpn and see the value of z here\", 'source_document': 'uploads\\\\intro_to_spatialanalysis.ipynb', 'cell_number': 11}}, {'id': 1753902299806645, 'score': 0.60214317, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_2', 'type': 'pdf', 'content': ' problem under study, etc.\\nWhat does a model need?A very simple numerical exampledCdt=λCCi+1−Citi+1−ti=λCiCi+1=Ci1+λΔt()dCdt=limΔt→0C(t+Δt)−C(t)ΔtRequires discretization of derivativesand numerical integration to step forward from tito tf=NDTForward difference(aka Forward Euler)[climatemodelsusemuchmorecomplex schemes]\\nii+1\\nWhat does a model need?Discretization needed to implement numericallydCdt=λCCi+1−CiΔt=λCi+1Ci+1=λΔtCi+1+CiCi+1=Ci11−λΔtBackward difference(aka backward Euler)Requires solving', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 2}}]",
      "[{'id': 1753903968314666, 'score': 0.70105016, 'payload': {'original_id': 'uploads\\\\intro_to_spatialanalysis.ipynb_cell_7_md', 'type': 'markdown', 'content': \"One can then use the arrays **X** and **Y** to directly evaluate functions over the entire grid, for example.\\n\\n**Note**: When working with model output, you may see that the latitudes an longitudes may be supplied either as vectors (**x,y**) or as two arrays (**X,Y**). This generally depends on whether the data are supplied on a regular grid (fixed latitudes and longtiude steps), or not. The native model grids are rarely regular (they can be curved and the resolution typically changes regionally, so providing vectors of latitudes and longitudes simply wouldn't make any sense). \", 'source_document': 'uploads\\\\intro_to_spatialanalysis.ipynb', 'cell_number': 7}}, {'id': 1753902703274403, 'score': 0.67646646, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_4', 'type': 'pdf', 'content': 'solving dynamical equations–Smaller discretization steps•Better representation of topography/bathymetry (mountains, islands, seamounts…)–Grid-boxes have vertical walls (depends on coordinate system)•Explicit inclusion of subgrid-scale processes–Parameterizing vs. resolving (e.g.eddies, overflows, etc)•Property gradients can be larger –Affects pressure gradients (i.e.velocity of currents)–Model becomes more advective and less diffusive, maybe more turbulent–Exchange-processes that depend on gradi', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 4}}, {'id': 1753903968109184, 'score': 0.6747376, 'payload': {'original_id': 'uploads\\\\intro_to_spatialanalysis.ipynb_cell_16_md', 'type': 'markdown', 'content': 'Python has a function to do scattered interpolation (interpolate unstructured data) called [`scipy.interpolate.griddata`](https://docs.scipy.org/doc/scipy/reference/reference/generated/scipy.interpolate.griddata.html#scipy.interpolate.griddata). This function essentially performs a Delauney triangulation of the data, and then interpolates within the triangles. There are 3 options to interpolate: nearest, linear, cubic. \\n', 'source_document': 'uploads\\\\intro_to_spatialanalysis.ipynb', 'cell_number': 16}}, {'id': 1753903968774894, 'score': 0.6694689, 'payload': {'original_id': 'uploads\\\\intro_to_spatialanalysis.ipynb_cell_20_code', 'type': 'code', 'content': \"import numpy as np\\nfrom scipy.interpolate import griddata\\n\\n# create some random sample coordinates\\nz = np.random.rand(100, 100)\\nz.shape = (100, 100)\\nx, y = np.arange(-5, 5, 0.1), np.arange(-5, 5, 0.1)\\n\\nxx, yy = np.meshgrid(x, y, indexing='ij')\\n\\nnewx, newy = np.arange(-2, 2, 0.1), np.arange(-2, 2, 0.1)\\n\\ngriddata((xx.ravel(), yy.ravel()), z.ravel(), (newx[None, :], newy[:, None]))\", 'source_document': 'uploads\\\\intro_to_spatialanalysis.ipynb', 'cell_number': 20}}, {'id': 1753903967945585, 'score': 0.66341686, 'payload': {'original_id': 'uploads\\\\intro_to_spatialanalysis.ipynb_cell_10_md', 'type': 'markdown', 'content': '[`interpn`](https://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.interpn.html) performs N-D interpolation of gridded data. Here is an example: ', 'source_document': 'uploads\\\\intro_to_spatialanalysis.ipynb', 'cell_number': 10}}, {'id': 1753903968333993, 'score': 0.65540314, 'payload': {'original_id': 'uploads\\\\intro_to_spatialanalysis.ipynb_cell_6_code', 'type': 'code', 'content': \"import numpy as np\\nnx, ny = (7,7)\\nx = np.linspace(-3, 3, nx) # define a vector of x-axis coordinates\\ny = np.linspace(-3, 3, ny) # define a vector of y-axis coordinates\\nprint('x =', x)\\nprint('y =', y)\\n\\nX, Y = np.meshgrid(x, y) # define a matrix/array with X and Y of coordinates\\n\\nprint('grid X =', X)\\nprint('grid Y =', Y)\", 'source_document': 'uploads\\\\intro_to_spatialanalysis.ipynb', 'cell_number': 6}}, {'id': 1753903968044356, 'score': 0.6473906, 'payload': {'original_id': 'uploads\\\\intro_to_spatialanalysis.ipynb_cell_4_md', 'type': 'markdown', 'content': \"\\n\\nThere are two types of interpolation problems: \\n1. interpolation from [`gridded data`](http://uk.mathworks.com/help/matlab/math/interpolating-gridded-data.html)\\n2. interolation from [`scattered data`](http://uk.mathworks.com/help/matlab/math/interpolating-scattered-data.html).\\n\\nInterpolation techniques designed for scattered data can of course also be used for gridded data.  However, functions specific for gridded data cannot typically be used for scattered data. This is because functions for gridded data make a priori assumptions about the regular spacing and arrangements of the control points to maximize computing efficiency.\\n\\nOrder in the data relates to computational efficiency because the computer doesn't have to look for the data in its memory and sort them in the sequence they are needed for the calculation, the data are already conveniently all next to one-another. In that case, the computer can very efficiently calculate differences between neighboring points, such as $x(i+1)-x(i)$, with these differences having meaning (e.g. a finite difference). This is not the case in scattered datasets where there is no obvious connection between the i$^{th}$ data point and the i$^{th}$+1 or i$^{th}$-1 sample. Extra computational steps are needed when dealing with scattered data.\\n\", 'source_document': 'uploads\\\\intro_to_spatialanalysis.ipynb', 'cell_number': 4}}, {'id': 1753903968040088, 'score': 0.6429999, 'payload': {'original_id': 'uploads\\\\intro_to_spatialanalysis.ipynb_cell_18_md', 'type': 'markdown', 'content': \"Now let's explore how the interpolation depends on the number of sample points. Decrease the number of points from 1000 to 100. Also see how the area that is interpolated over is limited by the convex hull of the data. \\n\", 'source_document': 'uploads\\\\intro_to_spatialanalysis.ipynb', 'cell_number': 18}}, {'id': 1753903968846380, 'score': 0.63916767, 'payload': {'original_id': 'uploads\\\\intro_to_spatialanalysis.ipynb_cell_5_md', 'type': 'markdown', 'content': \"<a id='gridded'></a>\\n## Gridded data\\n\\nBy definition, gridded data exist on a `grid`! **A grid is defined by an ordered sequence of coordinates**. \\n\\nIf there are, say, 7 values on the x-axis and 7 values on the y-axis, a full grid will contain a set of $7\\\\times 7=49$ coordinates. Given vectors of **x** and **y** values, Python `numpy` has a function called [`numpy.meshgrid`](https://numpy.org/doc/stable/reference/generated/numpy.meshgrid.html) that automatically creates the arrays **X** and **Y** that contain the coordinates of all grid points given the vectors **x** and **y**. \\n\\nFor example: \", 'source_document': 'uploads\\\\intro_to_spatialanalysis.ipynb', 'cell_number': 5}}, {'id': 1753903968111640, 'score': 0.6379516, 'payload': {'original_id': 'uploads\\\\intro_to_spatialanalysis.ipynb_cell_19_code', 'type': 'code', 'content': \"def func(x, y):\\n    #return  (x+y) * np.exp(-6.0*(x*x+y*y))\\n    return x*(1-x)*np.cos(4*np.pi*x) * np.sin(4*np.pi*y**2)**2\\n    \\ngrid_x, grid_y = np.mgrid[0:1:100j, 0:1:200j]\\n\\nNPOINTS =100\\nrng = np.random.default_rng()\\npoints = rng.random((NPOINTS, 2))\\nvalues = func(points[:,0], points[:,1])\\n\\nfrom scipy.interpolate import griddata\\n# There are 3 different interpolation options within the Delauney triangulation\\ngrid_z0 = griddata(points, values, (grid_x, grid_y), method='nearest')\\ngrid_z1 = griddata(points, values, (grid_x, grid_y), method='linear')\\ngrid_z2 = griddata(points, values, (grid_x, grid_y), method='cubic')\\n\\nimport matplotlib.pyplot as plt\\nplt.subplot(221)\\nplt.imshow(func(grid_x, grid_y).T, extent=(0,1,0,1), origin='lower')\\nplt.plot(points[:,0], points[:,1], 'k.', ms=1)\\nplt.title('Original')\\nplt.subplot(222)\\nplt.imshow(grid_z0.T, extent=(0,1,0,1), origin='lower')\\nplt.title('Nearest')\\nplt.subplot(223)\\nplt.imshow(grid_z1.T, extent=(0,1,0,1), origin='lower')\\nplt.title('Linear')\\nplt.subplot(224)\\nplt.imshow(grid_z2.T, extent=(0,1,0,1), origin='lower') \\nplt.title('Cubic')\\nplt.gcf().set_size_inches(6, 6)\\nplt.show()\", 'source_document': 'uploads\\\\intro_to_spatialanalysis.ipynb', 'cell_number': 19}}]",
      "[{'id': 1753907767542531, 'score': 0.62502706, 'payload': {'original_id': 'uploads\\\\intro_to_timeseriesanalysis-IC-X9CYXD36RX.ipynb_cell_33_code', 'type': 'code', 'content': 'import numpy as np\\n# Initialize the constants\\nN, f, b = 4, 0.7, 0.2\\n# Initialize the transition matrix (the transition matrix will be specific to each problem)\\nQ = np.zeros((N + 1, N + 1))    # create a matrix of zeros, of size N+1 x N+1\\nQ[0,1] = f\\nQ[0,0] = 1 - f\\nQ[-1,-1] = 1 - b\\nQ[-1,-2] = b\\nfor i in range(1,N):\\n    Q[i,i-1] = b\\n    Q[i,i] = 1 - b - f\\n    Q[i,i+1] = f\\n\\n## check the size and make up of the Q matrix    \\nprint(Q.shape)\\nprint(Q)\\n\\n\\n# Find the eigenvalues and eigenvectors using Numpy\\'s linear algebra solvers\\n# NB: knowing how to solve this is beyond the scope of this week\\'s material\\nevals, evecs = np.linalg.eig(Q.T)\\npi = evecs[:, np.isclose(evals, 1)] \\nprint(\"the probabilities that the drunken sailor is in any state are:\")\\nprint(pi.T / pi.T.sum())\\n', 'source_document': 'uploads\\\\intro_to_timeseriesanalysis-IC-X9CYXD36RX.ipynb', 'cell_number': 33}}, {'id': 1753905536921595, 'score': 0.62502706, 'payload': {'original_id': 'uploads\\\\intro_to_timeseriesanalysis.ipynb_cell_32_code', 'type': 'code', 'content': 'import numpy as np\\n# Initialize the constants\\nN, f, b = 4, 0.7, 0.2\\n# Initialize the transition matrix (the transition matrix will be specific to each problem)\\nQ = np.zeros((N + 1, N + 1))    # create a matrix of zeros, of size N+1 x N+1\\nQ[0,1] = f\\nQ[0,0] = 1 - f\\nQ[-1,-1] = 1 - b\\nQ[-1,-2] = b\\nfor i in range(1,N):\\n    Q[i,i-1] = b\\n    Q[i,i] = 1 - b - f\\n    Q[i,i+1] = f\\n\\n## check the size and make up of the Q matrix    \\nprint(Q.shape)\\nprint(Q)\\n\\n\\n# Find the eigenvalues and eigenvectors using Numpy\\'s linear algebra solvers\\n# NB: knowing how to solve this is beyond the scope of this week\\'s material\\nevals, evecs = np.linalg.eig(Q.T)\\npi = evecs[:, np.isclose(evals, 1)] \\nprint(\"the probabilities that the drunken sailor is in any state are:\")\\nprint(pi.T / pi.T.sum())\\n', 'source_document': 'uploads\\\\intro_to_timeseriesanalysis.ipynb', 'cell_number': 32}}, {'id': 1753902300472417, 'score': 0.6121793, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_1', 'type': 'pdf', 'content': 'ng physics)What are they for climate?\\nWhat does a model need?A very simple analytical exampleMany equations cannot be solved analytically…What do we have to do to solve them numerically?\\nii+1i+2…i-1i-2…Applies to time + 3D space\\nDiscretization\\nii+1i+2…i-1i-2…Applies to time + 3D spacedCdt=limΔt→0C(t+Δt)−C(t)ΔtdCdt≈C(t+Δt)−C(t)Δt,Δt>0ContinuumDiscrete(Taylor series expansion)\\nInpractice, this implies choices of Dx, Dy, Dz, Dt, size of the stencil, numerical stability, computational ability/costs,', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 1}}, {'id': 1753907767536229, 'score': 0.6078191, 'payload': {'original_id': 'uploads\\\\intro_to_timeseriesanalysis-IC-X9CYXD36RX.ipynb_cell_34_md', 'type': 'markdown', 'content': \"<a id='spectral'></a>\\n# Spectral analysis and frequency domain analysis\\n\\nSo far, all the methods discussed applied to the so-called 'time domain'. \\n\\nIt is possible, and often desireable, to transform the original detrended data (but still containing periodic signals) into the [`frequency domain`](https://en.wikipedia.org/wiki/Frequency_domain). \\n\\nTypical techniques for frequency domain analysis are the `Fourier transform` and `wavelet analysis`. There are various python implementations of these techniques. Note that applying these typically requires regularly spaced data. \\n\\nThis [site](https://pythonnumericalmethods.berkeley.edu/notebooks/chapter24.01-The-Basics-of-waves.html) provides an excellent resource to learn more about numerical implementations of Fourier transforms and inverse Fourier transforms in python.\\n\\nThe main thing to remember, from a practical perspective, is to use the **Fourier transform to go from the time to the frequency domain**, and the **inverse Fourier Transform to go from frequency domain back to the time domain**. \\n\\nBy transforming a signal in the time domain into the frequency domain, we aim to decompose the signal into its dominant fequencies. We can then measure the magnitude of these fequencies, i.e. how important they are, that is how much they contribute to the overall signal. Frequencies can often be interpreted into specific processes (i.e. daily cycle, seasonality, interannual climate patterns, etc.). \\n\\n![timefreq](img/time_frequency.png)\\n\\n\\nAny signal in the time domain can be thought of as a superposition of sines and cosines, with given periods and amplitudes, to give a signal representation as a **frequency spectrum**. \\n\\nMathematically, we know we can calculate the contribution of a basis vector to any vector by projecting the vector onto its basis. This is the 'dot' product of vectors. The same can be done with functions, by taking the 'inner product':\\n\\n$\\n<f,g>=\\\\int f(x) \\\\cdot g(x)dx\\n$\\n\\nIf the inner product is 0, then the function g(x) does not contribute to f(x) in any ways. If it is non 0, then that is how much g(x) is in f(x). \\n\\nBy 'projecting' any signal onto a series of orthogonal functions, such as sines and cosines of set frequencies, we can measure how important each of these basis function is to the signal, and therefore know which frequencies contribute to the signal. \\n\\nWe note that in time, we talk about a period, but in space, we talk about a wavelength. Both are the same thing, they describe how long one wave is. \\n\\n\\n### A quick [review of waves](https://pythonnumericalmethods.berkeley.edu/notebooks/chapter24.01-The-Basics-of-waves.html)\\nWe also recall that period (P) and frequency (f) are related as: \\n\\n$ \\nP = 1/f\\n$\\n\\nWe also remember that sine waves can be represented as: \\n\\n$\\ny(t) = A sin(\\\\omega t + \\\\phi)\\n$\\n\\nwhere $A$ is the amplitude of the wave, $\\\\omega$ is the angular frequency, which specifies how many cycles occur in a second, in radians per second, and $\\\\phi$ is the phase of the signal. \\n\\nIf $T$ is the period and $f$ is the frequency of the wave, then $\\\\omega$ has the following relationship to them:\\n\\n$\\n\\\\omega = \\\\frac{2\\\\pi}{T}=2 \\\\pi f\\n$\\n\\nThe following code example generate two sine waves with time between 0 and 1 seconds and frequencies of 5 Hz and 10 Hz, all sampled at 100 Hz.\\n\", 'source_document': 'uploads\\\\intro_to_timeseriesanalysis-IC-X9CYXD36RX.ipynb', 'cell_number': 34}}, {'id': 1753905536915787, 'score': 0.6078191, 'payload': {'original_id': 'uploads\\\\intro_to_timeseriesanalysis.ipynb_cell_33_md', 'type': 'markdown', 'content': \"<a id='spectral'></a>\\n# Spectral analysis and frequency domain analysis\\n\\nSo far, all the methods discussed applied to the so-called 'time domain'. \\n\\nIt is possible, and often desireable, to transform the original detrended data (but still containing periodic signals) into the [`frequency domain`](https://en.wikipedia.org/wiki/Frequency_domain). \\n\\nTypical techniques for frequency domain analysis are the `Fourier transform` and `wavelet analysis`. There are various python implementations of these techniques. Note that applying these typically requires regularly spaced data. \\n\\nThis [site](https://pythonnumericalmethods.berkeley.edu/notebooks/chapter24.01-The-Basics-of-waves.html) provides an excellent resource to learn more about numerical implementations of Fourier transforms and inverse Fourier transforms in python.\\n\\nThe main thing to remember, from a practical perspective, is to use the **Fourier transform to go from the time to the frequency domain**, and the **inverse Fourier Transform to go from frequency domain back to the time domain**. \\n\\nBy transforming a signal in the time domain into the frequency domain, we aim to decompose the signal into its dominant fequencies. We can then measure the magnitude of these fequencies, i.e. how important they are, that is how much they contribute to the overall signal. Frequencies can often be interpreted into specific processes (i.e. daily cycle, seasonality, interannual climate patterns, etc.). \\n\\n![timefreq](img/time_frequency.png)\\n\\n\\nAny signal in the time domain can be thought of as a superposition of sines and cosines, with given periods and amplitudes, to give a signal representation as a **frequency spectrum**. \\n\\nMathematically, we know we can calculate the contribution of a basis vector to any vector by projecting the vector onto its basis. This is the 'dot' product of vectors. The same can be done with functions, by taking the 'inner product':\\n\\n$\\n<f,g>=\\\\int f(x) \\\\cdot g(x)dx\\n$\\n\\nIf the inner product is 0, then the function g(x) does not contribute to f(x) in any ways. If it is non 0, then that is how much g(x) is in f(x). \\n\\nBy 'projecting' any signal onto a series of orthogonal functions, such as sines and cosines of set frequencies, we can measure how important each of these basis function is to the signal, and therefore know which frequencies contribute to the signal. \\n\\nWe note that in time, we talk about a period, but in space, we talk about a wavelength. Both are the same thing, they describe how long one wave is. \\n\\n\\n### A quick [review of waves](https://pythonnumericalmethods.berkeley.edu/notebooks/chapter24.01-The-Basics-of-waves.html)\\nWe also recall that period (P) and frequency (f) are related as: \\n\\n$ \\nP = 1/f\\n$\\n\\nWe also remember that sine waves can be represented as: \\n\\n$\\ny(t) = A sin(\\\\omega t + \\\\phi)\\n$\\n\\nwhere $A$ is the amplitude of the wave, $\\\\omega$ is the angular frequency, which specifies how many cycles occur in a second, in radians per second, and $\\\\phi$ is the phase of the signal. \\n\\nIf $T$ is the period and $f$ is the frequency of the wave, then $\\\\omega$ has the following relationship to them:\\n\\n$\\n\\\\omega = \\\\frac{2\\\\pi}{T}=2 \\\\pi f\\n$\\n\\nThe following code example generate two sine waves with time between 0 and 1 seconds and frequencies of 5 Hz and 10 Hz, all sampled at 100 Hz.\\n\", 'source_document': 'uploads\\\\intro_to_timeseriesanalysis.ipynb', 'cell_number': 33}}, {'id': 1753902300119549, 'score': 0.60143524, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_5', 'type': 'pdf', 'content': 'added)•flows forward, then flows backwards•Ideally,shouldreturntoinitialvalues•Deviations are indicative of numerical issues\\nTesting the numerical core…when we don’t have an exact solution to compare to\\nThis highlights the problem of numerical diffusionEach schemewillhaveitsownweaknesses andstrengths (and conservation properties)\\nWhat does a numericalmodel need?summary•Need equations (+ parameterizations)–Output = function(input)•Need a starting point–Boundary conditions•Must define time and spa', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 5}}]"
    ],
    "response": "Numerical models are simplified representations of real systems, designed to simulate their behavior using mathematical equations. These models consist of three main components:\n\n1. **Equations**: The core rules governing the system's behavior. These equations define how variables interact and change over time.\n\n2. **Boundary Conditions**: Constraints that specify the model's edges or limits. These are essential for setting up the system correctly, especially at boundaries where real-world data is limited.\n\n3. **Time and Space Definitions**: Details about where and when the model operates—time steps and spatial locations—crucial for accurate simulation.\n\nThese components work together to create a framework that can be tested and validated. Numerical methods like finite differences and finite elements refine these models, while parameterizations incorporate additional processes not explicitly modeled. Ensuring clear definitions of equations, boundaries, and time/spatial definitions is crucial for the model's accuracy and reliability.",
    "reference": "By approximating derivatives with finite differences (e.g., forward, backward, or centered), allowing numerical integration across time and space.",
    "iteration_scores": [
      {
        "iteration": 1,
        "decomposition": 8.0,
        "retrieval": 6.888888888888889,
        "generation": 1.0,
        "total": 5.296296296296297
      },
      {
        "iteration": 2,
        "decomposition": 10.0,
        "retrieval": 6.375,
        "generation": 2.1999999999999997,
        "total": 6.191666666666666
      },
      {
        "iteration": 3,
        "decomposition": 10.0,
        "retrieval": 6.285714285714286,
        "generation": 1.0,
        "total": 5.761904761904762
      }
    ]
  },
  {
    "user_input": "How do discretization schemes (e.g., forward Euler, backward Euler, centered difference) influence the accuracy and stability of climate models?",
    "retrieved_contexts": [
      "[{'id': 1753902299806645, 'score': 0.6404742, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_2', 'type': 'pdf', 'content': ' problem under study, etc.\\nWhat does a model need?A very simple numerical exampledCdt=λCCi+1−Citi+1−ti=λCiCi+1=Ci1+λΔt()dCdt=limΔt→0C(t+Δt)−C(t)ΔtRequires discretization of derivativesand numerical integration to step forward from tito tf=NDTForward difference(aka Forward Euler)[climatemodelsusemuchmorecomplex schemes]\\nii+1\\nWhat does a model need?Discretization needed to implement numericallydCdt=λCCi+1−CiΔt=λCi+1Ci+1=λΔtCi+1+CiCi+1=Ci11−λΔtBackward difference(aka backward Euler)Requires solving', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 2}}, {'id': 1753902300119549, 'score': 0.62326795, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_5', 'type': 'pdf', 'content': 'added)•flows forward, then flows backwards•Ideally,shouldreturntoinitialvalues•Deviations are indicative of numerical issues\\nTesting the numerical core…when we don’t have an exact solution to compare to\\nThis highlights the problem of numerical diffusionEach schemewillhaveitsownweaknesses andstrengths (and conservation properties)\\nWhat does a numericalmodel need?summary•Need equations (+ parameterizations)–Output = function(input)•Need a starting point–Boundary conditions•Must define time and spa', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 5}}, {'id': 1753902299901317, 'score': 0.6217437, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_3', 'type': 'pdf', 'content': ' an extra equation(implicit scheme)\\nii+1\\n\\nWhat does a model need?Discretization needed to implement numericallydCdt=λCCi+1−Ci−12Δt=λCiCi+1=2λΔtCi+Ci−1Centered differenceRequires knowing more things from more points\\nii+1i-1\\nThe “dynamical/numerical core” of a model matters …a lot!•System of equation (partial differentials in 3D)•Discretizationand integrationscheme–These 3 are mathematically all valid but can produce very different answers when implemented…Ci+1=Ci1+λΔt()Forward difference(aka Forw', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 3}}, {'id': 1753902299594208, 'score': 0.61361396, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_4', 'type': 'pdf', 'content': 'ard Euler)Ci+1=Ci11−λΔt=1Backward difference(aka backward Euler)Ci+1=2λΔtCi+Ci−1Centered differenceetc…\\nCf=CoeλtExact solutionDt=0.05Dt=0.5l=-0.9l=0.9l=0.9l=-0.9Dt=0.05ExactForwardBackwardCentered\\nExactForwardBackwardCenteredDt=0.5\\nTesting the numerical core…when we don’t have an exact solution to compare to\\nIdealized simulations~ numerical equivalent of calibration in a lab\\nu(x,y)=sin2(πx)sin(2πy)cos(πt/5)v(x,y)=−sin2(πy)sin(2πx)cos(πt/5)Example: •Purely advective system (no explicit diffusion ', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 4}}]",
      "[{'id': 1753902299901317, 'score': 0.6676775, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_3', 'type': 'pdf', 'content': ' an extra equation(implicit scheme)\\nii+1\\n\\nWhat does a model need?Discretization needed to implement numericallydCdt=λCCi+1−Ci−12Δt=λCiCi+1=2λΔtCi+Ci−1Centered differenceRequires knowing more things from more points\\nii+1i-1\\nThe “dynamical/numerical core” of a model matters …a lot!•System of equation (partial differentials in 3D)•Discretizationand integrationscheme–These 3 are mathematically all valid but can produce very different answers when implemented…Ci+1=Ci1+λΔt()Forward difference(aka Forw', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 3}}, {'id': 1753902299806645, 'score': 0.6308981, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_2', 'type': 'pdf', 'content': ' problem under study, etc.\\nWhat does a model need?A very simple numerical exampledCdt=λCCi+1−Citi+1−ti=λCiCi+1=Ci1+λΔt()dCdt=limΔt→0C(t+Δt)−C(t)ΔtRequires discretization of derivativesand numerical integration to step forward from tito tf=NDTForward difference(aka Forward Euler)[climatemodelsusemuchmorecomplex schemes]\\nii+1\\nWhat does a model need?Discretization needed to implement numericallydCdt=λCCi+1−CiΔt=λCi+1Ci+1=λΔtCi+1+CiCi+1=Ci11−λΔtBackward difference(aka backward Euler)Requires solving', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 2}}, {'id': 1753902299594208, 'score': 0.612363, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_4', 'type': 'pdf', 'content': 'ard Euler)Ci+1=Ci11−λΔt=1Backward difference(aka backward Euler)Ci+1=2λΔtCi+Ci−1Centered differenceetc…\\nCf=CoeλtExact solutionDt=0.05Dt=0.5l=-0.9l=0.9l=0.9l=-0.9Dt=0.05ExactForwardBackwardCentered\\nExactForwardBackwardCenteredDt=0.5\\nTesting the numerical core…when we don’t have an exact solution to compare to\\nIdealized simulations~ numerical equivalent of calibration in a lab\\nu(x,y)=sin2(πx)sin(2πy)cos(πt/5)v(x,y)=−sin2(πy)sin(2πx)cos(πt/5)Example: •Purely advective system (no explicit diffusion ', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 4}}]",
      "[{'id': 1753902299901317, 'score': 0.6085228, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_3', 'type': 'pdf', 'content': ' an extra equation(implicit scheme)\\nii+1\\n\\nWhat does a model need?Discretization needed to implement numericallydCdt=λCCi+1−Ci−12Δt=λCiCi+1=2λΔtCi+Ci−1Centered differenceRequires knowing more things from more points\\nii+1i-1\\nThe “dynamical/numerical core” of a model matters …a lot!•System of equation (partial differentials in 3D)•Discretizationand integrationscheme–These 3 are mathematically all valid but can produce very different answers when implemented…Ci+1=Ci1+λΔt()Forward difference(aka Forw', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 3}}, {'id': 1753902299806645, 'score': 0.6047925, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_2', 'type': 'pdf', 'content': ' problem under study, etc.\\nWhat does a model need?A very simple numerical exampledCdt=λCCi+1−Citi+1−ti=λCiCi+1=Ci1+λΔt()dCdt=limΔt→0C(t+Δt)−C(t)ΔtRequires discretization of derivativesand numerical integration to step forward from tito tf=NDTForward difference(aka Forward Euler)[climatemodelsusemuchmorecomplex schemes]\\nii+1\\nWhat does a model need?Discretization needed to implement numericallydCdt=λCCi+1−CiΔt=λCi+1Ci+1=λΔtCi+1+CiCi+1=Ci11−λΔtBackward difference(aka backward Euler)Requires solving', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 2}}]",
      "[{'id': 1753902299806645, 'score': 0.72429085, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_2', 'type': 'pdf', 'content': ' problem under study, etc.\\nWhat does a model need?A very simple numerical exampledCdt=λCCi+1−Citi+1−ti=λCiCi+1=Ci1+λΔt()dCdt=limΔt→0C(t+Δt)−C(t)ΔtRequires discretization of derivativesand numerical integration to step forward from tito tf=NDTForward difference(aka Forward Euler)[climatemodelsusemuchmorecomplex schemes]\\nii+1\\nWhat does a model need?Discretization needed to implement numericallydCdt=λCCi+1−CiΔt=λCi+1Ci+1=λΔtCi+1+CiCi+1=Ci11−λΔtBackward difference(aka backward Euler)Requires solving', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 2}}, {'id': 1753902300472417, 'score': 0.7112918, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_1', 'type': 'pdf', 'content': 'ng physics)What are they for climate?\\nWhat does a model need?A very simple analytical exampleMany equations cannot be solved analytically…What do we have to do to solve them numerically?\\nii+1i+2…i-1i-2…Applies to time + 3D space\\nDiscretization\\nii+1i+2…i-1i-2…Applies to time + 3D spacedCdt=limΔt→0C(t+Δt)−C(t)ΔtdCdt≈C(t+Δt)−C(t)Δt,Δt>0ContinuumDiscrete(Taylor series expansion)\\nInpractice, this implies choices of Dx, Dy, Dz, Dt, size of the stencil, numerical stability, computational ability/costs,', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 1}}, {'id': 1753902300429530, 'score': 0.6987233, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_6', 'type': 'pdf', 'content': 'ce scales of interest–Integration time step–Spatial resolution of the grid–Duration of model run–Decisions about time/space scales also translate into “filtering” the equations •(parts of the equations can be neglected and the equations simplified –some physics can be neglected/simplified)\\nWhy model climate?\\n\\nWeather and climate –bridging the gap\\n\\n\\nWhat are coupledclimatemodels?\\n\\nA few key major coupling mechanisms between the ocean and the atmosphere\\nThe “coupler” is the heart of climate models', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 6}}, {'id': 1753902702794239, 'score': 0.692351, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_8', 'type': 'pdf', 'content': 'cool and warm the climateThe microphysics responsible for cloud formation is not well understoodThe grid cells in models are much much bigger than time/space scales relevant for cloud physicsÞMagnitude/location of rain events is hard to predict wellÞThat information is useful though!\\nComparing models with data•What is a data point? Observation vs model result•Are model solutions at a point similar toa data point (i.e.observational sample)?–Spatially?–Temporally?•Using data well is not a trivial ', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 8}}, {'id': 1753902703274403, 'score': 0.6732594, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_4', 'type': 'pdf', 'content': 'solving dynamical equations–Smaller discretization steps•Better representation of topography/bathymetry (mountains, islands, seamounts…)–Grid-boxes have vertical walls (depends on coordinate system)•Explicit inclusion of subgrid-scale processes–Parameterizing vs. resolving (e.g.eddies, overflows, etc)•Property gradients can be larger –Affects pressure gradients (i.e.velocity of currents)–Model becomes more advective and less diffusive, maybe more turbulent–Exchange-processes that depend on gradi', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 4}}, {'id': 1753901956917450, 'score': 0.6604419, 'payload': {'original_id': 'uploads\\\\01v1_Why_climate_data.pdf_chunk_3', 'type': 'pdf', 'content': ' technology options)\\n\\nUsing climate models: variability(temporal, spatial)\\nImportance of experimental design!Control+ experiment\\nUsing climate models: uncertainties and sensitivities\\nMIP = Model Intercomparison Project\\nEyring et al. 2016\\nUsing climate models: uncertainties and sensitivities\\nhttps://en.wikipedia.org/wiki/Climate_ensembleDifferent experimentswith many ensembles!Each one trying to account for sensitivity due to a source of error Real world data: we only have one Earth, ONE realizat', 'source_document': 'uploads\\\\01v1_Why_climate_data.pdf', 'chunk_number': 3}}, {'id': 1753903424623019, 'score': 0.657715, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_37_md', 'type': 'markdown', 'content': \"### Climate Data Operators (CDO)\\nThe Climate Data Operators ([CDO](https://code.mpimet.mpg.de/projects/cdo)) software is a collection of >600 operators for standard processing of climate and forecast model data. They are slighly less memory/speed efficient than NCO, but they do more (>600 vs 12!). CDO support the main data formats used in the field, such as GRIB and netCDF. \\n\\nThey too can be daisy-chained for specific applications. There are [many recipes available](https://code.mpimet.mpg.de/projects/cdo/embedded/cdo_eca.pdf) to calculate various climate indices and diagnostics, what makes them very attractive to evaluate gridded climate data or climate model output.\\n\\nThe [CDO user guide](https://code.mpimet.mpg.de/projects/cdo/embedded/index.html) provides details instructions and examples. \\n\\n[They are also very useful, but we don't have time to discuss them in detail here. You are encouraged to practice with CDO on your own time]\\n\\n[back to contents](#Contents)\\n\\n---\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 37}}, {'id': 1753902300206271, 'score': 0.6552354, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_0', 'type': 'pdf', 'content': 'Climate models –what are they?\\n…and different grids for different parts of the model:atmosphere, ocean, land, ice,…\\n\\nA bit of review: What do we need to make a model?(Any model, not necessarily a climate one)\\nWhat does a model need?A very simple analytical exampledCdt=λRequires equations (hypotheses about underlying physics)\\nWhat does a model need?A very simple analytical exampledCdt=λdCCoCf∫=λdttotf∫Cf=λtf−to()−CoRequires initial &boundary conditionsRequires equations (hypotheses about underlyi', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 0}}, {'id': 1753902702944729, 'score': 0.65145236, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_9', 'type': 'pdf', 'content': 'task. It requires understanding the model well and the data well–A trend towards “Observational System Simulation Experiments” (OSSE)–data assimilation (e.g.4DVAR)\\nThe role of observationsin modeling\\nhttp://www.climate.be/textbook/pdf/Chapter_3.pdf\\nModelsvs observations•There are data that are ’just’ observations•There are models that are ‘just’ models•There are models that are ‘assimilated with data’–Often called ‘Reanalysis Products’•(also used in weather forecasting, obviously)–These are mode', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 9}}, {'id': 1753903424143550, 'score': 0.6433552, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_11_md', 'type': 'markdown', 'content': \"<a id='NetCDF'></a>\\n\\n## Network Common Data Form (NetCDF)\\n\\n[NetCDF](https://www.unidata.ucar.edu/software/netcdf/) is one of the most common data format used to store climate data. NetCDF files allow the user to insert metadata in the data file by design, ensuring the data file is self-describing (amongst other properties).\\n\\n*NetCDF is a set of software libraries and machine-independent data formats that support the creation, access, and sharing of array-oriented scientific data.* \\n\\nThe netCDF format, which is a type of HDF format, is attractive because it is:\\n\\n* Self-Describing. A netCDF file includes information about the data it contains and metadata.\\n* Portable. A netCDF file can be accessed by computers with different ways of storing integers, characters, and floating-point numbers.\\n* Scalable. Small subsets of large datasets in various formats may be accessed efficiently through netCDF interfaces, even from remote servers.\\n* Appendable. Data may be appended to a properly structured netCDF file without copying the dataset or redefining its structure.\\n* Sharable. One writer and multiple readers may simultaneously access the same netCDF file.\\n* Archivable. Access to all earlier forms of netCDF data will be supported by current and future versions of the software.\\n\\n\\nThe NetCDF project is maintained by the Unidata program at the University Corporation for Atmospheric Research ([UCAR](https://www.ucar.edu)). [UCAR](https://www.ucar.edu) also manages [NCAR](https://ncar.ucar.edu), one of the first center to have developped climate models and is today one of the gold-standard on the topic. \\n\\nNCAR also developed [NCL](https://www.ncl.ucar.edu), an interpreted programming language designed specifically for scientific data analysis and visualization (we will not use NCL here, but the python package `ESMValTool` has build-in support for it). \\n\\n[NCAR](https://ncar.ucar.edu) has also developped the [climate data guide](https://climatedataguide.ucar.edu), a tool to search and access >200 data sets specific to the ocean, land and the atmosphere. (Some of these data may or may not also be found on CEDA.) \\n\\n[back to contents](#Contents)\\n\\n---\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 11}}]",
      "[{'id': 1753902300472417, 'score': 0.73674774, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_1', 'type': 'pdf', 'content': 'ng physics)What are they for climate?\\nWhat does a model need?A very simple analytical exampleMany equations cannot be solved analytically…What do we have to do to solve them numerically?\\nii+1i+2…i-1i-2…Applies to time + 3D space\\nDiscretization\\nii+1i+2…i-1i-2…Applies to time + 3D spacedCdt=limΔt→0C(t+Δt)−C(t)ΔtdCdt≈C(t+Δt)−C(t)Δt,Δt>0ContinuumDiscrete(Taylor series expansion)\\nInpractice, this implies choices of Dx, Dy, Dz, Dt, size of the stencil, numerical stability, computational ability/costs,', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 1}}, {'id': 1753902299806645, 'score': 0.72661024, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_2', 'type': 'pdf', 'content': ' problem under study, etc.\\nWhat does a model need?A very simple numerical exampledCdt=λCCi+1−Citi+1−ti=λCiCi+1=Ci1+λΔt()dCdt=limΔt→0C(t+Δt)−C(t)ΔtRequires discretization of derivativesand numerical integration to step forward from tito tf=NDTForward difference(aka Forward Euler)[climatemodelsusemuchmorecomplex schemes]\\nii+1\\nWhat does a model need?Discretization needed to implement numericallydCdt=λCCi+1−CiΔt=λCi+1Ci+1=λΔtCi+1+CiCi+1=Ci11−λΔtBackward difference(aka backward Euler)Requires solving', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 2}}, {'id': 1753901956917450, 'score': 0.70470536, 'payload': {'original_id': 'uploads\\\\01v1_Why_climate_data.pdf_chunk_3', 'type': 'pdf', 'content': ' technology options)\\n\\nUsing climate models: variability(temporal, spatial)\\nImportance of experimental design!Control+ experiment\\nUsing climate models: uncertainties and sensitivities\\nMIP = Model Intercomparison Project\\nEyring et al. 2016\\nUsing climate models: uncertainties and sensitivities\\nhttps://en.wikipedia.org/wiki/Climate_ensembleDifferent experimentswith many ensembles!Each one trying to account for sensitivity due to a source of error Real world data: we only have one Earth, ONE realizat', 'source_document': 'uploads\\\\01v1_Why_climate_data.pdf', 'chunk_number': 3}}, {'id': 1753902703274403, 'score': 0.70316803, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_4', 'type': 'pdf', 'content': 'solving dynamical equations–Smaller discretization steps•Better representation of topography/bathymetry (mountains, islands, seamounts…)–Grid-boxes have vertical walls (depends on coordinate system)•Explicit inclusion of subgrid-scale processes–Parameterizing vs. resolving (e.g.eddies, overflows, etc)•Property gradients can be larger –Affects pressure gradients (i.e.velocity of currents)–Model becomes more advective and less diffusive, maybe more turbulent–Exchange-processes that depend on gradi', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 4}}, {'id': 1753902300429530, 'score': 0.6970511, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_6', 'type': 'pdf', 'content': 'ce scales of interest–Integration time step–Spatial resolution of the grid–Duration of model run–Decisions about time/space scales also translate into “filtering” the equations •(parts of the equations can be neglected and the equations simplified –some physics can be neglected/simplified)\\nWhy model climate?\\n\\nWeather and climate –bridging the gap\\n\\n\\nWhat are coupledclimatemodels?\\n\\nA few key major coupling mechanisms between the ocean and the atmosphere\\nThe “coupler” is the heart of climate models', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 6}}, {'id': 1753902702794239, 'score': 0.6839299, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_8', 'type': 'pdf', 'content': 'cool and warm the climateThe microphysics responsible for cloud formation is not well understoodThe grid cells in models are much much bigger than time/space scales relevant for cloud physicsÞMagnitude/location of rain events is hard to predict wellÞThat information is useful though!\\nComparing models with data•What is a data point? Observation vs model result•Are model solutions at a point similar toa data point (i.e.observational sample)?–Spatially?–Temporally?•Using data well is not a trivial ', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 8}}, {'id': 1753902702944729, 'score': 0.6664512, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_9', 'type': 'pdf', 'content': 'task. It requires understanding the model well and the data well–A trend towards “Observational System Simulation Experiments” (OSSE)–data assimilation (e.g.4DVAR)\\nThe role of observationsin modeling\\nhttp://www.climate.be/textbook/pdf/Chapter_3.pdf\\nModelsvs observations•There are data that are ’just’ observations•There are models that are ‘just’ models•There are models that are ‘assimilated with data’–Often called ‘Reanalysis Products’•(also used in weather forecasting, obviously)–These are mode', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 9}}, {'id': 1753903424623019, 'score': 0.6633642, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_37_md', 'type': 'markdown', 'content': \"### Climate Data Operators (CDO)\\nThe Climate Data Operators ([CDO](https://code.mpimet.mpg.de/projects/cdo)) software is a collection of >600 operators for standard processing of climate and forecast model data. They are slighly less memory/speed efficient than NCO, but they do more (>600 vs 12!). CDO support the main data formats used in the field, such as GRIB and netCDF. \\n\\nThey too can be daisy-chained for specific applications. There are [many recipes available](https://code.mpimet.mpg.de/projects/cdo/embedded/cdo_eca.pdf) to calculate various climate indices and diagnostics, what makes them very attractive to evaluate gridded climate data or climate model output.\\n\\nThe [CDO user guide](https://code.mpimet.mpg.de/projects/cdo/embedded/index.html) provides details instructions and examples. \\n\\n[They are also very useful, but we don't have time to discuss them in detail here. You are encouraged to practice with CDO on your own time]\\n\\n[back to contents](#Contents)\\n\\n---\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 37}}, {'id': 1753902702662417, 'score': 0.6628235, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_10', 'type': 'pdf', 'content': 'ls that are ‘fitted’ to data•Some model parameters are tuned to fit–Question is what to fit/how? (Data assimilation, 4DVAR)–Provide best gridded high-resolution spatio-temporal product available … but:•they are still model results–Fitting a bad/wrong model still is a bad results•they only exist for the period when data exist–so cannot be used for forecasting–But extremely useful to understand past/current climate patterns/variability\\nAre models ever “right”?•Since models are incomplete by constr', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 10}}, {'id': 1753902702697836, 'score': 0.6539165, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_5', 'type': 'pdf', 'content': 'ent become stronger (strong exchange, although on shorter spatial scales, e.g.air-sea heat fluxes)•Better agreement with the way data are collected (i.e.what observations mean)–Averaging over space/time and variabilityhttps://www.gfdl.noaa.gov/climate-modeling/\\nGulf Stream\\nLabrador Sea~100km cells~10km cells\\nOcean resolution: 2 casesresolving eddies (the ocean’ storms)\\nFigure 6.1. Surface-Current Speed in Two Simulations of the Southern Ocean in Low-and High-Resolution Ocean Models.[From Fig. 6 ', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 5}}]",
      "[{'id': 1753902299901317, 'score': 0.6441679, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_3', 'type': 'pdf', 'content': ' an extra equation(implicit scheme)\\nii+1\\n\\nWhat does a model need?Discretization needed to implement numericallydCdt=λCCi+1−Ci−12Δt=λCiCi+1=2λΔtCi+Ci−1Centered differenceRequires knowing more things from more points\\nii+1i-1\\nThe “dynamical/numerical core” of a model matters …a lot!•System of equation (partial differentials in 3D)•Discretizationand integrationscheme–These 3 are mathematically all valid but can produce very different answers when implemented…Ci+1=Ci1+λΔt()Forward difference(aka Forw', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 3}}, {'id': 1753902300119549, 'score': 0.64226294, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_5', 'type': 'pdf', 'content': 'added)•flows forward, then flows backwards•Ideally,shouldreturntoinitialvalues•Deviations are indicative of numerical issues\\nTesting the numerical core…when we don’t have an exact solution to compare to\\nThis highlights the problem of numerical diffusionEach schemewillhaveitsownweaknesses andstrengths (and conservation properties)\\nWhat does a numericalmodel need?summary•Need equations (+ parameterizations)–Output = function(input)•Need a starting point–Boundary conditions•Must define time and spa', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 5}}, {'id': 1753902299806645, 'score': 0.6344793, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_2', 'type': 'pdf', 'content': ' problem under study, etc.\\nWhat does a model need?A very simple numerical exampledCdt=λCCi+1−Citi+1−ti=λCiCi+1=Ci1+λΔt()dCdt=limΔt→0C(t+Δt)−C(t)ΔtRequires discretization of derivativesand numerical integration to step forward from tito tf=NDTForward difference(aka Forward Euler)[climatemodelsusemuchmorecomplex schemes]\\nii+1\\nWhat does a model need?Discretization needed to implement numericallydCdt=λCCi+1−CiΔt=λCi+1Ci+1=λΔtCi+1+CiCi+1=Ci11−λΔtBackward difference(aka backward Euler)Requires solving', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 2}}, {'id': 1753902300472417, 'score': 0.6218809, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_1', 'type': 'pdf', 'content': 'ng physics)What are they for climate?\\nWhat does a model need?A very simple analytical exampleMany equations cannot be solved analytically…What do we have to do to solve them numerically?\\nii+1i+2…i-1i-2…Applies to time + 3D space\\nDiscretization\\nii+1i+2…i-1i-2…Applies to time + 3D spacedCdt=limΔt→0C(t+Δt)−C(t)ΔtdCdt≈C(t+Δt)−C(t)Δt,Δt>0ContinuumDiscrete(Taylor series expansion)\\nInpractice, this implies choices of Dx, Dy, Dz, Dt, size of the stencil, numerical stability, computational ability/costs,', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 1}}]",
      "[{'id': 1753902703274403, 'score': 0.6754738, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_4', 'type': 'pdf', 'content': 'solving dynamical equations–Smaller discretization steps•Better representation of topography/bathymetry (mountains, islands, seamounts…)–Grid-boxes have vertical walls (depends on coordinate system)•Explicit inclusion of subgrid-scale processes–Parameterizing vs. resolving (e.g.eddies, overflows, etc)•Property gradients can be larger –Affects pressure gradients (i.e.velocity of currents)–Model becomes more advective and less diffusive, maybe more turbulent–Exchange-processes that depend on gradi', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 4}}, {'id': 1753902300472417, 'score': 0.6497941, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_1', 'type': 'pdf', 'content': 'ng physics)What are they for climate?\\nWhat does a model need?A very simple analytical exampleMany equations cannot be solved analytically…What do we have to do to solve them numerically?\\nii+1i+2…i-1i-2…Applies to time + 3D space\\nDiscretization\\nii+1i+2…i-1i-2…Applies to time + 3D spacedCdt=limΔt→0C(t+Δt)−C(t)ΔtdCdt≈C(t+Δt)−C(t)Δt,Δt>0ContinuumDiscrete(Taylor series expansion)\\nInpractice, this implies choices of Dx, Dy, Dz, Dt, size of the stencil, numerical stability, computational ability/costs,', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 1}}, {'id': 1753902300119549, 'score': 0.63920105, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_5', 'type': 'pdf', 'content': 'added)•flows forward, then flows backwards•Ideally,shouldreturntoinitialvalues•Deviations are indicative of numerical issues\\nTesting the numerical core…when we don’t have an exact solution to compare to\\nThis highlights the problem of numerical diffusionEach schemewillhaveitsownweaknesses andstrengths (and conservation properties)\\nWhat does a numericalmodel need?summary•Need equations (+ parameterizations)–Output = function(input)•Need a starting point–Boundary conditions•Must define time and spa', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 5}}, {'id': 1753902703299772, 'score': 0.62863356, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_3', 'type': 'pdf', 'content': 'l sense of incomplete/uncertain results and design meaningful experiments(experimental design is key)\\nModel resolutionIncreasing spatial resolution…also means increasing temporal resolution to maintain numerical stability(i.e.decrease time step)Huge cost of resolution:2x increase in spatial resolution in all dimensions means 23=8x more computations23=8x more memory23=8x more timeWith decreased time-step>16x slower and more demanding\\nBenefits of improving resolution?•Better numerical accuracy in ', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 3}}, {'id': 1753902299806645, 'score': 0.6261306, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_2', 'type': 'pdf', 'content': ' problem under study, etc.\\nWhat does a model need?A very simple numerical exampledCdt=λCCi+1−Citi+1−ti=λCiCi+1=Ci1+λΔt()dCdt=limΔt→0C(t+Δt)−C(t)ΔtRequires discretization of derivativesand numerical integration to step forward from tito tf=NDTForward difference(aka Forward Euler)[climatemodelsusemuchmorecomplex schemes]\\nii+1\\nWhat does a model need?Discretization needed to implement numericallydCdt=λCCi+1−CiΔt=λCi+1Ci+1=λΔtCi+1+CiCi+1=Ci11−λΔtBackward difference(aka backward Euler)Requires solving', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 2}}, {'id': 1753902299901317, 'score': 0.62000465, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_3', 'type': 'pdf', 'content': ' an extra equation(implicit scheme)\\nii+1\\n\\nWhat does a model need?Discretization needed to implement numericallydCdt=λCCi+1−Ci−12Δt=λCiCi+1=2λΔtCi+Ci−1Centered differenceRequires knowing more things from more points\\nii+1i-1\\nThe “dynamical/numerical core” of a model matters …a lot!•System of equation (partial differentials in 3D)•Discretizationand integrationscheme–These 3 are mathematically all valid but can produce very different answers when implemented…Ci+1=Ci1+λΔt()Forward difference(aka Forw', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 3}}, {'id': 1753903968044356, 'score': 0.60062754, 'payload': {'original_id': 'uploads\\\\intro_to_spatialanalysis.ipynb_cell_4_md', 'type': 'markdown', 'content': \"\\n\\nThere are two types of interpolation problems: \\n1. interpolation from [`gridded data`](http://uk.mathworks.com/help/matlab/math/interpolating-gridded-data.html)\\n2. interolation from [`scattered data`](http://uk.mathworks.com/help/matlab/math/interpolating-scattered-data.html).\\n\\nInterpolation techniques designed for scattered data can of course also be used for gridded data.  However, functions specific for gridded data cannot typically be used for scattered data. This is because functions for gridded data make a priori assumptions about the regular spacing and arrangements of the control points to maximize computing efficiency.\\n\\nOrder in the data relates to computational efficiency because the computer doesn't have to look for the data in its memory and sort them in the sequence they are needed for the calculation, the data are already conveniently all next to one-another. In that case, the computer can very efficiently calculate differences between neighboring points, such as $x(i+1)-x(i)$, with these differences having meaning (e.g. a finite difference). This is not the case in scattered datasets where there is no obvious connection between the i$^{th}$ data point and the i$^{th}$+1 or i$^{th}$-1 sample. Extra computational steps are needed when dealing with scattered data.\\n\", 'source_document': 'uploads\\\\intro_to_spatialanalysis.ipynb', 'cell_number': 4}}]"
    ],
    "response": "Numerical issues in climate modeling arise from challenges such as discretization errors, stability problems, boundary conditions, and parameterizations. These issues affect how models simulate atmospheric processes and predict climate change.\n\n1. **Discretization Errors**: Climate models use numerical methods to approximate continuous systems. Discretization introduces approximations that can lead to errors if not handled properly. For example, finite difference methods are commonly used but may introduce inaccuracies in derivatives.\n\n2. **Stability Issues**: Explicit time-stepping schemes (like forward Euler) can be unstable for certain problems due to the risk of numerical diffusion or oscillations. Implicit schemes address this by solving larger systems, though they require more computational resources.\n\n3. **Boundary Conditions**: Properly handling boundaries is crucial. For instance, in atmospheric models, boundary conditions like temperature at the equator or pressure at sea level must be accurately specified to avoid errors in forcing terms.\n\n4. **Parameterizations**: Climate models often include parameterizations of physical processes not resolved by grid resolution (e.g., cloud formation). These can introduce biases if not properly implemented, affecting model accuracy.\n\n5. **Interpolation Techniques**: When dealing with scattered data, interpolation methods like kriging or radial basis functions are used to process data at arbitrary points. This is important for handling data from different sources or grids in models.\n\n6. **Grid Systems**: The choice of grid (structured vs. scattered) affects numerical methods. Structured grids allow for easier discretization but may require more computational resources, while scattered grids can handle complex geometries better.\n\nUnderstanding these aspects helps in developing robust climate models that accurately simulate atmospheric processes and provide reliable predictions.",
    "reference": "Each scheme handles numerical integration differently, affecting model stability and accuracy. Forward Euler is simple but less stable, backward Euler is more stable but computationally demanding, and centered difference is more accurate but requires more data points. These differences lead to varied results even for the same equations.",
    "iteration_scores": [
      {
        "iteration": 1,
        "decomposition": 10.0,
        "retrieval": 7.375,
        "generation": 1.0,
        "total": 6.125
      },
      {
        "iteration": 2,
        "decomposition": 8.0,
        "retrieval": 7.444444444444445,
        "generation": 1.0,
        "total": 5.481481481481481
      },
      {
        "iteration": 3,
        "decomposition": 7.0,
        "retrieval": 5.685714285714285,
        "generation": 1.0,
        "total": 4.561904761904762
      }
    ]
  },
  {
    "user_input": "To what extent do you agree with the proposition that 'all models are wrong, but some are useful' in the context of climate modeling?",
    "retrieved_contexts": [
      "[{'id': 1753902703503123, 'score': 0.7862717, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_1', 'type': 'pdf', 'content': 'model cannot model the effect of “Z” on climate as “W” has or may have an (unquantified) effect of the “Z” and may effectCO2or T, etc. … therefore climate models are useless\\nSome better propositions1.All models are “wrong” and “incomplete”(modeling with the sole goal of fitting data can be futile)(state-or-the-art models have many free parameters, uniqueness of the fit/solution is not always guaranteed –fit for wrong reason possible)2.Models have the merit of being internally consistent and poss', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 1}}, {'id': 1753902702662417, 'score': 0.70795244, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_10', 'type': 'pdf', 'content': 'ls that are ‘fitted’ to data•Some model parameters are tuned to fit–Question is what to fit/how? (Data assimilation, 4DVAR)–Provide best gridded high-resolution spatio-temporal product available … but:•they are still model results–Fitting a bad/wrong model still is a bad results•they only exist for the period when data exist–so cannot be used for forecasting–But extremely useful to understand past/current climate patterns/variability\\nAre models ever “right”?•Since models are incomplete by constr', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 10}}, {'id': 1753902702922525, 'score': 0.7029454, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_0', 'type': 'pdf', 'content': 'Are climate models any good or useful at all?\\nhttps://www.gfdl.noaa.gov/visualizations-hurricanes/\\nData or model?\\nCommon misconceptions about modeling1.The goal of modeling is to reproduce data2.If a model doesn’t fit the data, the model is useless (…and modeler also)3.Since modelers don’t measure anything, they don’t know anything about data or care about them4.Measurement(s) of “X” can be used to better constrain climate models5.Process “W” is not explicitly implemented in the model,hence the ', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 0}}, {'id': 1753902702794239, 'score': 0.694821, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_8', 'type': 'pdf', 'content': 'cool and warm the climateThe microphysics responsible for cloud formation is not well understoodThe grid cells in models are much much bigger than time/space scales relevant for cloud physicsÞMagnitude/location of rain events is hard to predict wellÞThat information is useful though!\\nComparing models with data•What is a data point? Observation vs model result•Are model solutions at a point similar toa data point (i.e.observational sample)?–Spatially?–Temporally?•Using data well is not a trivial ', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 8}}, {'id': 1753902300429530, 'score': 0.6922405, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_6', 'type': 'pdf', 'content': 'ce scales of interest–Integration time step–Spatial resolution of the grid–Duration of model run–Decisions about time/space scales also translate into “filtering” the equations •(parts of the equations can be neglected and the equations simplified –some physics can be neglected/simplified)\\nWhy model climate?\\n\\nWeather and climate –bridging the gap\\n\\n\\nWhat are coupledclimatemodels?\\n\\nA few key major coupling mechanisms between the ocean and the atmosphere\\nThe “coupler” is the heart of climate models', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 6}}, {'id': 1753901956917450, 'score': 0.68040705, 'payload': {'original_id': 'uploads\\\\01v1_Why_climate_data.pdf_chunk_3', 'type': 'pdf', 'content': ' technology options)\\n\\nUsing climate models: variability(temporal, spatial)\\nImportance of experimental design!Control+ experiment\\nUsing climate models: uncertainties and sensitivities\\nMIP = Model Intercomparison Project\\nEyring et al. 2016\\nUsing climate models: uncertainties and sensitivities\\nhttps://en.wikipedia.org/wiki/Climate_ensembleDifferent experimentswith many ensembles!Each one trying to account for sensitivity due to a source of error Real world data: we only have one Earth, ONE realizat', 'source_document': 'uploads\\\\01v1_Why_climate_data.pdf', 'chunk_number': 3}}, {'id': 1753902300472417, 'score': 0.67661375, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_1', 'type': 'pdf', 'content': 'ng physics)What are they for climate?\\nWhat does a model need?A very simple analytical exampleMany equations cannot be solved analytically…What do we have to do to solve them numerically?\\nii+1i+2…i-1i-2…Applies to time + 3D space\\nDiscretization\\nii+1i+2…i-1i-2…Applies to time + 3D spacedCdt=limΔt→0C(t+Δt)−C(t)ΔtdCdt≈C(t+Δt)−C(t)Δt,Δt>0ContinuumDiscrete(Taylor series expansion)\\nInpractice, this implies choices of Dx, Dy, Dz, Dt, size of the stencil, numerical stability, computational ability/costs,', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 1}}, {'id': 1753902299806645, 'score': 0.6741092, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_2', 'type': 'pdf', 'content': ' problem under study, etc.\\nWhat does a model need?A very simple numerical exampledCdt=λCCi+1−Citi+1−ti=λCiCi+1=Ci1+λΔt()dCdt=limΔt→0C(t+Δt)−C(t)ΔtRequires discretization of derivativesand numerical integration to step forward from tito tf=NDTForward difference(aka Forward Euler)[climatemodelsusemuchmorecomplex schemes]\\nii+1\\nWhat does a model need?Discretization needed to implement numericallydCdt=λCCi+1−CiΔt=λCi+1Ci+1=λΔtCi+1+CiCi+1=Ci11−λΔtBackward difference(aka backward Euler)Requires solving', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 2}}, {'id': 1753902702944729, 'score': 0.6717783, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_9', 'type': 'pdf', 'content': 'task. It requires understanding the model well and the data well–A trend towards “Observational System Simulation Experiments” (OSSE)–data assimilation (e.g.4DVAR)\\nThe role of observationsin modeling\\nhttp://www.climate.be/textbook/pdf/Chapter_3.pdf\\nModelsvs observations•There are data that are ’just’ observations•There are models that are ‘just’ models•There are models that are ‘assimilated with data’–Often called ‘Reanalysis Products’•(also used in weather forecasting, obviously)–These are mode', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 9}}, {'id': 1753902300206271, 'score': 0.6641816, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_0', 'type': 'pdf', 'content': 'Climate models –what are they?\\n…and different grids for different parts of the model:atmosphere, ocean, land, ice,…\\n\\nA bit of review: What do we need to make a model?(Any model, not necessarily a climate one)\\nWhat does a model need?A very simple analytical exampledCdt=λRequires equations (hypotheses about underlying physics)\\nWhat does a model need?A very simple analytical exampledCdt=λdCCoCf∫=λdttotf∫Cf=λtf−to()−CoRequires initial &boundary conditionsRequires equations (hypotheses about underlyi', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 0}}]",
      "[{'id': 1753902703503123, 'score': 0.71273804, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_1', 'type': 'pdf', 'content': 'model cannot model the effect of “Z” on climate as “W” has or may have an (unquantified) effect of the “Z” and may effectCO2or T, etc. … therefore climate models are useless\\nSome better propositions1.All models are “wrong” and “incomplete”(modeling with the sole goal of fitting data can be futile)(state-or-the-art models have many free parameters, uniqueness of the fit/solution is not always guaranteed –fit for wrong reason possible)2.Models have the merit of being internally consistent and poss', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 1}}, {'id': 1753901956917450, 'score': 0.691891, 'payload': {'original_id': 'uploads\\\\01v1_Why_climate_data.pdf_chunk_3', 'type': 'pdf', 'content': ' technology options)\\n\\nUsing climate models: variability(temporal, spatial)\\nImportance of experimental design!Control+ experiment\\nUsing climate models: uncertainties and sensitivities\\nMIP = Model Intercomparison Project\\nEyring et al. 2016\\nUsing climate models: uncertainties and sensitivities\\nhttps://en.wikipedia.org/wiki/Climate_ensembleDifferent experimentswith many ensembles!Each one trying to account for sensitivity due to a source of error Real world data: we only have one Earth, ONE realizat', 'source_document': 'uploads\\\\01v1_Why_climate_data.pdf', 'chunk_number': 3}}, {'id': 1753901956993712, 'score': 0.6905687, 'payload': {'original_id': 'uploads\\\\01v1_Why_climate_data.pdf_chunk_4', 'type': 'pdf', 'content': 'ionModel data: we do what the @#$ we want J!•…as long aswe can calculate it and analyze it•… and are aware of model flaws!\\nUsing climate models: attributionhttps://www.worldweatherattribution.org\\nhttps://www.swissre.com/media/news-releases/nr-20191219-global-catastrophes-estimate.htmlWhose faultis it?Who pays for it?Catastrophe-related insured losses (1970-2019)\\n\\nClimate extremes and climate risk•Magnitude•Frequency•Duration•Spatial extent•Whatvariable?–T, Precipitation, winds, sea level, etc.•H', 'source_document': 'uploads\\\\01v1_Why_climate_data.pdf', 'chunk_number': 4}}, {'id': 1753903424368210, 'score': 0.6880723, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_2_md', 'type': 'markdown', 'content': \"<a id='lectures'></a>\\n# Lecture on relevance of climate science, climate models and climate modelling\\n\\n\\n(see Powerpoint presentations)\\n\\n1. 01v1_Why_climate_data.pptx/pdf\\n2. 02v1_Building_climate_models.pptx/pdf\\n3. 03v1_Common_issues.pptx/pdf\\n   \\n\\n---\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 2}}, {'id': 1753903424509295, 'score': 0.6855423, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_1_md', 'type': 'markdown', 'content': \"---\\n\\n# 01- Introduction to climate data and climate models\\n\\n---\\n\\n<a id='Contents'></a>\\n## Contents\\n- [Lectures](#lectures)\\n- [Question](#question)\\n- [ESMValTool](#ESMValTool)\\n- [Sources of climate data](#climatedata)\\n- [CEDA](#CEDA)\\n- [File formats](#fileformat)\\n- [Metadata](#metadata)\\n- [NetCDF](#NetCDF)\\n- [NCO](#NCO)\\n- [Reanalysis products](#reanalysis)\\n- [Climate services UKCP18](#ukcp18)\\n  \\n## Learning outcomes\\n1. Understand the basics of climate modelling\\n2. Know where to find and how to access climate data (ESGF, CEDA)\\n3. Understand common file formats\\n4. Understand the importance of metadata and understand CF conventions\\n5. Understand the NetCDF file format and know how to read, create and maniputate NetCDF data\\n6. Become familiar with other key tools used to manipulate netCDF data (NCO, CDO)\\n7. Know how to access ERA5 reanalysis products\\n8. Climate Services and UKCP18 and ability to access that data\\n\\n---\\n\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 1}}, {'id': 1753902702922525, 'score': 0.67808783, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_0', 'type': 'pdf', 'content': 'Are climate models any good or useful at all?\\nhttps://www.gfdl.noaa.gov/visualizations-hurricanes/\\nData or model?\\nCommon misconceptions about modeling1.The goal of modeling is to reproduce data2.If a model doesn’t fit the data, the model is useless (…and modeler also)3.Since modelers don’t measure anything, they don’t know anything about data or care about them4.Measurement(s) of “X” can be used to better constrain climate models5.Process “W” is not explicitly implemented in the model,hence the ', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 0}}, {'id': 1753902300429530, 'score': 0.6756867, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_6', 'type': 'pdf', 'content': 'ce scales of interest–Integration time step–Spatial resolution of the grid–Duration of model run–Decisions about time/space scales also translate into “filtering” the equations •(parts of the equations can be neglected and the equations simplified –some physics can be neglected/simplified)\\nWhy model climate?\\n\\nWeather and climate –bridging the gap\\n\\n\\nWhat are coupledclimatemodels?\\n\\nA few key major coupling mechanisms between the ocean and the atmosphere\\nThe “coupler” is the heart of climate models', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 6}}, {'id': 1753902702944729, 'score': 0.6695652, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_9', 'type': 'pdf', 'content': 'task. It requires understanding the model well and the data well–A trend towards “Observational System Simulation Experiments” (OSSE)–data assimilation (e.g.4DVAR)\\nThe role of observationsin modeling\\nhttp://www.climate.be/textbook/pdf/Chapter_3.pdf\\nModelsvs observations•There are data that are ’just’ observations•There are models that are ‘just’ models•There are models that are ‘assimilated with data’–Often called ‘Reanalysis Products’•(also used in weather forecasting, obviously)–These are mode', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 9}}, {'id': 1753902299806645, 'score': 0.66782606, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_2', 'type': 'pdf', 'content': ' problem under study, etc.\\nWhat does a model need?A very simple numerical exampledCdt=λCCi+1−Citi+1−ti=λCiCi+1=Ci1+λΔt()dCdt=limΔt→0C(t+Δt)−C(t)ΔtRequires discretization of derivativesand numerical integration to step forward from tito tf=NDTForward difference(aka Forward Euler)[climatemodelsusemuchmorecomplex schemes]\\nii+1\\nWhat does a model need?Discretization needed to implement numericallydCdt=λCCi+1−CiΔt=λCi+1Ci+1=λΔtCi+1+CiCi+1=Ci11−λΔtBackward difference(aka backward Euler)Requires solving', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 2}}, {'id': 1753902702794239, 'score': 0.6634369, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_8', 'type': 'pdf', 'content': 'cool and warm the climateThe microphysics responsible for cloud formation is not well understoodThe grid cells in models are much much bigger than time/space scales relevant for cloud physicsÞMagnitude/location of rain events is hard to predict wellÞThat information is useful though!\\nComparing models with data•What is a data point? Observation vs model result•Are model solutions at a point similar toa data point (i.e.observational sample)?–Spatially?–Temporally?•Using data well is not a trivial ', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 8}}]",
      "[{'id': 1753902702794239, 'score': 0.7025914, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_8', 'type': 'pdf', 'content': 'cool and warm the climateThe microphysics responsible for cloud formation is not well understoodThe grid cells in models are much much bigger than time/space scales relevant for cloud physicsÞMagnitude/location of rain events is hard to predict wellÞThat information is useful though!\\nComparing models with data•What is a data point? Observation vs model result•Are model solutions at a point similar toa data point (i.e.observational sample)?–Spatially?–Temporally?•Using data well is not a trivial ', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 8}}, {'id': 1753902703503123, 'score': 0.69727457, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_1', 'type': 'pdf', 'content': 'model cannot model the effect of “Z” on climate as “W” has or may have an (unquantified) effect of the “Z” and may effectCO2or T, etc. … therefore climate models are useless\\nSome better propositions1.All models are “wrong” and “incomplete”(modeling with the sole goal of fitting data can be futile)(state-or-the-art models have many free parameters, uniqueness of the fit/solution is not always guaranteed –fit for wrong reason possible)2.Models have the merit of being internally consistent and poss', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 1}}, {'id': 1753902300429530, 'score': 0.6801878, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_6', 'type': 'pdf', 'content': 'ce scales of interest–Integration time step–Spatial resolution of the grid–Duration of model run–Decisions about time/space scales also translate into “filtering” the equations •(parts of the equations can be neglected and the equations simplified –some physics can be neglected/simplified)\\nWhy model climate?\\n\\nWeather and climate –bridging the gap\\n\\n\\nWhat are coupledclimatemodels?\\n\\nA few key major coupling mechanisms between the ocean and the atmosphere\\nThe “coupler” is the heart of climate models', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 6}}, {'id': 1753901956917450, 'score': 0.6612638, 'payload': {'original_id': 'uploads\\\\01v1_Why_climate_data.pdf_chunk_3', 'type': 'pdf', 'content': ' technology options)\\n\\nUsing climate models: variability(temporal, spatial)\\nImportance of experimental design!Control+ experiment\\nUsing climate models: uncertainties and sensitivities\\nMIP = Model Intercomparison Project\\nEyring et al. 2016\\nUsing climate models: uncertainties and sensitivities\\nhttps://en.wikipedia.org/wiki/Climate_ensembleDifferent experimentswith many ensembles!Each one trying to account for sensitivity due to a source of error Real world data: we only have one Earth, ONE realizat', 'source_document': 'uploads\\\\01v1_Why_climate_data.pdf', 'chunk_number': 3}}, {'id': 1753902702697836, 'score': 0.6580611, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_5', 'type': 'pdf', 'content': 'ent become stronger (strong exchange, although on shorter spatial scales, e.g.air-sea heat fluxes)•Better agreement with the way data are collected (i.e.what observations mean)–Averaging over space/time and variabilityhttps://www.gfdl.noaa.gov/climate-modeling/\\nGulf Stream\\nLabrador Sea~100km cells~10km cells\\nOcean resolution: 2 casesresolving eddies (the ocean’ storms)\\nFigure 6.1. Surface-Current Speed in Two Simulations of the Southern Ocean in Low-and High-Resolution Ocean Models.[From Fig. 6 ', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 5}}, {'id': 1753902703457059, 'score': 0.642573, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_6', 'type': 'pdf', 'content': 'in R. Hallbergand A. Gnanadesikam2006:The role of eddies in determining the structure and response of the wind-driven Southern Hemisphere overturning: Results from the modeling eddies in the Southern Ocean (MESO) project. J. Physical Oceanography, 36, 2232–2252. Reproduced by permission of the American Meteorological Society (AMS).]\\nAtmospheric resolution: 3 casesWhat are implications for interpretation, decision/policy making?\\nCaliforniaCalifornia\\nCaliforniaCalifornia\\nThe atmosphere matters …a ', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 6}}, {'id': 1753902702922525, 'score': 0.6420787, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_0', 'type': 'pdf', 'content': 'Are climate models any good or useful at all?\\nhttps://www.gfdl.noaa.gov/visualizations-hurricanes/\\nData or model?\\nCommon misconceptions about modeling1.The goal of modeling is to reproduce data2.If a model doesn’t fit the data, the model is useless (…and modeler also)3.Since modelers don’t measure anything, they don’t know anything about data or care about them4.Measurement(s) of “X” can be used to better constrain climate models5.Process “W” is not explicitly implemented in the model,hence the ', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 0}}, {'id': 1753902702662417, 'score': 0.63006043, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_10', 'type': 'pdf', 'content': 'ls that are ‘fitted’ to data•Some model parameters are tuned to fit–Question is what to fit/how? (Data assimilation, 4DVAR)–Provide best gridded high-resolution spatio-temporal product available … but:•they are still model results–Fitting a bad/wrong model still is a bad results•they only exist for the period when data exist–so cannot be used for forecasting–But extremely useful to understand past/current climate patterns/variability\\nAre models ever “right”?•Since models are incomplete by constr', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 10}}, {'id': 1753902702944729, 'score': 0.6286814, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_9', 'type': 'pdf', 'content': 'task. It requires understanding the model well and the data well–A trend towards “Observational System Simulation Experiments” (OSSE)–data assimilation (e.g.4DVAR)\\nThe role of observationsin modeling\\nhttp://www.climate.be/textbook/pdf/Chapter_3.pdf\\nModelsvs observations•There are data that are ’just’ observations•There are models that are ‘just’ models•There are models that are ‘assimilated with data’–Often called ‘Reanalysis Products’•(also used in weather forecasting, obviously)–These are mode', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 9}}, {'id': 1753902703274403, 'score': 0.6255554, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_4', 'type': 'pdf', 'content': 'solving dynamical equations–Smaller discretization steps•Better representation of topography/bathymetry (mountains, islands, seamounts…)–Grid-boxes have vertical walls (depends on coordinate system)•Explicit inclusion of subgrid-scale processes–Parameterizing vs. resolving (e.g.eddies, overflows, etc)•Property gradients can be larger –Affects pressure gradients (i.e.velocity of currents)–Model becomes more advective and less diffusive, maybe more turbulent–Exchange-processes that depend on gradi', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 4}}]",
      "[{'id': 1753901956917450, 'score': 0.73238164, 'payload': {'original_id': 'uploads\\\\01v1_Why_climate_data.pdf_chunk_3', 'type': 'pdf', 'content': ' technology options)\\n\\nUsing climate models: variability(temporal, spatial)\\nImportance of experimental design!Control+ experiment\\nUsing climate models: uncertainties and sensitivities\\nMIP = Model Intercomparison Project\\nEyring et al. 2016\\nUsing climate models: uncertainties and sensitivities\\nhttps://en.wikipedia.org/wiki/Climate_ensembleDifferent experimentswith many ensembles!Each one trying to account for sensitivity due to a source of error Real world data: we only have one Earth, ONE realizat', 'source_document': 'uploads\\\\01v1_Why_climate_data.pdf', 'chunk_number': 3}}, {'id': 1753902702794239, 'score': 0.7145361, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_8', 'type': 'pdf', 'content': 'cool and warm the climateThe microphysics responsible for cloud formation is not well understoodThe grid cells in models are much much bigger than time/space scales relevant for cloud physicsÞMagnitude/location of rain events is hard to predict wellÞThat information is useful though!\\nComparing models with data•What is a data point? Observation vs model result•Are model solutions at a point similar toa data point (i.e.observational sample)?–Spatially?–Temporally?•Using data well is not a trivial ', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 8}}, {'id': 1753902300429530, 'score': 0.6964915, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_6', 'type': 'pdf', 'content': 'ce scales of interest–Integration time step–Spatial resolution of the grid–Duration of model run–Decisions about time/space scales also translate into “filtering” the equations •(parts of the equations can be neglected and the equations simplified –some physics can be neglected/simplified)\\nWhy model climate?\\n\\nWeather and climate –bridging the gap\\n\\n\\nWhat are coupledclimatemodels?\\n\\nA few key major coupling mechanisms between the ocean and the atmosphere\\nThe “coupler” is the heart of climate models', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 6}}, {'id': 1753902702662417, 'score': 0.69509494, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_10', 'type': 'pdf', 'content': 'ls that are ‘fitted’ to data•Some model parameters are tuned to fit–Question is what to fit/how? (Data assimilation, 4DVAR)–Provide best gridded high-resolution spatio-temporal product available … but:•they are still model results–Fitting a bad/wrong model still is a bad results•they only exist for the period when data exist–so cannot be used for forecasting–But extremely useful to understand past/current climate patterns/variability\\nAre models ever “right”?•Since models are incomplete by constr', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 10}}, {'id': 1753902703503123, 'score': 0.68893003, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_1', 'type': 'pdf', 'content': 'model cannot model the effect of “Z” on climate as “W” has or may have an (unquantified) effect of the “Z” and may effectCO2or T, etc. … therefore climate models are useless\\nSome better propositions1.All models are “wrong” and “incomplete”(modeling with the sole goal of fitting data can be futile)(state-or-the-art models have many free parameters, uniqueness of the fit/solution is not always guaranteed –fit for wrong reason possible)2.Models have the merit of being internally consistent and poss', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 1}}, {'id': 1753902702944729, 'score': 0.68305427, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_9', 'type': 'pdf', 'content': 'task. It requires understanding the model well and the data well–A trend towards “Observational System Simulation Experiments” (OSSE)–data assimilation (e.g.4DVAR)\\nThe role of observationsin modeling\\nhttp://www.climate.be/textbook/pdf/Chapter_3.pdf\\nModelsvs observations•There are data that are ’just’ observations•There are models that are ‘just’ models•There are models that are ‘assimilated with data’–Often called ‘Reanalysis Products’•(also used in weather forecasting, obviously)–These are mode', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 9}}, {'id': 1753903424509295, 'score': 0.67441785, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_1_md', 'type': 'markdown', 'content': \"---\\n\\n# 01- Introduction to climate data and climate models\\n\\n---\\n\\n<a id='Contents'></a>\\n## Contents\\n- [Lectures](#lectures)\\n- [Question](#question)\\n- [ESMValTool](#ESMValTool)\\n- [Sources of climate data](#climatedata)\\n- [CEDA](#CEDA)\\n- [File formats](#fileformat)\\n- [Metadata](#metadata)\\n- [NetCDF](#NetCDF)\\n- [NCO](#NCO)\\n- [Reanalysis products](#reanalysis)\\n- [Climate services UKCP18](#ukcp18)\\n  \\n## Learning outcomes\\n1. Understand the basics of climate modelling\\n2. Know where to find and how to access climate data (ESGF, CEDA)\\n3. Understand common file formats\\n4. Understand the importance of metadata and understand CF conventions\\n5. Understand the NetCDF file format and know how to read, create and maniputate NetCDF data\\n6. Become familiar with other key tools used to manipulate netCDF data (NCO, CDO)\\n7. Know how to access ERA5 reanalysis products\\n8. Climate Services and UKCP18 and ability to access that data\\n\\n---\\n\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 1}}, {'id': 1753903424142956, 'score': 0.665864, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_4_md', 'type': 'markdown', 'content': \"<a id='ESMValTool'></a>\\n\\n# Python environments to consider for working with climate data \\n\\n* ## Earth System Model Evaluation Tool (ESMValTool)\\n![esmvaltool](img/ESMValTool-logo-2.png)\\n\\nThis week, it should be possible to simply install packages as needed...\\n\\nHowever, if you anticipate possible future needs, you may want to invest a bit of effort to setup a specific python environment to work with climate data. If so, a good place to start is the `ESMValTool` project. \\n\\n\\n\\n[ESMValTool](https://docs.esmvaltool.org/projects/esmvalcore/en/latest/index.html) is  a community-led, open source, set of software tools (build on python 3) developed to improve diagnosing and understanding climate models. While the focus has been on climate models, not observations, one cannot quantify model biases without also comparing the model results with observations. [ESMValTool](https://docs.esmvaltool.org/projects/esmvalcore/en/latest/index.html) therefore also has some capability to analyze and manipulate large datasets. \\n\\n[ESMValTool](https://docs.esmvaltool.org/projects/esmvalcore/en/latest/index.html) can work offline, but as the amount of climate data is so large, it is mostly designed to work with data centers that provide local access to the vast amount of data. One such initiative is the Earth System Grid Federation ([ESGF](https://esgf.llnl.gov)). ESMValTool provides functionality to work on HPC systems.\\n\\nWe will not use ESMValTool here specifically, but it will install other convenient tools and you may be curious to investigate ESMValTool capabilities on your own anyways. It is now used routinely for climate modelling research. \\n\\nAdditional information and help can be found at https://www.esmvaltoolorg, and on the [ESMValGroup](https://github.com/ESMValGroup) github page. The [ESMValTool tutorial](https://esmvalgroup.github.io/ESMValTool_Tutorial/) is a great resource to get started. \\n\\n\\n### OPTIONAL: Installing ESMValTool (NB: this often fails for students - installing this is not required for the course)\\n[Installation instructions](https://docs.esmvaltool.org/en/latest/quickstart/installation.html) differ by operating system and it is very much an experimental, in development, tool - keep this in mind! \\n\\n[Notes:ESMValTool 2.0 requires a Unix(-like) operating system and Python 3.7+. (Python 3.7, 3.8 and 3.9 are supported). On my laptop (Macbook pro 13'' M1 2020 with OS Monterey 12.0.1), I installed it in Nov 2021 with Python 3.9.7. ...but I installed it when 'conda' was still an installation option. ESMValTool developer have  changed installation methods to `mamba` recently. Do refer to online/official instructions). You will now be required to also [install `mamba`](https://docs.esmvaltool.org/en/latest/quickstart/installation.html#mamba-installation) first (...yet another package/dependency manager).] \\n\\nESMValTool can also work with Julia, R, NCL. Do check installation instructions for these extensions. \\n\\n[back to contents](##Contents)\\n\\n---\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 4}}, {'id': 1753902702922525, 'score': 0.6627996, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_0', 'type': 'pdf', 'content': 'Are climate models any good or useful at all?\\nhttps://www.gfdl.noaa.gov/visualizations-hurricanes/\\nData or model?\\nCommon misconceptions about modeling1.The goal of modeling is to reproduce data2.If a model doesn’t fit the data, the model is useless (…and modeler also)3.Since modelers don’t measure anything, they don’t know anything about data or care about them4.Measurement(s) of “X” can be used to better constrain climate models5.Process “W” is not explicitly implemented in the model,hence the ', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 0}}, {'id': 1753903424623019, 'score': 0.6616773, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_37_md', 'type': 'markdown', 'content': \"### Climate Data Operators (CDO)\\nThe Climate Data Operators ([CDO](https://code.mpimet.mpg.de/projects/cdo)) software is a collection of >600 operators for standard processing of climate and forecast model data. They are slighly less memory/speed efficient than NCO, but they do more (>600 vs 12!). CDO support the main data formats used in the field, such as GRIB and netCDF. \\n\\nThey too can be daisy-chained for specific applications. There are [many recipes available](https://code.mpimet.mpg.de/projects/cdo/embedded/cdo_eca.pdf) to calculate various climate indices and diagnostics, what makes them very attractive to evaluate gridded climate data or climate model output.\\n\\nThe [CDO user guide](https://code.mpimet.mpg.de/projects/cdo/embedded/index.html) provides details instructions and examples. \\n\\n[They are also very useful, but we don't have time to discuss them in detail here. You are encouraged to practice with CDO on your own time]\\n\\n[back to contents](#Contents)\\n\\n---\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 37}}]",
      "[{'id': 1753902300429530, 'score': 0.67082596, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_6', 'type': 'pdf', 'content': 'ce scales of interest–Integration time step–Spatial resolution of the grid–Duration of model run–Decisions about time/space scales also translate into “filtering” the equations •(parts of the equations can be neglected and the equations simplified –some physics can be neglected/simplified)\\nWhy model climate?\\n\\nWeather and climate –bridging the gap\\n\\n\\nWhat are coupledclimatemodels?\\n\\nA few key major coupling mechanisms between the ocean and the atmosphere\\nThe “coupler” is the heart of climate models', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 6}}, {'id': 1753903424448348, 'score': 0.67064023, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_46_md', 'type': 'markdown', 'content': '<a id=\\'ukcp18\\'></a>\\n# Towards Climate Services\\n\\n\\n* ## UKCP18: latest high resolution model output for the UK\\n[UKCP](https://www.metoffice.gov.uk/research/approach/collaboration/ukcp/index) stands for UK Climate Projections. UKCPs uses climate models to provide the most up-to-date assessment of how the UK climate may change in the future. \\n\\n[UKCP18](https://www.metoffice.gov.uk/research/approach/collaboration/ukcp/about) represents a set of high resolution climate projections for the UK and the globe (\\'18\\' because this was released in 2018). It is an update of UKCP09 (done in 2009). \\n\\nUKCP18 provides model projections of climate change until 2100 over the UK at resolutions ranging from 2.2km, 12km, and also provides global projections at 60km resolution. Although 2.2km resolution is only available in some region, we note that is rougly the resolution used for weather forecasting! ... but in this case, the forecasts were carried forward for about a century (i.e. that\\'s a lot of data)! This nesting, or resolution enhancement, allows the model to resolve localised high-impact events, such as heavy rainfalls. UKCP18 also comes with a set of marine projections of sea-level rise and storm surge. \\n\\nAlthough UKCP18 is \\'just\\' a model product, it is based on consistent physics and the products presents the best tool available today to try to tease out the likely effect of climate change on the UK in the next few decades. [UKCP18](https://www.metoffice.gov.uk/research/approach/collaboration/ukcp/about)  simulations are intented as a tool to help decision-makers in the UK to assess exposure to climate risk.  It is part of the Met Office Hadley Centre Climate Programme.\\n\\n### Accessing UKCP18 data\\n\\nInstructions for downloading UKCP18 data are available [here](https://www.metoffice.gov.uk/research/approach/collaboration/ukcp/download-data). The UKCP18 project provides a [web-interface](https://ukclimateprojections-ui.metoffice.gov.uk/ui/home) to facilitate data download, but this doesn\\'t contain all the data. The full data is accessible from [CEDA](http://catalogue.ceda.ac.uk/?q=ukcp18&sort_by=). \\n\\nAccessing the data through the web-interface requires registration (this only takes a few minutes).\\n\\nThere is also a UKCP Web Processing Service (WPS) that can be used to build Apps, and a python [API](https://ukclimateprojections-ui.metoffice.gov.uk/help/api), [`ukcp-api-client`](https://github.com/ukcp-data/ukcp-api-client), is available from git that allows remote applications to talk directly to the UKCP service to submit requests for products.   \\n\\n[Data availability](https://www.metoffice.gov.uk/binaries/content/assets/metofficegovuk/pdf/research/ukcp/ukcp18_data_availability_jul-2021.pdf): The resolution (temporal and spatial) of data available to download varies between domain (ocean, land, atmosphere) and what is available depends on what service is used to access the data (the full archive is available through CEDA...but this may not be the easiest way depending on what information we are looking for!)\\n\\n### Example: will the weather become rainier over Imperial College London?\\nOur goal here is to dowload high temporal resoluttion model output, i.e. hourly data, from UKCP18, using the web-interface. \\nTo use the web-interface, first create an account and remember your login credentials. \\n\\n**ADVICE**: You are strongly encouraged to install/work with a [password manager](https://www.techradar.com/uk/best/password-manager) on your computer ... you will need to create lots of accounts when working with data! It is not advisable at all to reuse passwords for multiple data servcies as one cannot guarantee the safety of each data provider.  \\n\\nOnce you have your login account, login. We are now going to walk through the dowload procedure to access rainfall predictions for `Imperial College London`. \\n\\n Note, we will get the data for the RCP8.5 scenario, for two time periods, 1981-2000 and 2080-2100, and we are going to ask for the data to be saved in the CF-NetCDF format (i.e. netcdf file complient with CF conventions). Because we want two time periods, we would need to repeat the whole request procedure twice. \\n\\nTick the following boxes in \"Product Selection\":\\n1. Collection: Land projections: local (2.2km)\\n2. Scenario: RCP8.5 (more on what the scenario means later)\\n3. Output: Data only\\n4. Climate Change Type: Absolute values\\n   \\nThis will create a shortlist of datasets, shown on the right side. \\n1. Select **\"Data: Variables from local projections (2.2km) regridded to 5km over UK for subdaily data (hourly and 3-hourly)\"**. \\n2. Click on `View Details` and familiarize yourself with what the data contain. You will note the statement `We recommend that you consider results from more than one 5km grid box, i.e. you should also consider surrounding grid boxes.` Of course, the weather is highly variable, and in order to develop a spatially and temporally coherent picture of what climate change may look like in an area, in a way that account for uncertainties and variability, one should follow their advice. Because we are here only going through the process to illustrate how to get data, we will only ask for data from 1 grid box (i.e. the South Kensington area). Once you finish looking at the detail, go back (`click back` on your browser). \\n3. Assuming these are the data we want, click `Submit a Request`. \\n4. For \"Variable\", select `Precipitation rate (mm/day)`.\\n5. On the Map, click on the `red search button`, and type `Imperial College London`. Various choices come up, pick the first one. We note that all the options are within the same 5km by 5km grid cell anyways. Remember, we are working with gridded model products here, so there is no point in choosing a location with too much detail (i.e the model can\\'t differentiate between the Royal School or Mine or the Natural History Museum given the model resolution). \\n6. On the Map, click on the grid cell with Imperial College (the grid cell should be highlighted in blue).\\n7. For \"Temporal Average\", select `hourly`. This means we will get data for every hour (that\\'s a lot of data!).\\n8. For \"Time range\", we will select two periods: `1981-2000` and `2061-2080`.\\n9. The next pull-down menu asks which `ensemble member` we are interested in. Choose the first one `HadGEM3-GC3.05-r001i1p00000`. \"Ensembles\" are basically replicates. In this case, the model was run 12 times! Because the weather is turbulent, the results from each ensemble will vary! A complete assessement of uncertainties associated with these results would have to consider all available ensembles, and check that the conclusions of any analysis is consistently reproduced across the ensemble set, or report a probability stating how likely the outcome is. Since we are here only doing an example (and time is limited), we will only work with a single ensemble member. \\n10. For \"Data Format\", choose \"CV-netCDF\". As we know, netCDF files will come with a bunch of metadata, and this one is also conveniently compliant with \"CF conventions\" which would make automation of analysis easier. \\n11. Add a title for \"Job label\". Although optional, as a scientist, you will want to keep notes of what you are doing. One suggested title could be `EDSML_UKCP18_2061-2080_precip-hourly`. \\n12. Click `submit`. You will see that the web-interface now carries you to the next phase `generating output`. Don\\'t close your browser! By clicking submit, a reqest was made to fetch the data from the data archive and to put them in a file. This can take a few minutes (>5-10 min), be patient. \\n13. When ready, you will see a blue `Download` button. The file size should be about 1.4Mb (quite small, but only because we only selected data from 1 grid cell. If we were to do the analysis over the UK, the file would be much bigger!). This should look somethink like the following screenshot: \\n\\n![UKCP18download](img/UKCP18_download.png)\\n\\nNote the other tabs (Outputs, Job Details, ASCII, XML Response) and explore these. \\n\\n**Repeat steps 1-12**: After the data are downloaded, click on `Edit inputs` (bottom right). Because we are looking to dowload data from two periods, we\\'ll have to repeat the download precedure, making sure to select the correct time periods. Our goal will be to compare precipitation results over Imperial College from the historical period 1981-2000 with model prediction for the 2061-2080 period, assuming humanity achieves not reduction in greenhouse gas emissions (i.e. the RCP8.5 scenario is essentially a `buisness-as-usual scenario`).\\n\\nMake sure you move your downloaded files to a convenient folder, where you remember what these files are! (e.g. such as in an `output/` folder within this lecture folder)\\n\\n\\n[back to contents](#Contents)', 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 46}}, {'id': 1753903424509295, 'score': 0.6682657, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_1_md', 'type': 'markdown', 'content': \"---\\n\\n# 01- Introduction to climate data and climate models\\n\\n---\\n\\n<a id='Contents'></a>\\n## Contents\\n- [Lectures](#lectures)\\n- [Question](#question)\\n- [ESMValTool](#ESMValTool)\\n- [Sources of climate data](#climatedata)\\n- [CEDA](#CEDA)\\n- [File formats](#fileformat)\\n- [Metadata](#metadata)\\n- [NetCDF](#NetCDF)\\n- [NCO](#NCO)\\n- [Reanalysis products](#reanalysis)\\n- [Climate services UKCP18](#ukcp18)\\n  \\n## Learning outcomes\\n1. Understand the basics of climate modelling\\n2. Know where to find and how to access climate data (ESGF, CEDA)\\n3. Understand common file formats\\n4. Understand the importance of metadata and understand CF conventions\\n5. Understand the NetCDF file format and know how to read, create and maniputate NetCDF data\\n6. Become familiar with other key tools used to manipulate netCDF data (NCO, CDO)\\n7. Know how to access ERA5 reanalysis products\\n8. Climate Services and UKCP18 and ability to access that data\\n\\n---\\n\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 1}}, {'id': 1753901956917450, 'score': 0.6599553, 'payload': {'original_id': 'uploads\\\\01v1_Why_climate_data.pdf_chunk_3', 'type': 'pdf', 'content': ' technology options)\\n\\nUsing climate models: variability(temporal, spatial)\\nImportance of experimental design!Control+ experiment\\nUsing climate models: uncertainties and sensitivities\\nMIP = Model Intercomparison Project\\nEyring et al. 2016\\nUsing climate models: uncertainties and sensitivities\\nhttps://en.wikipedia.org/wiki/Climate_ensembleDifferent experimentswith many ensembles!Each one trying to account for sensitivity due to a source of error Real world data: we only have one Earth, ONE realizat', 'source_document': 'uploads\\\\01v1_Why_climate_data.pdf', 'chunk_number': 3}}, {'id': 1753902703503123, 'score': 0.6564242, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_1', 'type': 'pdf', 'content': 'model cannot model the effect of “Z” on climate as “W” has or may have an (unquantified) effect of the “Z” and may effectCO2or T, etc. … therefore climate models are useless\\nSome better propositions1.All models are “wrong” and “incomplete”(modeling with the sole goal of fitting data can be futile)(state-or-the-art models have many free parameters, uniqueness of the fit/solution is not always guaranteed –fit for wrong reason possible)2.Models have the merit of being internally consistent and poss', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 1}}, {'id': 1753903424368210, 'score': 0.65542656, 'payload': {'original_id': 'uploads\\\\intro_to_climatedata.ipynb_cell_2_md', 'type': 'markdown', 'content': \"<a id='lectures'></a>\\n# Lecture on relevance of climate science, climate models and climate modelling\\n\\n\\n(see Powerpoint presentations)\\n\\n1. 01v1_Why_climate_data.pptx/pdf\\n2. 02v1_Building_climate_models.pptx/pdf\\n3. 03v1_Common_issues.pptx/pdf\\n   \\n\\n---\", 'source_document': 'uploads\\\\intro_to_climatedata.ipynb', 'cell_number': 2}}, {'id': 1753902702944729, 'score': 0.64996684, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_9', 'type': 'pdf', 'content': 'task. It requires understanding the model well and the data well–A trend towards “Observational System Simulation Experiments” (OSSE)–data assimilation (e.g.4DVAR)\\nThe role of observationsin modeling\\nhttp://www.climate.be/textbook/pdf/Chapter_3.pdf\\nModelsvs observations•There are data that are ’just’ observations•There are models that are ‘just’ models•There are models that are ‘assimilated with data’–Often called ‘Reanalysis Products’•(also used in weather forecasting, obviously)–These are mode', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 9}}, {'id': 1753902702794239, 'score': 0.64926416, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_8', 'type': 'pdf', 'content': 'cool and warm the climateThe microphysics responsible for cloud formation is not well understoodThe grid cells in models are much much bigger than time/space scales relevant for cloud physicsÞMagnitude/location of rain events is hard to predict wellÞThat information is useful though!\\nComparing models with data•What is a data point? Observation vs model result•Are model solutions at a point similar toa data point (i.e.observational sample)?–Spatially?–Temporally?•Using data well is not a trivial ', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 8}}, {'id': 1753901957273136, 'score': 0.64732003, 'payload': {'original_id': 'uploads\\\\01v1_Why_climate_data.pdf_chunk_6', 'type': 'pdf', 'content': 'now –probably lots of good opportunities in that sector!\\n\\nhttps://www.nature.com/articles/s41558-020-00984-6Fiedler et al. 2021 advocate for a reorganization of climate science highlighting the need for climate projection to be professionalized as an operational service (b)Climate services\\ni.e.the way the field of climate science works will evolve in the next few years\\n', 'source_document': 'uploads\\\\01v1_Why_climate_data.pdf', 'chunk_number': 6}}, {'id': 1753901956781118, 'score': 0.64550716, 'payload': {'original_id': 'uploads\\\\01v1_Why_climate_data.pdf_chunk_5', 'type': 'pdf', 'content': 'umans•Infrastructures•Agriculture•Biodiversity•Landscape•GDP•Administration•Policy•…\\nThe business (and opportunities) of climate\\nhttps://www.metoffice.gov.uk\\nhttps://cervest.earth\\nhttps://www.spglobal.com/marketintelligence/en/campaigns/esg-analysis\\nhttps://www.ukclimaterisk.org\\nhttps://www.ibm.com/uk-en/products/environmental-intelligence-suitehttps://www.rms.com/climate-change\\nBusiness riskand climate analyticshttps://www.nature.com/articles/s41558-020-00984-6… an emerging field! Get involved ', 'source_document': 'uploads\\\\01v1_Why_climate_data.pdf', 'chunk_number': 5}}]",
      "[{'id': 1753902703475561, 'score': 0.70080024, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_11', 'type': 'pdf', 'content': 'uction, what does “right” even mean?•What do we do if one model can represent a variable better but another variable worst?•A model can reproduce the mean state well but not the variability. Is it a “good” model?•What if model solution shows spatial and temporal patterns well, but is consistently offset?•Embrace/accept that sometimes the best we can do is to provide a probabilistic answer to questions\\nDifferent variablesDifferent modelsError relative to the multi-model meanLess than meanMore tha', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 11}}, {'id': 1753902703226725, 'score': 0.6971725, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_13', 'type': 'pdf', 'content': ' model do it all?Processes operate on various time/space scales\\nHigher resolution•(more data)•(local extremes)•(shorter simulation)•(no/few ensembles)Lower resolution•(fewer data)•(longer simulation)•(many ensembles)\\n\\nTake home messages•Models will always be imperfect (accept this!)–the challenge is to make them useful by keeping them as simple as possible in spite oftheir limitations •very difficult in practice, requires deep scientific knowledge•Understanding of the question and of the tools a', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 13}}, {'id': 1753902702991543, 'score': 0.68404984, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_2', 'type': 'pdf', 'content': 'ess fundamental conservation properties (mass, momentum, energy) that arm-wavy arguments do not have(It’s much easier to explain data with arm-wavy arguments)(…but models can provide means to test hypotheses)3.Models can be wrong in many different ways(figuring out why they are wrong is where learning occurs)(data come in to inform parameterizations and testing simulations)4.The skill of a “modeler/analyst” is less in knowing how to model (i.emath, computer science) and more in how to make usefu', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 2}}, {'id': 1753902703503123, 'score': 0.63249415, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_1', 'type': 'pdf', 'content': 'model cannot model the effect of “Z” on climate as “W” has or may have an (unquantified) effect of the “Z” and may effectCO2or T, etc. … therefore climate models are useless\\nSome better propositions1.All models are “wrong” and “incomplete”(modeling with the sole goal of fitting data can be futile)(state-or-the-art models have many free parameters, uniqueness of the fit/solution is not always guaranteed –fit for wrong reason possible)2.Models have the merit of being internally consistent and poss', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 1}}, {'id': 1753902703222464, 'score': 0.62469476, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_12', 'type': 'pdf', 'content': 'n meanModel performance and deciding which is the best model?Which is the best “Metric” -a judgment call?\\nInternal variability vs “forced” response?Ensemble simulations\\nRun 1, 2, 3 are ‘ensemble’ runsToday, 100s of ensemble runs can be generatedThat’s a lot of data!\\nAveraged surface temperature anomaly\\nWhat model for what process, for what analysis?Choosing the best model product for the jobIf simple works, go simple! (less data to process) –not everything has to be coupled all the time!\\nCan one', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 12}}, {'id': 1753902702794239, 'score': 0.61619043, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_8', 'type': 'pdf', 'content': 'cool and warm the climateThe microphysics responsible for cloud formation is not well understoodThe grid cells in models are much much bigger than time/space scales relevant for cloud physicsÞMagnitude/location of rain events is hard to predict wellÞThat information is useful though!\\nComparing models with data•What is a data point? Observation vs model result•Are model solutions at a point similar toa data point (i.e.observational sample)?–Spatially?–Temporally?•Using data well is not a trivial ', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 8}}, {'id': 1753902300119549, 'score': 0.60025877, 'payload': {'original_id': 'uploads\\\\02v1_Building_climate_models_copy.pdf_chunk_5', 'type': 'pdf', 'content': 'added)•flows forward, then flows backwards•Ideally,shouldreturntoinitialvalues•Deviations are indicative of numerical issues\\nTesting the numerical core…when we don’t have an exact solution to compare to\\nThis highlights the problem of numerical diffusionEach schemewillhaveitsownweaknesses andstrengths (and conservation properties)\\nWhat does a numericalmodel need?summary•Need equations (+ parameterizations)–Output = function(input)•Need a starting point–Boundary conditions•Must define time and spa', 'source_document': 'uploads\\\\02v1_Building_climate_models_copy.pdf', 'chunk_number': 5}}]",
      "[{'id': 1753902703222464, 'score': 0.7410157, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_12', 'type': 'pdf', 'content': 'n meanModel performance and deciding which is the best model?Which is the best “Metric” -a judgment call?\\nInternal variability vs “forced” response?Ensemble simulations\\nRun 1, 2, 3 are ‘ensemble’ runsToday, 100s of ensemble runs can be generatedThat’s a lot of data!\\nAveraged surface temperature anomaly\\nWhat model for what process, for what analysis?Choosing the best model product for the jobIf simple works, go simple! (less data to process) –not everything has to be coupled all the time!\\nCan one', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 12}}, {'id': 1753902703226725, 'score': 0.7193542, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_13', 'type': 'pdf', 'content': ' model do it all?Processes operate on various time/space scales\\nHigher resolution•(more data)•(local extremes)•(shorter simulation)•(no/few ensembles)Lower resolution•(fewer data)•(longer simulation)•(many ensembles)\\n\\nTake home messages•Models will always be imperfect (accept this!)–the challenge is to make them useful by keeping them as simple as possible in spite oftheir limitations •very difficult in practice, requires deep scientific knowledge•Understanding of the question and of the tools a', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 13}}, {'id': 1753901956917450, 'score': 0.7055925, 'payload': {'original_id': 'uploads\\\\01v1_Why_climate_data.pdf_chunk_3', 'type': 'pdf', 'content': ' technology options)\\n\\nUsing climate models: variability(temporal, spatial)\\nImportance of experimental design!Control+ experiment\\nUsing climate models: uncertainties and sensitivities\\nMIP = Model Intercomparison Project\\nEyring et al. 2016\\nUsing climate models: uncertainties and sensitivities\\nhttps://en.wikipedia.org/wiki/Climate_ensembleDifferent experimentswith many ensembles!Each one trying to account for sensitivity due to a source of error Real world data: we only have one Earth, ONE realizat', 'source_document': 'uploads\\\\01v1_Why_climate_data.pdf', 'chunk_number': 3}}, {'id': 1753902703272079, 'score': 0.6768645, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_14', 'type': 'pdf', 'content': 'vailable–The skill of the analyst is to know how far to push the interpretation and to select the correct model/simulations for the right question (exploit experimental design)•Main sources of uncertainties to consider•Numericsand choice of equations/implementation•Resolution•Parameterizations•Boundary conditions and forcing•Internal dynamics•Influence of uncertainties on final conclusions of analysis must be considered\\n\\n', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 14}}, {'id': 1753902703475561, 'score': 0.6660022, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_11', 'type': 'pdf', 'content': 'uction, what does “right” even mean?•What do we do if one model can represent a variable better but another variable worst?•A model can reproduce the mean state well but not the variability. Is it a “good” model?•What if model solution shows spatial and temporal patterns well, but is consistently offset?•Embrace/accept that sometimes the best we can do is to provide a probabilistic answer to questions\\nDifferent variablesDifferent modelsError relative to the multi-model meanLess than meanMore tha', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 11}}, {'id': 1753902702662417, 'score': 0.6601795, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_10', 'type': 'pdf', 'content': 'ls that are ‘fitted’ to data•Some model parameters are tuned to fit–Question is what to fit/how? (Data assimilation, 4DVAR)–Provide best gridded high-resolution spatio-temporal product available … but:•they are still model results–Fitting a bad/wrong model still is a bad results•they only exist for the period when data exist–so cannot be used for forecasting–But extremely useful to understand past/current climate patterns/variability\\nAre models ever “right”?•Since models are incomplete by constr', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 10}}, {'id': 1753901956747387, 'score': 0.653476, 'payload': {'original_id': 'uploads\\\\01v1_Why_climate_data.pdf_chunk_1', 'type': 'pdf', 'content': 'Identify and design suitable data analysis strategies that consider data types, data distribution constraints, strength, benefits and limitations of statistical and modelling tools and environmental dynamics.4. Understand the limitation of available data and data analysis products. Understand sources of errors and demonstrate ability to comprehensively characterize uncertainties and interpret results in the context of these uncertainties, including measurement errors, environmental uncertainties', 'source_document': 'uploads\\\\01v1_Why_climate_data.pdf', 'chunk_number': 1}}, {'id': 1753902702944729, 'score': 0.65196, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_9', 'type': 'pdf', 'content': 'task. It requires understanding the model well and the data well–A trend towards “Observational System Simulation Experiments” (OSSE)–data assimilation (e.g.4DVAR)\\nThe role of observationsin modeling\\nhttp://www.climate.be/textbook/pdf/Chapter_3.pdf\\nModelsvs observations•There are data that are ’just’ observations•There are models that are ‘just’ models•There are models that are ‘assimilated with data’–Often called ‘Reanalysis Products’•(also used in weather forecasting, obviously)–These are mode', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 9}}, {'id': 1753902703274403, 'score': 0.6511593, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_4', 'type': 'pdf', 'content': 'solving dynamical equations–Smaller discretization steps•Better representation of topography/bathymetry (mountains, islands, seamounts…)–Grid-boxes have vertical walls (depends on coordinate system)•Explicit inclusion of subgrid-scale processes–Parameterizing vs. resolving (e.g.eddies, overflows, etc)•Property gradients can be larger –Affects pressure gradients (i.e.velocity of currents)–Model becomes more advective and less diffusive, maybe more turbulent–Exchange-processes that depend on gradi', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 4}}, {'id': 1753902702794239, 'score': 0.64690053, 'payload': {'original_id': 'uploads\\\\03v1_Common_issues.pdf_chunk_8', 'type': 'pdf', 'content': 'cool and warm the climateThe microphysics responsible for cloud formation is not well understoodThe grid cells in models are much much bigger than time/space scales relevant for cloud physicsÞMagnitude/location of rain events is hard to predict wellÞThat information is useful though!\\nComparing models with data•What is a data point? Observation vs model result•Are model solutions at a point similar toa data point (i.e.observational sample)?–Spatially?–Temporally?•Using data well is not a trivial ', 'source_document': 'uploads\\\\03v1_Common_issues.pdf', 'chunk_number': 8}}]"
    ],
    "response": "The documents provided cover a comprehensive range of topics essential for understanding climate modeling. Here's an organized summary",
    "reference": "Agreeing is reasonable because climate models are inherently simplifications with assumptions and limitations, but they are internally consistent and help test hypotheses, forecast trends, and support policy decisions.",
    "iteration_scores": [
      {
        "iteration": 1,
        "decomposition": 8.0,
        "retrieval": 3.7142857142857144,
        "generation": 1.7,
        "total": 4.4714285714285715
      },
      {
        "iteration": 2,
        "decomposition": 7.0,
        "retrieval": 5.857142857142857,
        "generation": 1.0,
        "total": 4.6190476190476195
      },
      {
        "iteration": 3,
        "decomposition": 10.0,
        "retrieval": 6.142857142857143,
        "generation": 2.4000000000000004,
        "total": 6.180952380952381
      }
    ]
  }
]